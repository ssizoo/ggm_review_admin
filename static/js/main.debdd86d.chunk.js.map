{"version":3,"sources":["lib/history.js","lib/saga/reduxActionUtils.js","modules/core/account/store.js","modules/core/app/store.js","lib/token.js","lib/request/getCheckedToken.js","modules/core/app/containers/AppLoader/AppLoader.jsx","modules/core/account/components/Login/Login.jsx","modules/core/account/containers/LoginPage/LoginPage.jsx","components/Common/Page/Page.jsx","lib/request/axios.js","lib/request/requestErrorHandler.js","lib/request/request.js","modules/core/account/api.js","lib/message.js","modules/core/agencies/store.js","modules/core/agencies/components/AgencyForm/AgencyForm.jsx","lib/format.js","modules/core/agencies/components/AgencyList/AgencyList.jsx","modules/core/ceos/components/CeoForm/CeoForm.jsx","modules/core/ceos/store.js","modules/core/agencies/containers/AgenciesPage/AgenciesPage.jsx","modules/core/ceos/components/CeoList/CeoList.jsx","modules/core/ceos/api.js","modules/core/ceos/components/CashModal/CashModal.jsx","modules/stores/components/StoreForm/StoreForm.jsx","modules/stores/store.js","modules/core/ceos/containers/CeosPage/CeosPage.jsx","modules/core/layout/components/AdminLayout/PasswordModal/PasswordModal.jsx","modules/core/layout/components/AdminLayout/AdminLayout.jsx","modules/core/layout/components/AdminLayout/logo.png","modules/core/layout/components/AdminLayout/DefaultLayout.jsx","modules/stores/api.js","modules/stores/components/StoreList/StoreList.jsx","modules/stores/components/StoreSearch/StoreSearch.jsx","modules/stores/components/GifticonModal/StoreGifticon/StoreGifticon.jsx","modules/stores/components/CashModal/CashModal.jsx","modules/stores/components/GifticonModal/GifticonModal.jsx","modules/stores/containers/StoresPage/StoresPage.jsx","modules/reviews/api.js","modules/reviews/components/ReviewList/ReviewList.jsx","modules/gifticons/api.js","modules/gifticons/components/GifticonList/GifticonList.jsx","modules/gifticons/containers/GifticonsPage/GifticonsPage.jsx","modules/pages/StoreServicePolicy/StoreServicePolicy.jsx","Routes.js","modules/reviews/containers/ReviewsPage/ReviewsPage.jsx","modules/core/app/sagas.js","modules/core/account/sagas.js","modules/core/agencies/api.js","lib/saga/apiSaga.js","modules/core/agencies/sagas.js","modules/core/ceos/sagas.js","modules/core/index.js","store/rootReducer.js","modules/stores/sagas.js","store/rootSaga.js","store/index.js","App.js","serviceWorker.js","index.js"],"names":["createBrowserHistory","makeAsyncActionsTypes","prefix","actionName","INDEX","REQUEST","SUCCESS","FAIL","makeActionCreator","actionType","payload","type","makeAsyncActionCreator","actions","actionCreator","request","success","fail","actionTypes","TOKEN_LOGIN","LOGIN","JOIN","LOGOUT","FETCH_USER","SET_USER","tokenLogin","login","join","logout","initialState","loading","user","error","reducer","state","action","LOADING","LOADED","SET_TOKEN","UNSET_TOKEN","setLoaded","setToken","unSetToken","loaded","token","process","localStorage","setItem","removeToken","removeItem","getRemember","getItem","getCheckedToken","decoded","jwt","decode","exp","Math","round","Date","getTime","remember","AppLoader","dispatch","useDispatch","isAuthenticated","useSelector","store","account","useEffect","localToken","toString","Login","handleSubmit","isMobile","links","useState","loginId","password","values","setValues","handleChange","e","target","name","checked","value","style","maxWidth","margin","padding","marginTop","marginBottom","textAlign","fontSize","fontWeight","color","className","Item","rules","required","message","UserOutlined","placeholder","onChange","size","LockOutlined","valuePropName","noStyle","htmlType","onClick","alert","block","connect","email","props","useMediaQuery","to","Content","Layout","Footer","Header","Page","children","header","footer","contentStyle","minHeight","baseURL","axios","fetch","create","interceptors","use","config","headers","Authorization","Promise","reject","setAuthHeader","defaults","ApiException","this","errors","status","requestErrorHandler","response","data","console","log","default","dataHandler","res","get","url","method","params","then","catch","errorHandler","post","put","del","multi","json","accountApi","getUser","forceLogin","id","FETCH_AGENCIES","FETCH_ONE_AGENCIES","CREATE_AGENCIES","UPDATE_AGENCIES","DELETE_AGENCIES","CLOSE_MODAL","OPEN_MODAL","REMOVE_ERROR","fetchAgencies","fetchOneAgencies","createAgencies","updateAgencies","deleteAgencies","closeModal","openModal","removeError","initialModalState","open","requesting","agency","agencies","modal","agenciesReducer","produce","draft","undefined","initialAgency","username","mobile","active","AgencyForm","handleClose","handleExit","handleCreate","handleUpdate","handleDelete","inputs","setInputs","handleInputChange","removeErrorWithName","createFooter","disabled","updateFooter","danger","Modal","confirm","title","icon","ExclamationCircleOutlined","content","okText","cancelText","onOk","visible","afterClose","onCancel","maskClosable","labelCol","span","wrapperCol","label","validateStatus","help","autoComplete","roles","admin","branche","customer","formatObj","date","format","datetime","phone","replace","role","shorten","str","max","length","substring","AgencyList","handleOpen","meta","handleAgencyCeos","handleAdd","handlePageChange","handleOpenCeoModal","openPasswordModal","setAgencies","map","isActive","defaultColumns","dataIndex","key","align","render","text","depth","ceoCount","displayCeoCount","index","display","justifyContent","columns","dataSource","rowKey","pagination","bordered","rowClassName","initialCeo","agencyId","CeoForm","ceo","FETCH_CEOS","FETCH_ONE_CEOS","CREATE_CEOS","UPDATE_CEOS","DELETE_CEOS","UPDATE_CASH","CLOSE_CASH_MODAL","OPEN_CASH_MODAL","fetchCeos","fetchOneCeos","createCeos","updateCeos","deleteCeos","updateCash","closeCashModal","openCashModal","initialCashModalState","file","ceos","search","cashModal","ceosReducer","total","per_page","current_page","AgenciesPage","history","ceoModal","api","setTimeout","window","location","href","page","omit","currentPage","queryString","stringify","push","openCeoModal","closeCeoModal","removeCeoError","CeoList","isAdmin","handleCeoStores","handleCashModalOpen","handleStoreModalOpen","displayCeoName","storeCount","ceoId","displayStoreCount","cash","cashNum","current","pageSize","showSizeChanger","ceosApi","fetchOne","update","delete","fetchCashes","Text","Typography","Option","Link","Select","initialCash","CashModal","setLoading","cashes","setCashes","currentCeo","setCurrentCeo","fetchCeo","finally","cashInputBefore","width","layout","gutter","paddingTop","flex","storeId","addonBefore","inputValue","test","scroll","y","ceoCash","createdAt","initialStore","StoreForm","isNew","FETCH_STORES","FETCH_ONE_STORES","CREATE_STORES","UPDATE_STORES","DELETE_STORES","SET_STORES_META","FETCH_PHOTOS","UPLOAD_PHOTOS","DELETE_PHOTOS","CLOSE_PHOTO_MODAL","OPEN_PHOTO_MODAL","UPDATE_RETURN","CLOSE_RETURN_MODAL","OPEN_RETURN_MODAL","CLOSE_GIFTICON_MODAL","OPEN_GIFTICON_MODAL","UPDATE_CONFIRM","UPDATE_CONFIRM2","RESET_UNREAD_NOTICE","fetchStores","fetchOneStores","createStores","updateStores","deleteStores","fetchPhotos","deletePhotos","updateReturn","REMOVE_PHOTO_ERROR","closeReturnModal","closeGifticonModal","openGifticonModal","updateConfirm","updateConfirm2","resetUnreadNotice","initialPhotoModalState","photos","initialReturnModalState","initialGifticonModalState","stores","regions","categories","payment","return","confirm2","region","coopangId","originalAgency","unreadNotice","photoModal","returnModal","confirmModal","confirm2Modal","gifticonModal","storesReducer","CeosPage","storeModal","_query","parse","openStoreModal","closeStoreModal","removeStoreError","initialInputs","Menu","SubMenu","Sider","old_password","new_password","new_password_confirm","PasswordModal","setRequesting","Password","getMenu","route","sidebar","path","DefaultLayout","handleLogout","routes","useHistory","passwordModalOpen","setPasswordModalOpen","minWidth","marginRight","theme","mode","selectedKeys","pathname","sub","getSubMenu","storesApi","fetchAll","fetchGifticons","updateStoreGifticon","deletePayment","yearMonth","addPayment","fetchStoreGifticons","addStoreGifticon","gifticonCode","deleteStoreGifticon","StoreList","downloading","handleGifticonModalOpen","handleSearch","gifticonCount","initialSearch","StoreSearch","setSearch","_search","StoreGifticon","gifticon","borderBottom","alt","src","qrPath","gifticonName","gifticonPrice","qrUrl","rel","qrShortUrl","float","initialGifticon","gifticonActive","GifticonModal","gifticons","setGifticons","storeGifticons","setStoreGifticons","item","code","find","con","discountPrice","StoresPage","reload","handleChangePayment","isPayed","sendGifticon","review","resendGifticon","cancelGifticon","initialPreview","ReviewList","reviews","setReviews","setPagenation","preview","setPreview","lastPage","last_page","perPage","storeName","storeActive","image","cursor","FileImageTwoTone","done","handleCancel","handleResend","handleSend","onVisibleChange","GifticonList","updateGifticon","results","setResults","filter","includes","defaultValue","initialGifticons","StoreServicePolicy","document","querySelector","innerText","adminRoutes","exact","component","sooRoutes","Routes","app","fixedAdminRoutes","LoginPage","clientSaga","resetToken","all","takeEvery","accountTypes","loginSaga","tokenLoignSaga","joinSaga","accountSagas","call","result","setTokenAction","failAction","takeLatest","agenciesApi","apiSaga","asyncAction","options","apiPayload","fetchAgenciesSaga","createAgenciesSaga","fetchOneAgenciesSaga","updateAgenciesSaga","deleteAgenciesSaga","agenciesSagas","fetchCeosSaga","createCeosSaga","fetchOneCeosSaga","updateCeosSaga","deleteCeosSaga","ceosSagas","sagas","reducers","appSagas","rootReducer","combineReducers","coreReducers","fetchStoresSaga","createStoresSaga","fetchOneStoresSaga","updateStoresSaga","deleteStoresSaga","fetchPhotosSaga","deletePhotosSaga","updateReturnSaga","updateConfirmSaga","updateConfirm2Saga","storesSagas","photoFetch","photoDelete","rootSaga","coreSagas","sagaMiddleware","createSagaMiddleware","composeSetup","compose","createStore","applyMiddleware","run","App","Boolean","hostname","match","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.debdd86d.chunk.js","sourcesContent":["import { createBrowserHistory } from 'history'\r\n\r\nexport default createBrowserHistory()\r\n","function makeAsyncActionsTypes(prefix, actionName) {\r\n  return {\r\n    INDEX: `${prefix}/${actionName}/INDEX`,\r\n    REQUEST: `${prefix}/${actionName}/REQUEST`,\r\n    SUCCESS: `${prefix}/${actionName}/SUCCESS`,\r\n    FAIL: `${prefix}/${actionName}/FAIL`,\r\n  };\r\n}\r\n\r\nfunction makeActionCreator(actionType) {\r\n  return (payload) => ({ type: actionType, payload });\r\n}\r\n\r\nfunction makeAsyncActionCreator(actions) {\r\n  let actionCreator = makeActionCreator(actions.INDEX);\r\n  actionCreator.request = makeActionCreator(actions.REQUEST);\r\n  actionCreator.success = makeActionCreator(actions.SUCCESS);\r\n  actionCreator.fail = makeActionCreator(actions.FAIL);\r\n  return actionCreator;\r\n}\r\n\r\nexport { makeAsyncActionsTypes, makeActionCreator, makeAsyncActionCreator };\r\n","import { makeAsyncActionsTypes, makeActionCreator, makeAsyncActionCreator } from 'lib/saga/reduxActionUtils'\r\n\r\nconst prefix = '@CORE/ACCOUNT'\r\n\r\nexport const actionTypes = {\r\n  TOKEN_LOGIN: makeAsyncActionsTypes(prefix, 'TOKEN_LOGIN'),\r\n  LOGIN: makeAsyncActionsTypes(prefix, 'LOGIN'),\r\n  JOIN: makeAsyncActionsTypes(prefix, 'JOIN'),\r\n  LOGOUT: `${prefix}LOGOUT`,\r\n  FETCH_USER: makeAsyncActionsTypes(prefix, 'FETCH_USER'),\r\n  SET_USER: makeActionCreator(prefix, 'SET_USER'),\r\n}\r\n\r\nexport const tokenLogin = makeAsyncActionCreator(actionTypes.TOKEN_LOGIN)\r\nexport const login = makeAsyncActionCreator(actionTypes.LOGIN)\r\nexport const join = makeAsyncActionCreator(actionTypes.JOIN)\r\nexport const logout = makeActionCreator(actionTypes.LOGOUT)\r\nexport const fetchUser = makeAsyncActionCreator(actionTypes.FETCH_USER)\r\nexport const setUser = makeAsyncActionCreator(actionTypes.SET_USER)\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  user: null,\r\n  error: null,\r\n  login: {\r\n    loading: false,\r\n    error: null,\r\n  },\r\n  join: {\r\n    loading: false,\r\n    error: null,\r\n  },\r\n}\r\n\r\nconst reducer = function (state = initialState, action) {\r\n  // console.log(action)\r\n  switch (action.type) {\r\n    //  토큰로그인\r\n    case actionTypes.TOKEN_LOGIN.INDEX:\r\n    case actionTypes.TOKEN_LOGIN.REQUEST:\r\n      return {\r\n        ...state,\r\n        login: { ...state.login, loading: true, error: null },\r\n      }\r\n    case actionTypes.TOKEN_LOGIN.SUCCESS:\r\n      return {\r\n        ...state,\r\n        user: action.payload.user,\r\n        login: { ...state.login, loading: false, error: null },\r\n      }\r\n    case actionTypes.TOKEN_LOGIN.FAIL:\r\n      return {\r\n        ...state,\r\n        user: action.payload.user,\r\n        login: { ...state.login, loading: false, error: action.payload.error },\r\n      }\r\n\r\n    // 로그인\r\n    case actionTypes.LOGIN.INDEX:\r\n    case actionTypes.LOGIN.REQUEST:\r\n      return {\r\n        ...state,\r\n        login: { ...state.login, loading: true, error: null },\r\n      }\r\n    case actionTypes.LOGIN.SUCCESS:\r\n      return {\r\n        ...state,\r\n        user: action.payload.user,\r\n        login: { ...state.login, loading: false, error: null },\r\n      }\r\n    case actionTypes.LOGIN.FAIL:\r\n      return {\r\n        ...state,\r\n        user: action.payload.user,\r\n        login: { ...state.login, loading: false, error: action.payload.error },\r\n      }\r\n\r\n    // 회원가입\r\n    case actionTypes.JOIN.INDEX:\r\n    case actionTypes.JOIN.REQUEST:\r\n      return {\r\n        ...state,\r\n        join: { ...state.join, loading: true, error: null },\r\n      }\r\n    case actionTypes.JOIN.SUCCESS:\r\n      return {\r\n        ...state,\r\n        user: action.payload.user,\r\n        join: { ...state.join, loading: false, error: null },\r\n      }\r\n    case actionTypes.JOIN.FAIL:\r\n      return {\r\n        ...state,\r\n        user: action.payload.user,\r\n        join: { ...state.join, loading: false, error: action.payload.error },\r\n      }\r\n\r\n    // 로그아웃\r\n    case actionTypes.LOGOUT:\r\n      return initialState\r\n\r\n    // 유저정보\r\n    case actionTypes.FETCH_USER.INDEX:\r\n    case actionTypes.FETCH_USER.REQUEST:\r\n      return { ...state, loading: true }\r\n    case actionTypes.FETCH_USER.SUCCESS:\r\n      return {\r\n        ...state,\r\n        user: action.payload.user,\r\n        loading: false,\r\n      }\r\n    case actionTypes.FETCH_USER.FAIL:\r\n      return { ...state, loading: false, error: action.payload.error }\r\n\r\n    // 클라이언트 로딩 시 유저세팅\r\n    case actionTypes.SET_USER:\r\n      return {\r\n        ...state,\r\n        user: action.payload.user,\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default reducer\r\n","import { makeActionCreator } from 'lib/saga/reduxActionUtils'\r\n\r\nconst prefix = '@CORE/APP'\r\n\r\nexport const actionTypes = {\r\n  LOADING: `${prefix}/LOADING`,\r\n  LOADED: `${prefix}/LOADED`,\r\n  SET_TOKEN: `${prefix}/SET_TOKEN`,\r\n  UNSET_TOKEN: `${prefix}/UNSET_TOKEN`,\r\n}\r\n\r\nexport const setLoaded = makeActionCreator(actionTypes.LOADED)\r\nexport const setToken = makeActionCreator(actionTypes.SET_TOKEN)\r\nexport const unSetToken = makeActionCreator(actionTypes.UNSET_TOKEN)\r\n\r\nconst initialState = {\r\n  loaded: false,\r\n  token: null,\r\n}\r\n\r\nconst reducer = function (state = initialState, action) {\r\n  // console.log(action)\r\n\r\n  switch (action.type) {\r\n    // 로딩\r\n    case actionTypes.LOADING:\r\n      return { ...state, loaded: false }\r\n    case actionTypes.LOADED:\r\n      return { ...state, loaded: true }\r\n    //토큰\r\n    case actionTypes.SET_TOKEN:\r\n      return { ...state, token: action.payload.token }\r\n    case actionTypes.UNSET_TOKEN:\r\n      return { ...state, token: null }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default reducer\r\n","const prefix = process.env.REACT_APP_TOKEN_PREFIX\r\nexport const getToken = () => {\r\n  return localStorage.getItem(`${prefix}tkn`)\r\n}\r\n\r\nexport const setToken = (token) => {\r\n  return localStorage.setItem(`${prefix}tkn`, token)\r\n}\r\n\r\nexport const removeToken = () => {\r\n  return localStorage.removeItem(`${prefix}tkn`)\r\n}\r\n\r\nexport const getRemember = () => {\r\n  return localStorage.getItem(`${prefix}rmb`)\r\n}\r\n\r\nexport const setRemember = () => {\r\n  return localStorage.setItem(`${prefix}rmb`, true)\r\n}\r\n\r\nexport const removeRemember = () => {\r\n  return localStorage.removeItem(`${prefix}rmb`)\r\n}\r\n","import jwt from 'jsonwebtoken'\r\nimport { getToken, removeToken } from 'lib/token'\r\n\r\nconst getCheckedToken = () => {\r\n  let token = getToken()\r\n  // 토큰이 유효한지 체크\r\n  if (token) {\r\n    const decoded = jwt.decode(token)\r\n    const remains = decoded && decoded.exp ? decoded.exp - Math.round(new Date().getTime() / 1000) : 0\r\n    if (remains < 1) {\r\n      removeToken()\r\n      return null\r\n    }\r\n  }\r\n\r\n  return token\r\n}\r\n\r\nexport default getCheckedToken\r\n","import React, { useEffect } from 'react' // eslint-disable-line no-unused-vars\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { tokenLogin } from 'modules/core/account/store'\r\nimport { setLoaded } from '../../store'\r\nimport { getRemember } from 'lib/token'\r\nimport getCheckedToken from 'lib/request/getCheckedToken'\r\n\r\nconst token = getCheckedToken()\r\nconst remember = getRemember()\r\n\r\nconst AppLoader = () => {\r\n  const dispatch = useDispatch()\r\n  const isAuthenticated = useSelector((store) => !!store.account.user)\r\n\r\n  useEffect(() => {\r\n    isAuthenticated && dispatch(setLoaded())\r\n    !token && dispatch(setLoaded())\r\n    token && !isAuthenticated && dispatch(tokenLogin({ localToken: token.toString(), remember: remember }))\r\n  }, [isAuthenticated, dispatch])\r\n\r\n  return null\r\n}\r\n\r\nexport default AppLoader\r\n","import React, { useState } from 'react'\r\n\r\nimport { Form, Input, Button, Checkbox } from 'antd'\r\nimport { UserOutlined, LockOutlined } from '@ant-design/icons'\r\n\r\nconst Login = ({ handleSubmit, loading, error, links, isMobile }) => {\r\n  const [values, setValues] = useState({\r\n    loginId: '',\r\n    password: '',\r\n    remember: false,\r\n  })\r\n\r\n  const handleChange = (e) => {\r\n    // console.log(e.target.name, e.target.value, e.target.checked)\r\n    setValues({\r\n      ...values,\r\n      [e.target.name]:\r\n        e.target.name === 'remember' ? e.target.checked : e.target.value,\r\n    })\r\n  }\r\n\r\n  const onSubmit = () => {\r\n    if (values.loginId && values.password) handleSubmit(values)\r\n    else alert('아이디와 비밀번호를 입력해주세요')\r\n  }\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        maxWidth: 360,\r\n        margin: '100px auto 0',\r\n        padding: 20,\r\n        marginTop: isMobile ? 10 : 100,\r\n      }}\r\n    >\r\n      <div style={{ marginBottom: 30, textAlign: 'center' }}>\r\n        <span style={{ fontSize: 32, fontWeight: 'bold', color: '#1890ff' }}>\r\n          리뷰 관리\r\n        </span>\r\n      </div>\r\n      <Form className=\"login-form\">\r\n        <Form.Item\r\n          name=\"loginId\"\r\n          rules={[{ required: true, message: '아이디를 입력해주세요.' }]}\r\n        >\r\n          <Input\r\n            prefix={<UserOutlined className=\"site-form-item-icon\" />}\r\n            name=\"loginId\"\r\n            type=\"text\"\r\n            placeholder=\"아이디\"\r\n            onChange={handleChange}\r\n            value={values.loginId}\r\n            size=\"large\"\r\n          />\r\n        </Form.Item>\r\n        <Form.Item\r\n          name=\"password\"\r\n          rules={[{ required: true, message: '비밀번호를 입력해주세요.' }]}\r\n        >\r\n          <Input\r\n            prefix={<LockOutlined className=\"site-form-item-icon\" />}\r\n            name=\"password\"\r\n            value={values.password}\r\n            onChange={handleChange}\r\n            type=\"password\"\r\n            placeholder=\"비밀번호\"\r\n            size=\"large\"\r\n          />\r\n        </Form.Item>\r\n        <Form.Item>\r\n          <Form.Item name=\"remember\" valuePropName=\"checked\" noStyle>\r\n            <Checkbox\r\n              name=\"remember\"\r\n              value={values.remember}\r\n              onChange={handleChange}\r\n            >\r\n              기억하기\r\n            </Checkbox>\r\n          </Form.Item>\r\n        </Form.Item>\r\n\r\n        <Form.Item>\r\n          <Button\r\n            type=\"primary\"\r\n            htmlType=\"submit\"\r\n            className=\"login-form-button\"\r\n            onClick={onSubmit}\r\n            size=\"large\"\r\n            block\r\n          >\r\n            로그인\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { login } from '../../store'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { useMediaQuery } from 'react-responsive'\r\n\r\nimport LoginComponent from '../../components/Login'\r\n\r\nconst LoginPage = (props) => {\r\n  const { isAuthenticated, loading, error, handleSubmit } = props\r\n  const isMobile = useMediaQuery({ maxWidth: 767 })\r\n\r\n  if (isAuthenticated) return <Redirect to=\"/\" />\r\n\r\n  return <LoginComponent {...{ handleSubmit, loading, error, isMobile }} />\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuthenticated: !!state.account.user,\r\n  loading: state.account.login.loading,\r\n  error: state.account.login.loading,\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  handleSubmit: (email, password, remember) => dispatch(login(email, password, remember)),\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginPage)\r\n","import React from 'react'\r\nimport { Layout } from 'antd'\r\nconst { Content, Footer, Header } = Layout\r\n\r\nconst Page = ({ children, header, footer, contentStyle }) => {\r\n  return (\r\n    <>\r\n      {header && (\r\n        <Header className=\"site-layout-background\" style={{ padding: 0 }} />\r\n      )}\r\n      <Content>\r\n        <div\r\n          className=\"site-layout-background\"\r\n          style={{ padding: 24, minHeight: 300, ...contentStyle }}\r\n        >\r\n          {children}\r\n        </div>\r\n      </Content>\r\n      {footer && (\r\n        <Footer style={{ textAlign: 'center' }}>\r\n          Oin Design ©2020 Created by Oin\r\n        </Footer>\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Page\r\n","import fetch from 'axios'\r\nimport getCheckedToken from './getCheckedToken'\r\n\r\nconst baseURL = process.env.REACT_APP_API_URL\r\n// axios 인스텐스 생성\r\nconst axios = fetch.create({ baseURL: baseURL })\r\n\r\naxios.interceptors.request.use(\r\n  (config) => {\r\n    if (config.baseURL === baseURL && !config.headers.Authorization) {\r\n      const token = getCheckedToken()\r\n      if (token) config.headers.Authorization = `Bearer ${token}`\r\n    }\r\n    return config\r\n  },\r\n  (error) => Promise.reject(error)\r\n)\r\n\r\n// 로그인/로그아웃 시에 헤더를 글로벌하게 세팅\r\nexport const setAuthHeader = (token) => {\r\n  axios.defaults.headers['Authorization'] = `Bearer ${token}`\r\n  return axios.defaults.headers\r\n}\r\n\r\nexport default axios\r\n","function ApiException(error) {\r\n  this.errors = error.errors\r\n  this.status = error.status\r\n  this.message = error.message\r\n}\r\n\r\nconst requestErrorHandler = (error) => {\r\n  // 정상적인 서버에러\r\n  if (error.response && error.response.data) {\r\n    console.log(error.response.data)\r\n    let message\r\n    if (error.response.status === 500) {\r\n      message = '서버에러 입니다.'\r\n    } else {\r\n      message = error.response.data.message ? error.response.data.message : error.response.data.errors && error.response.data.errors.default && error.response.data.errors.default[0]\r\n    }\r\n\r\n    const errorData = {\r\n      errors: error.response.data.errors,\r\n      status: error.response.status,\r\n      message: message,\r\n    }\r\n    throw new ApiException(errorData)\r\n  } else if (error.request) {\r\n    const errorData = {\r\n      errors: {},\r\n      status: 800,\r\n      message: '접속에러가 발생했습니다(8).',\r\n    }\r\n    throw new ApiException(errorData)\r\n  } else {\r\n    const errorData = {\r\n      errors: {},\r\n      status: 900,\r\n      message: '접속에러가 발생했습니다(9).',\r\n    }\r\n    throw new ApiException(errorData)\r\n  }\r\n}\r\n\r\nexport default requestErrorHandler\r\n","import axios from './axios'\r\nimport errorHandler from './requestErrorHandler'\r\n\r\nconst dataHandler = (res) => res.data\r\n\r\nconst getRequest = (url, data) => axios({ method: 'get', url, params: data }).then(dataHandler).catch(errorHandler)\r\nconst postRequest = (url, data) => axios({ method: 'post', url, data }).then(dataHandler).catch(errorHandler)\r\nconst putRequest = (url, data) => axios({ method: 'put', url, data }).then(dataHandler).catch(errorHandler)\r\nconst deleteRequest = (url) => axios({ method: 'delete', url }).then(dataHandler).catch(errorHandler)\r\nconst jsonRequest = (url, data) =>\r\n  axios({ method: 'post', url, data: data, headers: { 'Content-Type': 'application/json' } })\r\n    .then(dataHandler)\r\n    .catch(errorHandler)\r\nconst multipartRequest = (url, data) =>\r\n  axios({ method: 'post', url, data, headers: { 'Content-Type': 'multipart/form-data' } })\r\n    .then(dataHandler)\r\n    .catch(errorHandler)\r\n\r\nconst request = {\r\n  get: getRequest,\r\n  post: postRequest,\r\n  put: putRequest,\r\n  del: deleteRequest,\r\n  multi: multipartRequest,\r\n  json: jsonRequest,\r\n}\r\n\r\nexport default request\r\n","import request from 'lib/request'\r\n\r\nconst accountApi = {\r\n  getUser: () => request.get('/api/account/me'),\r\n  login: ({ loginId, password, remember }) => request.post('/api/login', { loginId, password, remember }),\r\n  forceLogin: (id) => request.get(`/api/admin/forceLogin/${id}`),\r\n  // 혅재 유저 비밀번호 변경\r\n  password: (payload) => request.post('/api/account/password', payload),\r\n}\r\n\r\nexport default accountApi\r\n","import { message } from 'antd'\r\n\r\nexport default message\r\n","// replace 1. Agencies => Stores\r\n// replace 2. AGENCIES => STORES\r\n// replace 3. agencies => stores\r\nimport {\r\n  makeAsyncActionsTypes,\r\n  makeActionCreator,\r\n  makeAsyncActionCreator,\r\n} from 'lib/saga/reduxActionUtils'\r\nimport produce from 'immer'\r\n/************************************************************************\r\n // 1. action types\r\n \r\n FETCH_AGENCIES.INDEX\r\n FETCH_AGENCIES.REQUEST\r\n FETCH_AGENCIES.SUCCESS\r\n FETCH_AGENCIES.FAIL\r\n NORMAL_ACTION\r\n ************************************************************************/\r\nconst prefix = '@APP/AGENCIES'\r\n\r\nexport const actionTypes = {\r\n  FETCH_AGENCIES: makeAsyncActionsTypes(prefix, 'FETCH_AGENCIES'),\r\n  FETCH_ONE_AGENCIES: makeAsyncActionsTypes(prefix, 'FETCH_ONE_AGENCIES'),\r\n  CREATE_AGENCIES: makeAsyncActionsTypes(prefix, 'CREATE_AGENCIES'),\r\n  UPDATE_AGENCIES: makeAsyncActionsTypes(prefix, 'UPDATE_AGENCIES'),\r\n  DELETE_AGENCIES: makeAsyncActionsTypes(prefix, 'DELETE_AGENCIES'),\r\n  CLOSE_MODAL: `${prefix}/CLOSE_MODAL`,\r\n  OPEN_MODAL: `${prefix}/OPEN_MODAL`,\r\n  REMOVE_ERROR: `${prefix}/REMOVE_ERROR`,\r\n}\r\n\r\n/************************************************************************\r\n// 2. action creator\r\n\r\nfetchAgencies(payload)\r\nfetchAgencies.request(payload)\r\nfetchAgencies.success(payload)\r\nfetchAgencies.fail(payload)\r\nresetUser(payload)\r\n************************************************************************/\r\nexport const fetchAgencies = makeAsyncActionCreator(actionTypes.FETCH_AGENCIES)\r\nexport const fetchOneAgencies = makeAsyncActionCreator(\r\n  actionTypes.FETCH_ONE_AGENCIES\r\n)\r\nexport const createAgencies = makeAsyncActionCreator(\r\n  actionTypes.CREATE_AGENCIES\r\n)\r\nexport const updateAgencies = makeAsyncActionCreator(\r\n  actionTypes.UPDATE_AGENCIES\r\n)\r\nexport const deleteAgencies = makeAsyncActionCreator(\r\n  actionTypes.DELETE_AGENCIES\r\n)\r\nexport const closeModal = makeActionCreator(actionTypes.CLOSE_MODAL)\r\nexport const openModal = makeActionCreator(actionTypes.OPEN_MODAL)\r\nexport const removeError = makeActionCreator(actionTypes.REMOVE_ERROR)\r\n/***********************************************************************\r\n// 3. reducer\r\nerror format\r\n{\r\n  status: 422,\r\n  message: \"입력값을 확인해주세요.\",\r\n  errors: [\r\n    email: [{...}]\r\n  ]\r\n}\r\n\r\n************************************************************************/\r\nconst initialModalState = {\r\n  open: false,\r\n  requesting: false,\r\n  error: null,\r\n  agency: null,\r\n}\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  error: null,\r\n  agencies: [],\r\n  modal: initialModalState,\r\n}\r\n\r\nconst agenciesReducer = function (state = initialState, action) {\r\n  switch (action.type) {\r\n    // FETCH_AGENCIES\r\n    case actionTypes.FETCH_AGENCIES.INDEX:\r\n    case actionTypes.FETCH_AGENCIES.REQUEST:\r\n      return produce(state, (draft) => {\r\n        draft.loading = true\r\n      })\r\n    case actionTypes.FETCH_AGENCIES.SUCCESS:\r\n      return {\r\n        ...state,\r\n        agencies: [...action.payload.agencies],\r\n        // agencies: action.payload.agencies,\r\n        loading: false,\r\n      }\r\n    case actionTypes.FETCH_AGENCIES.FAIL:\r\n      return { ...state, loading: false, error: action.payload.error }\r\n\r\n    // FETCH_ONE_AGENCIES\r\n    case actionTypes.FETCH_ONE_AGENCIES.INDEX:\r\n    case actionTypes.FETCH_ONE_AGENCIES.REQUEST:\r\n      return { ...state, modal: { ...state.modal, requesting: true } }\r\n    case actionTypes.FETCH_ONE_AGENCIES.SUCCESS:\r\n      return {\r\n        ...state,\r\n        modal: {\r\n          ...state.modal,\r\n          requesting: false,\r\n          agency: action.payload.agency,\r\n        },\r\n      }\r\n    case actionTypes.FETCH_ONE_AGENCIES.FAIL:\r\n      return {\r\n        ...state,\r\n        modal: {\r\n          ...state.modal,\r\n          requesting: false,\r\n          error: action.payload.error,\r\n        },\r\n      }\r\n\r\n    // CREATE_AGENCIES\r\n    case actionTypes.CREATE_AGENCIES.INDEX:\r\n    case actionTypes.CREATE_AGENCIES.REQUEST:\r\n      return {\r\n        ...state,\r\n        modal: { ...state.modal, open: true, requesting: true },\r\n      }\r\n    case actionTypes.CREATE_AGENCIES.SUCCESS:\r\n      return { ...state, modal: { ...state.modal, requesting: false } }\r\n    case actionTypes.CREATE_AGENCIES.FAIL:\r\n      return {\r\n        ...state,\r\n        modal: {\r\n          ...state.modal,\r\n          requesting: false,\r\n          error: action.payload.error,\r\n        },\r\n      }\r\n\r\n    // UPDATE_AGENCIES\r\n    case actionTypes.UPDATE_AGENCIES.INDEX:\r\n    case actionTypes.UPDATE_AGENCIES.REQUEST:\r\n      return { ...state, modal: { ...state.modal, loading: true } }\r\n    case actionTypes.UPDATE_AGENCIES.SUCCESS:\r\n      return { ...state, modal: { ...state.modal, loading: false }, agency: {} }\r\n    case actionTypes.UPDATE_AGENCIES.FAIL:\r\n      return {\r\n        ...state,\r\n        modal: { ...state.modal, loading: false, error: action.payload.error },\r\n      }\r\n\r\n    // DELETE_AGENCIES\r\n    case actionTypes.DELETE_AGENCIES.INDEX:\r\n    case actionTypes.DELETE_AGENCIES.REQUEST:\r\n      return { ...state, modal: { ...state.modal, loading: true } }\r\n    case actionTypes.DELETE_AGENCIES.SUCCESS:\r\n      return { ...state, modal: { ...state.modal, loading: false } }\r\n    case actionTypes.DELETE_AGENCIES.FAIL:\r\n      return {\r\n        ...state,\r\n        modal: { ...state.modal, loading: false, error: action.payload.error },\r\n      }\r\n\r\n    // OPEN_MODAL\r\n    case actionTypes.OPEN_MODAL:\r\n      return { ...state, modal: { ...state.modal, open: true } }\r\n\r\n    // CLOSE_MODAL\r\n    case actionTypes.CLOSE_MODAL:\r\n      return {\r\n        ...state,\r\n        modal: initialModalState,\r\n      }\r\n\r\n    case actionTypes.REMOVE_ERROR:\r\n      return produce(state, (draft) => {\r\n        draft.modal.error.errors[action.payload.name] = undefined\r\n      })\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default agenciesReducer\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Button, Modal } from 'antd'\r\nimport { Form, Input, Switch } from 'antd'\r\nimport { ExclamationCircleOutlined } from '@ant-design/icons'\r\n\r\nconst initialAgency = {\r\n  loginId: '',\r\n  password: '',\r\n  username: '',\r\n  mobile: '',\r\n  active: 'Y',\r\n}\r\n\r\nconst AgencyForm = (props) => {\r\n  const { requesting, errors, agency, removeError } = props\r\n  const {\r\n    open,\r\n    handleClose,\r\n    handleExit,\r\n    handleCreate,\r\n    handleUpdate,\r\n    handleDelete,\r\n  } = props\r\n  const [inputs, setInputs] = useState(initialAgency)\r\n\r\n  useEffect(() => {\r\n    agency && agency.id && setInputs(agency)\r\n  }, [agency])\r\n\r\n  const handleInputChange = (e) => {\r\n    setInputs({ ...inputs, [e.target.name]: e.target.value })\r\n    removeErrorWithName(errors, e.target.name)\r\n  }\r\n  const handleActiveChane = (value) => {\r\n    setInputs({ ...inputs, active: value ? 'Y' : 'N' })\r\n    removeErrorWithName(errors, 'active')\r\n  }\r\n  const removeErrorWithName = (errors, name) => {\r\n    errors && errors[name] && removeError({ name })\r\n  }\r\n\r\n  const handleOnCreate = () => handleCreate(inputs)\r\n  const handleOnUpdate = () => handleUpdate(inputs)\r\n  const handleDeleteConfirm = () => {\r\n    Modal.confirm({\r\n      title: '정말로 삭제하시겠습니까?',\r\n      icon: <ExclamationCircleOutlined />,\r\n      content: '삭제하면 데이터를 복구할수 없습니다.',\r\n      okText: '삭제',\r\n      cancelText: '취소',\r\n      onOk() {\r\n        handleDelete(inputs)\r\n      },\r\n    })\r\n  }\r\n\r\n  const handleModalExit = () => {\r\n    setInputs(initialAgency)\r\n    handleExit()\r\n  }\r\n\r\n  const createFooter = [\r\n    <Button key=\"cancle\" onClick={handleClose} disabled={requesting}>\r\n      취소\r\n    </Button>,\r\n    <Button\r\n      key=\"create\"\r\n      type=\"primary\"\r\n      onClick={handleOnCreate}\r\n      disabled={requesting}\r\n    >\r\n      등록\r\n    </Button>,\r\n  ]\r\n\r\n  const updateFooter = [\r\n    <Button\r\n      key=\"delete\"\r\n      type=\"primary\"\r\n      danger\r\n      onClick={handleDeleteConfirm}\r\n      disabled={requesting}\r\n    >\r\n      삭제\r\n    </Button>,\r\n    <Button key=\"cancle\" onClick={handleClose} disabled={requesting}>\r\n      취소\r\n    </Button>,\r\n    <Button\r\n      key=\"update\"\r\n      type=\"primary\"\r\n      onClick={handleOnUpdate}\r\n      disabled={requesting}\r\n    >\r\n      저장\r\n    </Button>,\r\n  ]\r\n\r\n  const layout = {\r\n    labelCol: { span: 8 },\r\n    wrapperCol: { span: 16 },\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      title={inputs.id ? '대리점 수정' : '대리점 등록'}\r\n      visible={open}\r\n      afterClose={handleModalExit}\r\n      onCancel={handleClose}\r\n      footer={inputs.id ? updateFooter : createFooter}\r\n      maskClosable={false}\r\n    >\r\n      <Form {...layout} style={{ maxWidth: 360 }}>\r\n        <Form.Item\r\n          label=\"아이디\"\r\n          validateStatus={errors && errors.loginId && 'error'}\r\n          help={errors && errors.loginId && errors.loginId[0]}\r\n        >\r\n          <Input\r\n            name=\"loginId\"\r\n            value={inputs.loginId}\r\n            onChange={handleInputChange}\r\n            disabled={requesting}\r\n            placeholder=\"숫자나 알파벳으로 4~20자\"\r\n          />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"비밀번호\"\r\n          validateStatus={errors && errors.password && 'error'}\r\n          help={errors && errors.password && errors.password[0]}\r\n        >\r\n          <Input\r\n            type=\"password\"\r\n            name=\"password\"\r\n            value={inputs.password}\r\n            onChange={handleInputChange}\r\n            disabled={requesting}\r\n            autoComplete=\"new-password\"\r\n            placeholder={inputs.id ? '변경시에만 입력' : '비밀번호는 4~16자'}\r\n          />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"대리점이름\"\r\n          validateStatus={errors && errors.username && 'error'}\r\n          help={errors && errors.username && errors.username[0]}\r\n        >\r\n          <Input\r\n            name=\"username\"\r\n            value={inputs.username}\r\n            onChange={handleInputChange}\r\n            disabled={requesting}\r\n            placeholder=\"20자 이내\"\r\n          />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"휴대폰\"\r\n          validateStatus={errors && errors.mobile && 'error'}\r\n          help={errors && errors.mobile && errors.mobile[0]}\r\n        >\r\n          <Input\r\n            name=\"mobile\"\r\n            value={inputs.mobile}\r\n            onChange={handleInputChange}\r\n            disabled={requesting}\r\n            placeholder=\"숫자만 입력\"\r\n          />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"활성\"\r\n          validateStatus={errors && errors.active && 'error'}\r\n          help={errors && errors.active && errors.active[0]}\r\n        >\r\n          <Switch\r\n            name=\"active\"\r\n            checked={inputs.active === 'Y'}\r\n            onChange={handleActiveChane}\r\n            disabled={requesting}\r\n          />\r\n        </Form.Item>\r\n      </Form>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default AgencyForm\r\n","import { format } from 'date-fns'\r\n\r\nconst roles = {\r\n  admin: '어드민',\r\n  branche: '대행사',\r\n  agency: '대리점',\r\n  customer: '승인대기자',\r\n}\r\n\r\nexport const displayDate = (date) =>\r\n  date ? format(new Date(date), 'yyyy.MM.dd') : ''\r\nexport const displayDateTime = (date) =>\r\n  date ? format(new Date(date), 'yyyy.MM.dd HH:mm:ss') : ''\r\nexport const displayPhone = (phone) =>\r\n  phone\r\n    ? phone.replace(/(^02.{0}|^01.{1}|[0-9]{3})([0-9]+)([0-9]{4})/, '$1-$2-$3')\r\n    : ''\r\nexport const displayRole = (role) => (role ? roles[role] : '')\r\nexport const shorten = (str, max = null) => {\r\n  if (!max || !str) return str\r\n  return str.length > max + 3 ? str.substring(0, max) + '...' : str\r\n}\r\n\r\nconst formatObj = {\r\n  date: displayDate,\r\n  datetime: displayDateTime,\r\n  phone: displayPhone,\r\n  role: displayRole,\r\n  shorten,\r\n}\r\nexport default formatObj\r\n","import React, { useEffect, useState } from 'react'\r\nimport { Table, Button, Space } from 'antd'\r\nimport ActiveStatus from 'components/Common/ActiveStatus'\r\nimport format from 'lib/format'\r\nimport { LoginOutlined, EditOutlined } from '@ant-design/icons'\r\nimport ScrollableAnchor, { goToAnchor } from 'react-scrollable-anchor'\r\nimport _ from 'lodash'\r\n\r\nconst AgencyList = ({\r\n  loading,\r\n  user,\r\n  data,\r\n  meta,\r\n  handleOpen,\r\n  handleAdd,\r\n  handlePageChange,\r\n  forceLogin,\r\n  handleAgencyCeos,\r\n  openPasswordModal,\r\n  handleOpenCeoModal,\r\n}) => {\r\n  const [agencies, setAgencies] = useState([])\r\n\r\n  useEffect(() => {\r\n    setAgencies(data.map((agency) => ({ ...agency, isActive: false })))\r\n  }, [data])\r\n\r\n  const displayCeoCount = (agency) => (\r\n    <span>\r\n      {agency.depth - user.depth > 1 ? (\r\n        <span style={{ padding: '4px 15px' }}>{agency.ceoCount}</span>\r\n      ) : (\r\n        <Button\r\n          type=\"link\"\r\n          onClick={() =>\r\n            handleAgencyCeos({\r\n              agency: agency.id,\r\n            })\r\n          }\r\n        >\r\n          {agency.ceoCount}\r\n        </Button>\r\n      )}\r\n    </span>\r\n  )\r\n\r\n  const defaultColumns = [\r\n    {\r\n      title: '대리점명',\r\n      dataIndex: 'username',\r\n      key: 'username',\r\n    },\r\n    {\r\n      title: '사장님수',\r\n      key: 'ceoCount',\r\n      align: 'ceoCount',\r\n      render: (text, agency) => displayCeoCount(agency),\r\n    },\r\n    { title: '대리점ID', dataIndex: 'loginId', key: 'loginid' },\r\n    {\r\n      title: '휴대폰',\r\n      dataIndex: 'mobile',\r\n      key: 'mobile',\r\n      render: (mobile) => format.phone(mobile),\r\n    },\r\n    {\r\n      title: '생성일',\r\n      dataIndex: 'createdAt',\r\n      key: 'createdAt',\r\n      align: 'center',\r\n      render: (date) => format.date(date),\r\n    },\r\n    {\r\n      title: '활성',\r\n      dataIndex: 'active',\r\n      key: 'active',\r\n      align: 'center',\r\n      render: (active) => (\r\n        <span style={{ color: active === 'Y' ? 'green' : 'red' }}>\r\n          {active === 'Y' ? '활성' : '비활성'}\r\n        </span>\r\n      ),\r\n    },\r\n    {\r\n      title: '관리',\r\n      dataIndex: 'actions',\r\n      key: 'actions',\r\n      align: 'center',\r\n      render: (value, agency, index) => (\r\n        <Space>\r\n          <Button onClick={() => handleOpenCeoModal(agency)}>\r\n            사장님 등록\r\n          </Button>\r\n          <Button danger onClick={() => handleOpen(agency)}>\r\n            수정\r\n          </Button>\r\n        </Space>\r\n      ),\r\n    },\r\n  ]\r\n\r\n  // const forceLoginColumn = {\r\n  //   title: '로그인',\r\n  //   dataIndex: 'forceLogin',\r\n  //   key: 'forceLogin',\r\n  //   align: 'center',\r\n  //   render: (value, agency, index) => (\r\n  //     <Button type=\"link\" onClick={() => forceLogin(agency.id)}>\r\n  //       로그인\r\n  //     </Button>\r\n  //   ),\r\n  // }\r\n\r\n  // const columns =\r\n  //   user.role !== 'admin'\r\n  //     ? defaultColumns\r\n  //     : [\r\n  //         ...defaultColumns.slice(0, 2),\r\n  //         forceLoginColumn,\r\n  //         ...defaultColumns.slice(2),\r\n  //       ]\r\n\r\n  return (\r\n    <div>\r\n      <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n        {user.depth < 2 && (\r\n          <>\r\n            <Button\r\n              onClick={() => handleOpen()}\r\n              type=\"primary\"\r\n              style={{ marginBottom: 16 }}\r\n            >\r\n              대리점 등록\r\n            </Button>\r\n          </>\r\n        )}\r\n      </div>\r\n      <Table\r\n        loading={loading}\r\n        className=\"agenciesTable\"\r\n        columns={defaultColumns}\r\n        dataSource={agencies}\r\n        rowKey={(agency) => agency.id}\r\n        pagination={false}\r\n        bordered\r\n        rowClassName={(agency) => (agency.isActive ? 'active-agency' : '')}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AgencyList\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Button, Modal } from 'antd'\r\nimport { Form, Input, Switch } from 'antd'\r\nimport { ExclamationCircleOutlined } from '@ant-design/icons'\r\n\r\nconst initialCeo = {\r\n  agencyId: null,\r\n  loginId: '',\r\n  password: '',\r\n  username: '',\r\n  mobile: '',\r\n  active: 'Y',\r\n}\r\n\r\nconst CeoForm = (props) => {\r\n  const { requesting, errors, ceo, removeError, agencyId } = props\r\n  const {\r\n    open,\r\n    handleClose,\r\n    handleExit,\r\n    handleCreate,\r\n    handleUpdate,\r\n    handleDelete,\r\n  } = props\r\n  const [inputs, setInputs] = useState(initialCeo)\r\n\r\n  useEffect(() => {\r\n    ceo && ceo.id && setInputs(ceo)\r\n  }, [ceo])\r\n\r\n  const handleInputChange = (e) => {\r\n    setInputs({ ...inputs, [e.target.name]: e.target.value })\r\n    removeErrorWithName(errors, e.target.name)\r\n  }\r\n  const handleActiveChane = (value) => {\r\n    setInputs({ ...inputs, active: value ? 'Y' : 'N' })\r\n    removeErrorWithName(errors, 'active')\r\n  }\r\n  const removeErrorWithName = (errors, name) => {\r\n    errors && errors[name] && removeError({ name })\r\n  }\r\n\r\n  const handleOnCreate = () => handleCreate({ ...inputs, agencyId: agencyId })\r\n  const handleOnUpdate = () => handleUpdate(inputs)\r\n  const handleDeleteConfirm = () => {\r\n    Modal.confirm({\r\n      title: '정말로 삭제하시겠습니까?',\r\n      icon: <ExclamationCircleOutlined />,\r\n      content: '삭제하면 데이터를 복구할수 없습니다.',\r\n      okText: '삭제',\r\n      cancelText: '취소',\r\n      onOk() {\r\n        handleDelete(inputs)\r\n      },\r\n    })\r\n  }\r\n\r\n  const handleModalExit = () => {\r\n    setInputs(initialCeo)\r\n    handleExit()\r\n  }\r\n\r\n  const createFooter = [\r\n    <Button key=\"cancle\" onClick={handleClose} disabled={requesting}>\r\n      취소\r\n    </Button>,\r\n    <Button\r\n      key=\"create\"\r\n      type=\"primary\"\r\n      onClick={handleOnCreate}\r\n      disabled={requesting}\r\n    >\r\n      등록\r\n    </Button>,\r\n  ]\r\n\r\n  const updateFooter = [\r\n    <Button\r\n      key=\"delete\"\r\n      type=\"primary\"\r\n      danger\r\n      onClick={handleDeleteConfirm}\r\n      disabled={requesting}\r\n    >\r\n      삭제\r\n    </Button>,\r\n    <Button key=\"cancle\" onClick={handleClose} disabled={requesting}>\r\n      취소\r\n    </Button>,\r\n    <Button\r\n      key=\"update\"\r\n      type=\"primary\"\r\n      onClick={handleOnUpdate}\r\n      disabled={requesting}\r\n    >\r\n      저장\r\n    </Button>,\r\n  ]\r\n\r\n  const layout = {\r\n    labelCol: { span: 8 },\r\n    wrapperCol: { span: 16 },\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      title={inputs.id ? '사장님 수정' : '사장님 등록'}\r\n      visible={open}\r\n      afterClose={handleModalExit}\r\n      onCancel={handleClose}\r\n      footer={inputs.id ? updateFooter : createFooter}\r\n      maskClosable={false}\r\n    >\r\n      <Form {...layout} style={{ maxWidth: 360 }}>\r\n        <Form.Item\r\n          label=\"아이디\"\r\n          validateStatus={errors && errors.loginId && 'error'}\r\n          help={errors && errors.loginId && errors.loginId[0]}\r\n        >\r\n          <Input\r\n            name=\"loginId\"\r\n            value={inputs.loginId}\r\n            onChange={handleInputChange}\r\n            disabled={requesting}\r\n            placeholder=\"숫자나 알파벳으로 4~20자\"\r\n          />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"비밀번호\"\r\n          validateStatus={errors && errors.password && 'error'}\r\n          help={errors && errors.password && errors.password[0]}\r\n        >\r\n          <Input\r\n            type=\"password\"\r\n            name=\"password\"\r\n            value={inputs.password}\r\n            onChange={handleInputChange}\r\n            disabled={requesting}\r\n            autoComplete=\"new-password\"\r\n            placeholder={inputs.id ? '변경시에만 입력' : '비밀번호는 4~16자'}\r\n          />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"사장님이름\"\r\n          validateStatus={errors && errors.username && 'error'}\r\n          help={errors && errors.username && errors.username[0]}\r\n        >\r\n          <Input\r\n            name=\"username\"\r\n            value={inputs.username}\r\n            onChange={handleInputChange}\r\n            disabled={requesting}\r\n            placeholder=\"20자 이내\"\r\n          />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"휴대폰\"\r\n          validateStatus={errors && errors.mobile && 'error'}\r\n          help={errors && errors.mobile && errors.mobile[0]}\r\n        >\r\n          <Input\r\n            name=\"mobile\"\r\n            value={inputs.mobile}\r\n            onChange={handleInputChange}\r\n            disabled={requesting}\r\n            placeholder=\"숫자만 입력\"\r\n          />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"활성\"\r\n          validateStatus={errors && errors.active && 'error'}\r\n          help={errors && errors.active && errors.active[0]}\r\n        >\r\n          <Switch\r\n            name=\"active\"\r\n            checked={inputs.active === 'Y'}\r\n            onChange={handleActiveChane}\r\n            disabled={requesting}\r\n          />\r\n        </Form.Item>\r\n      </Form>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default CeoForm\r\n","// replace 1. Ceos => Stores\r\n// replace 2.  CEOS => STORES\r\n// replace 3. ceos => stores\r\nimport {\r\n  makeAsyncActionsTypes,\r\n  makeActionCreator,\r\n  makeAsyncActionCreator,\r\n} from 'lib/saga/reduxActionUtils'\r\nimport produce from 'immer'\r\n/************************************************************************\r\n // 1. action types\r\n \r\n FETCH_CEOS.INDEX\r\n FETCH_CEOS.REQUEST\r\n FETCH_CEOS.SUCCESS\r\n FETCH_CEOS.FAIL\r\n NORMAL_ACTION\r\n ************************************************************************/\r\nconst prefix = '@APP/CEOS'\r\n\r\nexport const actionTypes = {\r\n  FETCH_CEOS: makeAsyncActionsTypes(prefix, 'FETCH_CEOS'),\r\n  FETCH_ONE_CEOS: makeAsyncActionsTypes(prefix, 'FETCH_ONE_CEOS'),\r\n  CREATE_CEOS: makeAsyncActionsTypes(prefix, 'CREATE_CEOS'),\r\n  UPDATE_CEOS: makeAsyncActionsTypes(prefix, 'UPDATE_CEOS'),\r\n  DELETE_CEOS: makeAsyncActionsTypes(prefix, 'DELETE_CEOS'),\r\n  CLOSE_MODAL: `${prefix}/CLOSE_MODAL`,\r\n  OPEN_MODAL: `${prefix}/OPEN_MODAL`,\r\n  REMOVE_ERROR: `${prefix}/REMOVE_ERROR`,\r\n\r\n  UPDATE_CASH: makeAsyncActionsTypes(prefix, 'UPDATE_CASH'),\r\n  CLOSE_CASH_MODAL: `${prefix}/CLOSE_CASH_MODAL`,\r\n  OPEN_CASH_MODAL: `${prefix}/OPEN_CASH_MODAL`,\r\n}\r\n\r\n/************************************************************************\r\n// 2. action creator\r\n\r\nfetchCeos(payload)\r\nfetchCeos.request(payload)\r\nfetchCeos.success(payload)\r\nfetchCeos.fail(payload)\r\nresetUser(payload)\r\n************************************************************************/\r\nexport const fetchCeos = makeAsyncActionCreator(actionTypes.FETCH_CEOS)\r\nexport const fetchOneCeos = makeAsyncActionCreator(actionTypes.FETCH_ONE_CEOS)\r\nexport const createCeos = makeAsyncActionCreator(actionTypes.CREATE_CEOS)\r\nexport const updateCeos = makeAsyncActionCreator(actionTypes.UPDATE_CEOS)\r\nexport const deleteCeos = makeAsyncActionCreator(actionTypes.DELETE_CEOS)\r\n\r\nexport const closeModal = makeActionCreator(actionTypes.CLOSE_MODAL)\r\nexport const openModal = makeActionCreator(actionTypes.OPEN_MODAL)\r\nexport const removeError = makeActionCreator(actionTypes.REMOVE_ERROR)\r\n\r\nexport const updateCash = makeAsyncActionCreator(actionTypes.UPDATE_CASH)\r\nexport const closeCashModal = makeActionCreator(actionTypes.CLOSE_CASH_MODAL)\r\nexport const openCashModal = makeActionCreator(actionTypes.OPEN_CASH_MODAL)\r\n/***********************************************************************\r\n// 3. reducer\r\nerror format\r\n{\r\n  status: 422,\r\n  message: \"입력값을 확인해주세요.\",\r\n  errors: [\r\n    email: [{...}]\r\n  ]\r\n}\r\n\r\n************************************************************************/\r\nconst initialModalState = {\r\n  open: false,\r\n  requesting: false,\r\n  error: null,\r\n  ceo: null,\r\n}\r\n\r\nconst initialCashModalState = {\r\n  open: false,\r\n  requesting: false,\r\n  error: null,\r\n  ceo: null,\r\n  file: null,\r\n}\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  error: null,\r\n  ceos: [],\r\n  search: {},\r\n  pagination: {},\r\n  modal: initialModalState,\r\n  cashModal: initialCashModalState,\r\n}\r\n\r\nconst ceosReducer = function (state = initialState, action) {\r\n  switch (action.type) {\r\n    // FETCH_CEOS\r\n    case actionTypes.FETCH_CEOS.INDEX:\r\n    case actionTypes.FETCH_CEOS.REQUEST:\r\n      return produce(state, (draft) => {\r\n        draft.loading = true\r\n      })\r\n    case actionTypes.FETCH_CEOS.SUCCESS:\r\n      return {\r\n        ...state,\r\n        ceos: [...action.payload.ceos.data],\r\n        pagination: {\r\n          total: action.payload.ceos.total,\r\n          per_page: action.payload.ceos.per_page,\r\n          current_page: action.payload.ceos.current_page,\r\n        },\r\n        search: action.payload.ceos.search,\r\n        loading: false,\r\n      }\r\n    case actionTypes.FETCH_CEOS.FAIL:\r\n      return { ...state, loading: false, error: action.payload.error }\r\n\r\n    // FETCH_ONE_CEOS\r\n    case actionTypes.FETCH_ONE_CEOS.INDEX:\r\n    case actionTypes.FETCH_ONE_CEOS.REQUEST:\r\n      return { ...state, modal: { ...state.modal, requesting: true } }\r\n    case actionTypes.FETCH_ONE_CEOS.SUCCESS:\r\n      return {\r\n        ...state,\r\n        modal: {\r\n          ...state.modal,\r\n          requesting: false,\r\n          ceo: action.payload.ceo,\r\n        },\r\n      }\r\n    case actionTypes.FETCH_ONE_CEOS.FAIL:\r\n      return {\r\n        ...state,\r\n        modal: {\r\n          ...state.modal,\r\n          requesting: false,\r\n          error: action.payload.error,\r\n        },\r\n      }\r\n\r\n    // CREATE_CEOS\r\n    case actionTypes.CREATE_CEOS.INDEX:\r\n    case actionTypes.CREATE_CEOS.REQUEST:\r\n      return {\r\n        ...state,\r\n        modal: { ...state.modal, open: true, requesting: true },\r\n      }\r\n    case actionTypes.CREATE_CEOS.SUCCESS:\r\n      return { ...state, modal: { ...state.modal, requesting: false } }\r\n    case actionTypes.CREATE_CEOS.FAIL:\r\n      return {\r\n        ...state,\r\n        modal: {\r\n          ...state.modal,\r\n          requesting: false,\r\n          error: action.payload.error,\r\n        },\r\n      }\r\n\r\n    // UPDATE_CEOS\r\n    case actionTypes.UPDATE_CEOS.INDEX:\r\n    case actionTypes.UPDATE_CEOS.REQUEST:\r\n      return { ...state, modal: { ...state.modal, loading: true } }\r\n    case actionTypes.UPDATE_CEOS.SUCCESS:\r\n      return { ...state, modal: { ...state.modal, loading: false }, ceo: {} }\r\n    case actionTypes.UPDATE_CEOS.FAIL:\r\n      return {\r\n        ...state,\r\n        modal: { ...state.modal, loading: false, error: action.payload.error },\r\n      }\r\n\r\n    // DELETE_CEOS\r\n    case actionTypes.DELETE_CEOS.INDEX:\r\n    case actionTypes.DELETE_CEOS.REQUEST:\r\n      return { ...state, modal: { ...state.modal, loading: true } }\r\n    case actionTypes.DELETE_CEOS.SUCCESS:\r\n      return { ...state, modal: { ...state.modal, loading: false } }\r\n    case actionTypes.DELETE_CEOS.FAIL:\r\n      return {\r\n        ...state,\r\n        modal: { ...state.modal, loading: false, error: action.payload.error },\r\n      }\r\n\r\n    // OPEN_MODAL\r\n    case actionTypes.OPEN_MODAL:\r\n      return {\r\n        ...state,\r\n        modal: { ...state.modal, open: true, agencyId: action.payload },\r\n      }\r\n\r\n    // CLOSE_MODAL\r\n    case actionTypes.CLOSE_MODAL:\r\n      return {\r\n        ...state,\r\n        modal: initialModalState,\r\n      }\r\n\r\n    case actionTypes.REMOVE_ERROR:\r\n      return produce(state, (draft) => {\r\n        draft.modal.error.errors[action.payload.name] = undefined\r\n      })\r\n    default:\r\n      return state\r\n\r\n    /**************************************************************************************************\r\n      충전금 모달\r\n    **************************************************************************************************/\r\n    // UPDATE_CASH\r\n    case actionTypes.UPDATE_CASH.INDEX:\r\n    case actionTypes.UPDATE_CASH.REQUEST:\r\n      return { ...state, cashModal: { ...state.cashModal, loading: true } }\r\n    case actionTypes.UPDATE_CASH.SUCCESS:\r\n      return {\r\n        ...state,\r\n        cashModal: { ...state.cashModal, loading: false },\r\n        store: {},\r\n      }\r\n    case actionTypes.UPDATE_CASH.FAIL:\r\n      return {\r\n        ...state,\r\n        cashModal: {\r\n          ...state.cashModal,\r\n          loading: false,\r\n          error: action.payload.error,\r\n        },\r\n      }\r\n    // OPEN_CASH_MODAL\r\n    case actionTypes.OPEN_CASH_MODAL:\r\n      return {\r\n        ...state,\r\n        cashModal: {\r\n          ...state.cashModal,\r\n          open: true,\r\n          ceo: action.payload.ceo,\r\n        },\r\n      }\r\n    // CLOSE_CASH_MODAL\r\n    case actionTypes.CLOSE_CASH_MODAL:\r\n      return { ...state, cashModal: initialCashModalState }\r\n  }\r\n}\r\n\r\nexport default ceosReducer\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport omit from 'lodash/omit'\r\nimport api from 'modules/core/account/api'\r\nimport { setToken } from 'lib/token'\r\nimport message from 'lib/message'\r\nimport {\r\n  fetchAgencies,\r\n  fetchOneAgencies,\r\n  createAgencies,\r\n  updateAgencies,\r\n  deleteAgencies,\r\n  openModal,\r\n  closeModal,\r\n  removeError,\r\n} from '../../store'\r\nimport queryString from 'query-string'\r\n\r\nimport Page from 'components/Common/Page'\r\nimport AgencyForm from '../../components/AgencyForm'\r\nimport AgencyList from '../../components/AgencyList'\r\n\r\nimport CeoForm from 'modules/core/ceos/components/CeoForm'\r\nimport {\r\n  fetchCeos,\r\n  createCeos,\r\n  updateCeos,\r\n  deleteCeos,\r\n  openModal as openCeoModal,\r\n  closeModal as closeCeoModal,\r\n  removeError as removeCeoError,\r\n} from 'modules/core/ceos/store'\r\n\r\nconst AgenciesPage = (props) => {\r\n  const { history } = props\r\n\r\n  const dispatch = useDispatch()\r\n  const loading = useSelector((store) => !!store.agencies.loading)\r\n  const agencies = useSelector((store) => store.agencies.agencies)\r\n  const meta = useSelector((store) => store.agencies.meta)\r\n  const modal = useSelector((store) => store.agencies.modal)\r\n  const user = useSelector((store) => store.account.user)\r\n  const ceoModal = useSelector((store) => store.ceos.modal)\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchAgencies())\r\n  }, [dispatch])\r\n\r\n  const handleOpen = (agency) => {\r\n    agency && dispatch(fetchOneAgencies(agency))\r\n    dispatch(openModal())\r\n  }\r\n\r\n  const handlePageChange = (page) =>\r\n    dispatch(fetchAgencies(omit({ ...meta, currentPage: page }, 'total')))\r\n  // const handleSearch = (search) => dispatch(fetchAgencies({ ...meta, ...search }))\r\n\r\n  const handleAgencyCeos = (meta) => {\r\n    const text = queryString.stringify(meta)\r\n    history.push(`/ceos?${text}`)\r\n  }\r\n\r\n  const forceLogin = (agencyId) => {\r\n    api\r\n      .forceLogin(agencyId)\r\n      .then((response) => {\r\n        try {\r\n          if (response.token) {\r\n            console.log(response.token)\r\n            setToken(response.token)\r\n            // setTimeout(() => window.location.reload(true), 300)\r\n            setTimeout(() => (window.location.href = '/'), 300)\r\n          }\r\n        } catch (e) {\r\n          console.log(e)\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        message.error('로그인에 실패했습니다.')\r\n      })\r\n  }\r\n\r\n  const handleOpenCeoModal = (agency) => {\r\n    dispatch(openCeoModal(agency.id))\r\n  }\r\n\r\n  const handleCloseCeoModal = () => {\r\n    dispatch(closeCeoModal())\r\n    setTimeout(() => {\r\n      dispatch(fetchAgencies())\r\n    }, 100)\r\n  }\r\n\r\n  const handleCreateCeo = (ceo) => {\r\n    dispatch(createCeos(ceo))\r\n    setTimeout(() => {\r\n      dispatch(fetchAgencies())\r\n    }, 100)\r\n  }\r\n\r\n  return (\r\n    <Page>\r\n      {/* <AgencySearch handleOpen={handleOpen} handleSearch={handleSearch} /> */}\r\n      <AgencyList\r\n        user={user}\r\n        forceLogin={forceLogin}\r\n        loading={loading}\r\n        meta={meta}\r\n        data={agencies}\r\n        handleOpen={handleOpen}\r\n        handlePageChange={handlePageChange}\r\n        handleAgencyCeos={handleAgencyCeos}\r\n        handleOpenCeoModal={handleOpenCeoModal}\r\n      />\r\n      <AgencyForm\r\n        open={modal.open}\r\n        requesting={modal.requesting}\r\n        errors={modal.error && modal.error.errors}\r\n        agency={modal.agency}\r\n        handleUpdate={(agency) => dispatch(updateAgencies(agency))}\r\n        handleCreate={(agency) => dispatch(createAgencies(agency))}\r\n        handleDelete={(agency) => dispatch(deleteAgencies(agency))}\r\n        handleClose={() => dispatch(closeModal())}\r\n        handleExit={() => dispatch(fetchAgencies(meta))}\r\n        removeError={(payload) => dispatch(removeError(payload))}\r\n      />\r\n      <CeoForm\r\n        open={ceoModal.open}\r\n        requesting={ceoModal.requesting}\r\n        errors={ceoModal.error && ceoModal.error.errors}\r\n        ceo={ceoModal.ceo}\r\n        agencyId={ceoModal.agencyId}\r\n        handleUpdate={(ceo) => dispatch(updateCeos(ceo))}\r\n        handleCreate={handleCreateCeo}\r\n        handleDelete={(ceo) => dispatch(deleteCeos(ceo))}\r\n        handleClose={handleCloseCeoModal}\r\n        handleExit={() => dispatch(fetchCeos(meta))}\r\n        removeError={(payload) => dispatch(removeCeoError(payload))}\r\n      />\r\n    </Page>\r\n  )\r\n}\r\n\r\nexport default AgenciesPage\r\n","import React, { useEffect, useState } from 'react'\r\nimport { Table, Button, AutoComplete, Space } from 'antd'\r\nimport ActiveStatus from 'components/Common/ActiveStatus'\r\nimport format from 'lib/format'\r\nimport { LoginOutlined, EditOutlined } from '@ant-design/icons'\r\nimport _ from 'lodash'\r\n\r\nconst CeoList = ({\r\n  loading,\r\n  isAdmin,\r\n  data,\r\n  pagination,\r\n  meta,\r\n  handleOpen,\r\n  handleAdd,\r\n  handlePageChange,\r\n  forceLogin,\r\n  handleCeoStores,\r\n  handleCashModalOpen,\r\n  handleStoreModalOpen,\r\n}) => {\r\n  useEffect(() => {}, [])\r\n\r\n  const displayStoreCount = (ceo) => (\r\n    <span>\r\n      <Button\r\n        type=\"link\"\r\n        onClick={() =>\r\n          handleCeoStores({\r\n            ceoId: ceo.id,\r\n          })\r\n        }\r\n      >\r\n        {ceo.storeCount}\r\n      </Button>\r\n    </span>\r\n  )\r\n\r\n  const displayCeoName = (ceo) => {\r\n    return (\r\n      <span>\r\n        <span style={{ fontWeight: 'bold' }}>{ceo.username}</span>\r\n      </span>\r\n    )\r\n  }\r\n\r\n  const columns = [\r\n    {\r\n      title: '대리점',\r\n      dataIndex: 'agencyName',\r\n      key: 'agencyName',\r\n    },\r\n    {\r\n      title: '사장님이름',\r\n      dataIndex: 'displayName',\r\n      key: 'displayName',\r\n      render: (text, ceo) => displayCeoName(ceo),\r\n    },\r\n    { title: '사장님ID', dataIndex: 'loginId', key: 'loginid' },\r\n    {\r\n      title: '휴대폰',\r\n      dataIndex: 'mobile',\r\n      key: 'mobile',\r\n      render: (mobile) => format.phone(mobile),\r\n    },\r\n    {\r\n      title: '생성일',\r\n      dataIndex: 'createdAt',\r\n      key: 'createdAt',\r\n      align: 'center',\r\n      render: (date) => format.date(date),\r\n    },\r\n    {\r\n      title: '매장수',\r\n      dataIndex: 'storeCount',\r\n      key: 'storeCount',\r\n      render: (storeCount, ceo) => displayStoreCount(ceo),\r\n    },\r\n    {\r\n      title: '충전금',\r\n      dataIndex: 'cash',\r\n      key: 'cash',\r\n      render: (cash, ceo) => {\r\n        const cashNum = cash\r\n          ? cash.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\r\n          : 0\r\n        return (\r\n          <Button type=\"link\" onClick={() => handleCashModalOpen(ceo)}>\r\n            {cashNum}\r\n          </Button>\r\n        )\r\n      },\r\n    },\r\n    {\r\n      title: '활성',\r\n      dataIndex: 'active',\r\n      key: 'active',\r\n      align: 'center',\r\n      render: (active) => (\r\n        <span style={{ color: active === 'Y' ? 'green' : 'red' }}>\r\n          {active === 'Y' ? '활성' : '비활성'}\r\n        </span>\r\n      ),\r\n    },\r\n    {\r\n      title: '관리',\r\n      dataIndex: 'actions',\r\n      key: 'actions',\r\n      align: 'center',\r\n      render: (value, ceo, index) => (\r\n        <Space>\r\n          {isAdmin && (\r\n            <Button onClick={() => handleStoreModalOpen(ceo)}>매장등록</Button>\r\n          )}\r\n          <Button danger onClick={() => handleOpen(ceo)} disabled={!isAdmin}>\r\n            수정\r\n          </Button>\r\n        </Space>\r\n      ),\r\n    },\r\n  ]\r\n\r\n  return (\r\n    <div>\r\n      {/* <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n        {isAdmin && (\r\n          <>\r\n            <Button\r\n              onClick={() => handleOpen()}\r\n              type=\"primary\"\r\n              style={{ marginBottom: 16 }}\r\n            >\r\n              사장님 등록\r\n            </Button>\r\n          </>\r\n        )}\r\n      </div> */}\r\n      <Table\r\n        loading={loading}\r\n        className=\"ceosTable\"\r\n        columns={columns}\r\n        dataSource={data}\r\n        rowKey={(ceo) => ceo.id}\r\n        bordered\r\n        rowClassName={(ceo) => (ceo.active ? 'active-ceo' : '')}\r\n        pagination={{\r\n          current: pagination.current_page,\r\n          pageSize: pagination.per_page,\r\n          total: pagination.total,\r\n          onChange: handlePageChange,\r\n          showSizeChanger: false,\r\n        }}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CeoList\r\n","import request from 'lib/request'\r\n\r\nconst ceosApi = {\r\n  fetch: (meta) => request.get('/api/ceos', meta),\r\n  fetchOne: (ceo) => request.get(`/api/ceos/${ceo.id}`),\r\n  create: (ceo) => request.post('/api/ceos', ceo),\r\n  update: (ceo) => request.put(`/api/ceos/${ceo.id}`, ceo),\r\n  delete: (ceo) => request.del(`/api/ceos/${ceo.id}`),\r\n  // 적립금 처리\r\n  fetchCashes: (ceo) => request.get(`/api/ceos/${ceo.id}/cash`),\r\n  updateCash: (ceo, cash, title) =>\r\n    request.put(`/api/ceos/${ceo.id}/cash`, {\r\n      cash: cash,\r\n      title: title,\r\n    }),\r\n  //\r\n}\r\n\r\nexport default ceosApi\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Button, Modal } from 'antd'\r\nimport {\r\n  Form,\r\n  Input,\r\n  Row,\r\n  Col,\r\n  Table,\r\n  Descriptions,\r\n  Typography,\r\n  Select,\r\n} from 'antd'\r\nimport api from '../../api'\r\nimport message from 'lib/message'\r\nimport format from 'lib/format'\r\n\r\nconst { Text, Link } = Typography\r\nconst { Option } = Select\r\n// const apiUrl = process.env.REACT_APP_API_URL\r\n\r\nconst initialCash = {\r\n  type: 'add',\r\n  cash: '',\r\n  title: '',\r\n}\r\n\r\nconst CashModal = (props) => {\r\n  const { isAdmin, modal, removeError, search } = props\r\n  const { handleClose, handleExit, handleUpdate } = props\r\n  const { open, requesting, errors, ceo } = modal\r\n\r\n  const [inputs, setInputs] = useState(initialCash)\r\n  const [loading, setLoading] = useState(false)\r\n  const [cashes, setCashes] = useState([])\r\n  const [currentCeo, setCurrentCeo] = useState(ceo)\r\n\r\n  useEffect(() => {\r\n    if (ceo) fetchCashes()\r\n    if (ceo) fetchCeo()\r\n    return () => {\r\n      setInputs(initialCash)\r\n    }\r\n  }, [ceo])\r\n\r\n  const fetchCeo = () => {\r\n    api.fetchOne(ceo).then((response) => {\r\n      setCurrentCeo(response.ceo)\r\n    })\r\n  }\r\n\r\n  const fetchCashes = () => {\r\n    setLoading(true)\r\n    api\r\n      .fetchCashes(ceo)\r\n      .then((response) => {\r\n        setCashes(response.cashes)\r\n      })\r\n      .finally(() => {\r\n        setLoading(false)\r\n      })\r\n  }\r\n\r\n  const createCash = () => {\r\n    if (!inputs.cash) return false\r\n    setLoading(true)\r\n    api\r\n      .updateCash(ceo, inputs.type === 'minus' ? inputs.cash * -1 : inputs.cash)\r\n      .then((response) => {\r\n        message.success(\r\n          inputs.type === 'add' ? '충전되었습니다.' : '차감되었습니다.'\r\n        )\r\n        setInputs(initialCash)\r\n      })\r\n      .catch((error) => {\r\n        message.error(\r\n          inputs.type === 'add' ? '충전에러입니다.' : '차감에러입니다.'\r\n        )\r\n      })\r\n      .finally(() => {\r\n        fetchCashes()\r\n        fetchCeo()\r\n        handleExit()\r\n        setLoading(false)\r\n      })\r\n  }\r\n\r\n  const handleInputChange = (e) => {\r\n    setInputs({ ...inputs, [e.target.name]: e.target.value })\r\n    removeErrorWithName(errors, e.target.name)\r\n  }\r\n\r\n  const handleCashChange = (e) => {\r\n    const { value: inputValue } = e.target\r\n    const reg = /^-?\\d*(\\.\\d*)?$/\r\n\r\n    if (reg.test(inputValue) || inputValue === '' || inputValue === '-') {\r\n      setInputs({ ...inputs, cash: inputValue })\r\n    }\r\n  }\r\n\r\n  const removeErrorWithName = (errors, name) => {\r\n    errors && errors[name] && removeError({ name })\r\n  }\r\n\r\n  const footer = [\r\n    <Button\r\n      key=\"cancle\"\r\n      onClick={() => {\r\n        handleClose()\r\n        handleExit()\r\n      }}\r\n      disabled={loading}\r\n    >\r\n      닫기\r\n    </Button>,\r\n  ]\r\n\r\n  const handleChangeCashType = (value) => setInputs({ ...inputs, type: value })\r\n\r\n  const cashInputBefore = (\r\n    <Select\r\n      value={inputs.type}\r\n      style={{ width: 60 }}\r\n      onChange={handleChangeCashType}\r\n    >\r\n      <Option value=\"add\">+</Option>\r\n      <Option value=\"minus\">-</Option>\r\n    </Select>\r\n  )\r\n\r\n  if (!currentCeo) return ''\r\n\r\n  return (\r\n    <Modal\r\n      title={\r\n        <span>\r\n          <span style={{ fontWeight: 'bold', color: 'blue' }}>\r\n            {currentCeo.username}\r\n          </span>{' '}\r\n          충전금 관리\r\n        </span>\r\n      }\r\n      visible={open}\r\n      afterClose={handleExit}\r\n      onCancel={handleClose}\r\n      footer={footer}\r\n      maskClosable={false}\r\n      width={600}\r\n    >\r\n      <div>\r\n        {isAdmin && (\r\n          <Form layout=\"vertical\">\r\n            <Row gutter={16}>\r\n              <Col>\r\n                <div style={{ paddingTop: 2 }}>\r\n                  <span\r\n                    style={{\r\n                      fontSize: 16,\r\n                      color: 'gray',\r\n                      fontWeight: 'bold',\r\n                    }}\r\n                  >\r\n                    잔액{' '}\r\n                    <span style={{ color: 'red' }}>\r\n                      {currentCeo.cash\r\n                        .toString()\r\n                        .replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}{' '}\r\n                    </span>\r\n                    원\r\n                  </span>\r\n                </div>\r\n              </Col>\r\n              <Col flex=\"1 1 100px\">\r\n                <Form.Item\r\n                  validateStatus={errors && errors.storeId && 'error'}\r\n                  help={errors && errors.storeId && errors.storeId[0]}\r\n                >\r\n                  <Input\r\n                    name=\"cash\"\r\n                    addonBefore={cashInputBefore}\r\n                    value={inputs.cash}\r\n                    onChange={handleCashChange}\r\n                    disabled={loading}\r\n                    style={{ width: '100%' }}\r\n                  />\r\n                </Form.Item>\r\n              </Col>\r\n              <Col>\r\n                <Button\r\n                  type=\"primary\"\r\n                  danger={inputs.type === 'minus'}\r\n                  disabled={loading}\r\n                  onClick={createCash}\r\n                >\r\n                  {inputs.cash\r\n                    ? inputs.cash\r\n                        .toString()\r\n                        .replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\r\n                    : 0}\r\n                  원 {inputs.type === 'add' ? '충전' : '차감'}\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n          </Form>\r\n        )}\r\n        <Table\r\n          size=\"small\"\r\n          scroll={{\r\n            y: 400,\r\n          }}\r\n          columns={[\r\n            // {\r\n            //   title: 'DATE',\r\n            //   dataIndex: 'createdAt',\r\n            //   key: 'createdAt',\r\n            //   render: (createdAt) => (\r\n            //     <Text style={{ fontSize: 12 }}>\r\n            //       {format.datetime(createdAt)}\r\n            //     </Text>\r\n            //   ),\r\n            // },\r\n            {\r\n              title: 'TITLE(변동내역)',\r\n              dataIndex: 'title',\r\n              key: 'title',\r\n              render: (title, ceoCash) => (\r\n                <>\r\n                  <div>\r\n                    <Text style={{ fontSize: 12 }}>{title}</Text>\r\n                  </div>\r\n                  <div>\r\n                    <Text style={{ fontSize: 12 }}>\r\n                      {format.datetime(ceoCash.createdAt)}\r\n                    </Text>\r\n                  </div>\r\n                </>\r\n              ),\r\n            },\r\n            {\r\n              title: '금액',\r\n              dataIndex: 'cash',\r\n              key: 'cash',\r\n              align: 'center',\r\n              render: (cash) => (\r\n                <Text>\r\n                  <span\r\n                    style={{\r\n                      color: cash > 0 ? 'blue' : 'red',\r\n                      fontWeight: 'bold',\r\n                    }}\r\n                  >\r\n                    {cash.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\r\n                  </span>\r\n                  원\r\n                </Text>\r\n              ),\r\n            },\r\n            {\r\n              title: '잔액',\r\n              dataIndex: 'ceoCash',\r\n              key: 'ceoCash',\r\n              align: 'center',\r\n              render: (ceoCash) => (\r\n                <Text style={{ fontWeight: 'bold' }}>\r\n                  {ceoCash.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}원\r\n                </Text>\r\n              ),\r\n            },\r\n          ]}\r\n          dataSource={cashes}\r\n          rowKey={(ceo) => ceo.id}\r\n          loading={loading}\r\n          pagination={false}\r\n        />\r\n      </div>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default CashModal\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Button, Modal } from 'antd'\r\nimport {\r\n  Form,\r\n  Input,\r\n  Select,\r\n  Switch,\r\n  Row,\r\n  Col,\r\n  Divider,\r\n  DatePicker,\r\n  Checkbox,\r\n} from 'antd'\r\nimport { ExclamationCircleOutlined } from '@ant-design/icons'\r\n// import MultiImageInput from './MultiImageInput'\r\n// import PopuarMenuInput from './PopuarMenuInput'\r\n// import 'moment/locale/ko-kr'\r\n// import moment from 'moment'\r\nimport 'moment/locale/ko'\r\n// import locale from 'antd/es/date-picker/locale/ko_KR'\r\n\r\nconst initialStore = {\r\n  ceoId: null,\r\n  name: '',\r\n  mobile: '',\r\n  active: 'Y',\r\n}\r\n\r\nconst StoreForm = (props) => {\r\n  const { isAdmin, requesting, errors, store, removeError, ceoId } = props\r\n  const {\r\n    open,\r\n    handleClose,\r\n    handleExit,\r\n    handleCreate,\r\n    handleUpdate,\r\n    handleDelete,\r\n  } = props\r\n  const [inputs, setInputs] = useState(initialStore)\r\n  const isNew = !store\r\n\r\n  useEffect(() => {\r\n    store && store.id && setInputs(store)\r\n    return () => {\r\n      setInputs(initialStore)\r\n    }\r\n  }, [store])\r\n\r\n  const handleInputChange = (e) => {\r\n    setInputs({ ...inputs, [e.target.name]: e.target.value })\r\n    removeErrorWithName(errors, e.target.name)\r\n  }\r\n  const handleActiveChane = (value) => {\r\n    setInputs({ ...inputs, active: value ? 'Y' : 'N' })\r\n    removeErrorWithName(errors, 'active')\r\n  }\r\n  const removeErrorWithName = (errors, name) => {\r\n    errors && errors[name] && removeError({ name })\r\n  }\r\n\r\n  const handleOnCreate = () => handleCreate({ ...inputs, ceoId: ceoId })\r\n  const handleOnUpdate = () => handleUpdate(inputs)\r\n  const handleDeleteConfirm = () => {\r\n    Modal.confirm({\r\n      title: '정말로 삭제하시겠습니까?',\r\n      icon: <ExclamationCircleOutlined />,\r\n      content: '삭제하면 데이터를 복구할수 없습니다.',\r\n      okText: '삭제',\r\n      cancelText: '취소',\r\n      onOk() {\r\n        handleDelete(inputs)\r\n      },\r\n    })\r\n  }\r\n\r\n  const createFooter = [\r\n    <Button key=\"cancle\" onClick={handleClose} disabled={requesting}>\r\n      취소\r\n    </Button>,\r\n    <Button\r\n      key=\"create\"\r\n      type=\"primary\"\r\n      onClick={handleOnCreate}\r\n      disabled={requesting}\r\n    >\r\n      등록\r\n    </Button>,\r\n  ]\r\n\r\n  const updateFooter = [\r\n    <Button\r\n      key=\"delete\"\r\n      type=\"primary\"\r\n      danger\r\n      onClick={handleDeleteConfirm}\r\n      disabled={requesting || !isAdmin}\r\n    >\r\n      삭제\r\n    </Button>,\r\n    <Button key=\"cancle\" onClick={handleClose} disabled={requesting}>\r\n      취소\r\n    </Button>,\r\n    <Button\r\n      key=\"update\"\r\n      type=\"primary\"\r\n      onClick={handleOnUpdate}\r\n      disabled={requesting}\r\n    >\r\n      저장\r\n    </Button>,\r\n  ]\r\n\r\n  const layout = {\r\n    layout: 'vertical',\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      title={!isNew ? '매장 수정' : '매장 등록'}\r\n      visible={open}\r\n      afterClose={handleExit}\r\n      onCancel={handleClose}\r\n      footer={!isNew ? updateFooter : createFooter}\r\n      maskClosable={false}\r\n    >\r\n      <Form {...layout}>\r\n        <Row gutter={16}>\r\n          <Col span={12}>\r\n            <Form.Item\r\n              label=\"매장명\"\r\n              validateStatus={errors && errors.name && 'error'}\r\n              help={errors && errors.name && errors.name[0]}\r\n            >\r\n              <Input\r\n                name=\"name\"\r\n                value={inputs.name}\r\n                onChange={handleInputChange}\r\n                disabled={requesting}\r\n                placeholder=\"맛나치킨\"\r\n              />\r\n            </Form.Item>\r\n          </Col>\r\n          <Col span={12}>\r\n            <Form.Item\r\n              label=\"휴대전화번호\"\r\n              validateStatus={errors && errors.mobile && 'error'}\r\n              help={errors && errors.mobile && errors.mobile[0]}\r\n            >\r\n              <Input\r\n                name=\"mobile\"\r\n                value={inputs.mobile}\r\n                onChange={handleInputChange}\r\n                disabled={requesting}\r\n              />\r\n            </Form.Item>\r\n          </Col>\r\n          <Col span={12}>\r\n            <Form.Item\r\n              label=\"발송상태\"\r\n              validateStatus={errors && errors.active && 'error'}\r\n              help={errors && errors.active && errors.active[0]}\r\n            >\r\n              <Switch\r\n                name=\"active\"\r\n                checked={inputs.active === 'Y'}\r\n                onChange={handleActiveChane}\r\n                disabled={requesting}\r\n              />\r\n            </Form.Item>\r\n          </Col>\r\n        </Row>\r\n      </Form>\r\n    </Modal>\r\n  )\r\n}\r\nexport default StoreForm\r\n","// replace 1. Stores => Stores\r\n// replace 2. STORES => STORES\r\n// replace 3. stores => stores\r\nimport {\r\n  makeAsyncActionsTypes,\r\n  makeActionCreator,\r\n  makeAsyncActionCreator,\r\n} from 'lib/saga/reduxActionUtils'\r\nimport produce from 'immer'\r\n/************************************************************************\r\n // 1. action types\r\n \r\n FETCH_STORES.INDEX\r\n FETCH_STORES.REQUEST\r\n FETCH_STORES.SUCCESS\r\n FETCH_STORES.FAIL\r\n NORMAL_ACTION\r\n ************************************************************************/\r\nconst prefix = '@APP/STORES'\r\n\r\nexport const actionTypes = {\r\n  FETCH_STORES: makeAsyncActionsTypes(prefix, 'FETCH_STORES'),\r\n  FETCH_ONE_STORES: makeAsyncActionsTypes(prefix, 'FETCH_ONE_STORES'),\r\n  CREATE_STORES: makeAsyncActionsTypes(prefix, 'CREATE_STORES'),\r\n  UPDATE_STORES: makeAsyncActionsTypes(prefix, 'UPDATE_STORES'),\r\n  DELETE_STORES: makeAsyncActionsTypes(prefix, 'DELETE_STORES'),\r\n  CLOSE_MODAL: `${prefix}/CLOSE_MODAL`,\r\n  OPEN_MODAL: `${prefix}/OPEN_MODAL`,\r\n  REMOVE_ERROR: `${prefix}/REMOVE_ERROR`,\r\n  SET_STORES_META: `${prefix}/SET_STORES_META`,\r\n\r\n  FETCH_PHOTOS: makeAsyncActionsTypes(prefix, 'FETCH_PHOTOS'),\r\n  UPLOAD_PHOTOS: makeAsyncActionsTypes(prefix, 'UPLOAD_PHOTOS'),\r\n  DELETE_PHOTOS: makeAsyncActionsTypes(prefix, 'DELETE_PHOTOS'),\r\n  CLOSE_PHOTO_MODAL: `${prefix}/CLOSE_PHOTO_MODAL`,\r\n  OPEN_PHOTO_MODAL: `${prefix}/OPEN_PHOTO_MODAL`,\r\n\r\n  UPDATE_RETURN: makeAsyncActionsTypes(prefix, 'UPDATE_RETURN'),\r\n  CLOSE_RETURN_MODAL: `${prefix}/CLOSE_RETURN_MODAL`,\r\n  OPEN_RETURN_MODAL: `${prefix}/OPEN_RETURN_MODAL`,\r\n\r\n  UPDATE_CASH: makeAsyncActionsTypes(prefix, 'UPDATE_CASH'),\r\n  CLOSE_CASH_MODAL: `${prefix}/CLOSE_CASH_MODAL`,\r\n  OPEN_CASH_MODAL: `${prefix}/OPEN_CASH_MODAL`,\r\n\r\n  CLOSE_GIFTICON_MODAL: `${prefix}/CLOSE_GIFTICON_MODAL`,\r\n  OPEN_GIFTICON_MODAL: `${prefix}/OPEN_GIFTICON_MODAL`,\r\n\r\n  UPDATE_CONFIRM: makeAsyncActionsTypes(prefix, 'UPDATE_CONFIRM'),\r\n  UPDATE_CONFIRM2: makeAsyncActionsTypes(prefix, 'UPDATE_CONFIRM2'),\r\n  RESET_UNREAD_NOTICE: `${prefix}/RESET_UNREAD_NOTICE`,\r\n}\r\n\r\n/************************************************************************\r\n// 2. action creator\r\n\r\nfetchStores(payload)\r\nfetchStores.request(payload)\r\nfetchStores.success(payload)\r\nfetchStores.fail(payload)\r\nresetUser(payload)\r\n************************************************************************/\r\nexport const fetchStores = makeAsyncActionCreator(actionTypes.FETCH_STORES)\r\nexport const fetchOneStores = makeAsyncActionCreator(\r\n  actionTypes.FETCH_ONE_STORES\r\n)\r\nexport const createStores = makeAsyncActionCreator(actionTypes.CREATE_STORES)\r\nexport const updateStores = makeAsyncActionCreator(actionTypes.UPDATE_STORES)\r\nexport const deleteStores = makeAsyncActionCreator(actionTypes.DELETE_STORES)\r\nexport const closeModal = makeActionCreator(actionTypes.CLOSE_MODAL)\r\nexport const openModal = makeActionCreator(actionTypes.OPEN_MODAL)\r\nexport const removeError = makeActionCreator(actionTypes.REMOVE_ERROR)\r\nexport const setStoresMeta = makeActionCreator(actionTypes.SET_STORES_META)\r\n\r\nexport const fetchPhotos = makeAsyncActionCreator(actionTypes.FETCH_PHOTOS)\r\nexport const uploadPhotos = makeAsyncActionCreator(actionTypes.UPLOAD_PHOTOS)\r\nexport const deletePhotos = makeAsyncActionCreator(actionTypes.DELETE_PHOTOS)\r\nexport const closePhotoModal = makeActionCreator(actionTypes.CLOSE_PHOTO_MODAL)\r\nexport const openPhotoModal = makeActionCreator(actionTypes.OPEN_PHOTO_MODAL)\r\nexport const removePhotoError = makeActionCreator(\r\n  actionTypes.REMOVE_PHOTO_ERROR\r\n)\r\n\r\nexport const updateReturn = makeAsyncActionCreator(actionTypes.UPDATE_RETURN)\r\nexport const closeReturnModal = makeActionCreator(\r\n  actionTypes.CLOSE_RETURN_MODAL\r\n)\r\nexport const openReturnModal = makeActionCreator(actionTypes.OPEN_RETURN_MODAL)\r\n\r\nexport const updateCash = makeAsyncActionCreator(actionTypes.UPDATE_CASH)\r\nexport const closeCashModal = makeActionCreator(actionTypes.CLOSE_CASH_MODAL)\r\nexport const openCashModal = makeActionCreator(actionTypes.OPEN_CASH_MODAL)\r\n\r\nexport const closeGifticonModal = makeActionCreator(\r\n  actionTypes.CLOSE_GIFTICON_MODAL\r\n)\r\nexport const openGifticonModal = makeActionCreator(\r\n  actionTypes.OPEN_GIFTICON_MODAL\r\n)\r\n\r\nexport const updateConfirm = makeAsyncActionCreator(actionTypes.UPDATE_CONFIRM)\r\nexport const updateConfirm2 = makeAsyncActionCreator(\r\n  actionTypes.UPDATE_CONFIRM2\r\n)\r\nexport const resetUnreadNotice = makeActionCreator(\r\n  actionTypes.RESET_UNREAD_NOTICE\r\n)\r\n/***********************************************************************\r\n// 3. reducer\r\nerror format\r\n{\r\n  status: 422,\r\n  message: \"입력값을 확인해주세요.\",\r\n  errors: [\r\n    email: [{...}]\r\n  ]\r\n}\r\n\r\n************************************************************************/\r\nconst initialModalState = {\r\n  open: false,\r\n  requesting: false,\r\n  error: null,\r\n  store: null,\r\n}\r\n\r\nconst initialPhotoModalState = {\r\n  open: false,\r\n  requesting: false,\r\n  error: null,\r\n  photos: [],\r\n  store: null,\r\n  type: '',\r\n  file: null,\r\n}\r\n\r\nconst initialReturnModalState = {\r\n  open: false,\r\n  requesting: false,\r\n  error: null,\r\n  store: null,\r\n  file: null,\r\n}\r\n\r\nconst initiaConfirmModalState = {\r\n  open: false,\r\n  requesting: false,\r\n  error: null,\r\n  store: null,\r\n  file: null,\r\n}\r\n\r\nconst initiaConfirm2ModalState = {\r\n  open: false,\r\n  requesting: false,\r\n  error: null,\r\n  store: null,\r\n  file: null,\r\n}\r\nconst initialCashModalState = {\r\n  open: false,\r\n  requesting: false,\r\n  error: null,\r\n  store: null,\r\n  file: null,\r\n}\r\n\r\nconst initialGifticonModalState = {\r\n  open: false,\r\n  store: null,\r\n}\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  error: null,\r\n  stores: [],\r\n  regions: [],\r\n  categories: [],\r\n  modal: initialModalState,\r\n  meta: {\r\n    total: 0,\r\n    per_page: 10,\r\n    current_page: 1,\r\n\r\n    page: 1,\r\n    payment: null,\r\n    return: null,\r\n    confirm: null,\r\n    confirm2: null,\r\n    region: null,\r\n    coopangId: null,\r\n    name: null,\r\n    agency: null,\r\n    originalAgency: null,\r\n  },\r\n  search: {},\r\n  pagination: { total: 0, per_page: 10, current_page: 1 },\r\n  unreadNotice: 0,\r\n  photoModal: initialPhotoModalState,\r\n  returnModal: initialReturnModalState,\r\n  cashModal: initialCashModalState,\r\n  confirmModal: initiaConfirmModalState,\r\n  confirm2Modal: initiaConfirm2ModalState,\r\n  gifticonModal: initialGifticonModalState,\r\n}\r\n// fds\r\n\r\nconst storesReducer = function (state = initialState, action) {\r\n  switch (action.type) {\r\n    // FETCH_STORES\r\n    case actionTypes.FETCH_STORES.INDEX:\r\n    case actionTypes.FETCH_STORES.REQUEST:\r\n      return produce(state, (draft) => {\r\n        draft.loading = true\r\n      })\r\n    case actionTypes.FETCH_STORES.SUCCESS:\r\n      return {\r\n        ...state,\r\n        stores: action.payload.stores.data,\r\n        meta: {\r\n          total: action.payload.stores.total,\r\n          per_page: action.payload.stores.per_page,\r\n          current_page: action.payload.stores.current_page,\r\n          page: action.payload.stores.current_page,\r\n          ...action.payload.search,\r\n        },\r\n        pagination: {\r\n          total: action.payload.stores.total,\r\n          per_page: action.payload.stores.per_page,\r\n          current_page: action.payload.stores.current_page,\r\n        },\r\n        search: {\r\n          ...action.payload.search,\r\n        },\r\n        loading: false,\r\n      }\r\n    case actionTypes.FETCH_STORES.FAIL:\r\n      return { ...state, loading: false, error: action.payload.error }\r\n\r\n    /**************************************************************************************************\r\n      가맹점 모달\r\n    **************************************************************************************************/\r\n    // FETCH_ONE_STORES\r\n    case actionTypes.FETCH_ONE_STORES.INDEX:\r\n    case actionTypes.FETCH_ONE_STORES.REQUEST:\r\n      return { ...state, modal: { ...state.modal, requesting: true } }\r\n    case actionTypes.FETCH_ONE_STORES.SUCCESS:\r\n      return {\r\n        ...state,\r\n        modal: {\r\n          ...state.modal,\r\n          requesting: false,\r\n          store: action.payload.store,\r\n        },\r\n      }\r\n    case actionTypes.FETCH_ONE_STORES.FAIL:\r\n      return {\r\n        ...state,\r\n        modal: {\r\n          ...state.modal,\r\n          requesting: false,\r\n          error: action.payload.error,\r\n        },\r\n      }\r\n\r\n    // CREATE_STORES\r\n    case actionTypes.CREATE_STORES.INDEX:\r\n    case actionTypes.CREATE_STORES.REQUEST:\r\n      return {\r\n        ...state,\r\n        modal: { ...state.modal, open: true, requesting: true },\r\n      }\r\n    case actionTypes.CREATE_STORES.SUCCESS:\r\n      return { ...state, modal: { ...state.modal, requesting: false } }\r\n    case actionTypes.CREATE_STORES.FAIL:\r\n      return {\r\n        ...state,\r\n        modal: {\r\n          ...state.modal,\r\n          requesting: false,\r\n          error: action.payload.error,\r\n        },\r\n      }\r\n\r\n    // UPDATE_STORES\r\n    case actionTypes.UPDATE_STORES.INDEX:\r\n    case actionTypes.UPDATE_STORES.REQUEST:\r\n      return { ...state, modal: { ...state.modal, loading: true } }\r\n    case actionTypes.UPDATE_STORES.SUCCESS:\r\n      return { ...state, modal: { ...state.modal, loading: false }, store: {} }\r\n    case actionTypes.UPDATE_STORES.FAIL:\r\n      return {\r\n        ...state,\r\n        modal: { ...state.modal, loading: false, error: action.payload.error },\r\n      }\r\n\r\n    // DELETE_STORES\r\n    case actionTypes.DELETE_STORES.INDEX:\r\n    case actionTypes.DELETE_STORES.REQUEST:\r\n      return { ...state, modal: { ...state.modal, loading: true } }\r\n    case actionTypes.DELETE_STORES.SUCCESS:\r\n      return { ...state, modal: { ...state.modal, loading: false } }\r\n    case actionTypes.DELETE_STORES.FAIL:\r\n      return {\r\n        ...state,\r\n        modal: { ...state.modal, loading: false, error: action.payload.error },\r\n      }\r\n\r\n    // OPEN_MODAL\r\n    case actionTypes.OPEN_MODAL:\r\n      return {\r\n        ...state,\r\n        modal: { ...state.modal, open: true, ceoId: action.payload },\r\n      }\r\n    // CLOSE_MODAL\r\n    case actionTypes.CLOSE_MODAL:\r\n      return { ...state, modal: initialModalState }\r\n    // REMOVE_ERROR\r\n    case actionTypes.REMOVE_ERROR:\r\n      return produce(state, (draft) => {\r\n        draft.modal.error.errors[action.payload.name] = undefined\r\n      })\r\n    // SET_STORES_META\r\n    case actionTypes.SET_STORES_META:\r\n      return { ...state, meta: { ...state.meta, ...action.payload } }\r\n\r\n    /**************************************************************************************************\r\n      사진 모달\r\n    **************************************************************************************************/\r\n    // FETCH_PHOTOS\r\n    case actionTypes.FETCH_PHOTOS.INDEX:\r\n    case actionTypes.FETCH_PHOTOS.REQUEST:\r\n      return { ...state, photoModal: { ...state.photoModal, requesting: true } }\r\n    case actionTypes.FETCH_PHOTOS.SUCCESS:\r\n      return {\r\n        ...state,\r\n        photoModal: {\r\n          ...state.photoModal,\r\n          requesting: false,\r\n          photos: action.payload.photos,\r\n        },\r\n      }\r\n    case actionTypes.FETCH_PHOTOS.FAIL:\r\n      return {\r\n        ...state,\r\n        photoModal: {\r\n          ...state.photoModal,\r\n          requesting: false,\r\n          error: action.payload.error,\r\n        },\r\n      }\r\n\r\n    // UPLOAD_PHOTOS\r\n    case actionTypes.UPLOAD_PHOTOS.INDEX:\r\n    case actionTypes.UPLOAD_PHOTOS.REQUEST:\r\n      return {\r\n        ...state,\r\n        photoModal: { ...state.photoModal, open: true, requesting: true },\r\n      }\r\n    case actionTypes.UPLOAD_PHOTOS.SUCCESS:\r\n      return {\r\n        ...state,\r\n        photoModal: {\r\n          ...state.photoModal,\r\n          requesting: false,\r\n          photos: action.payload.photos,\r\n        },\r\n      }\r\n    case actionTypes.UPLOAD_PHOTOS.FAIL:\r\n      return {\r\n        ...state,\r\n        photoModal: {\r\n          ...state.photoModal,\r\n          requesting: false,\r\n          error: action.payload.error,\r\n        },\r\n      }\r\n\r\n    // DELETE_PHOTOS\r\n    case actionTypes.DELETE_PHOTOS.INDEX:\r\n    case actionTypes.DELETE_PHOTOS.REQUEST:\r\n      return { ...state, photoModal: { ...state.photoModal, loading: true } }\r\n    case actionTypes.DELETE_PHOTOS.SUCCESS:\r\n      return {\r\n        ...state,\r\n        photoModal: {\r\n          ...state.photoModal,\r\n          loading: false,\r\n          photos: action.payload.photos,\r\n        },\r\n      }\r\n    case actionTypes.DELETE_PHOTOS.FAIL:\r\n      return {\r\n        ...state,\r\n        photoModal: {\r\n          ...state.photoModal,\r\n          loading: false,\r\n          error: action.payload.error,\r\n        },\r\n      }\r\n\r\n    // OPEN_PHOTO_MODAL\r\n    case actionTypes.OPEN_PHOTO_MODAL:\r\n      return {\r\n        ...state,\r\n        photoModal: {\r\n          ...state.photoModal,\r\n          open: true,\r\n          store: action.payload.store,\r\n          type: action.payload.type,\r\n        },\r\n      }\r\n    // CLOSE_PHOTO_MODAL\r\n    case actionTypes.CLOSE_PHOTO_MODAL:\r\n      return { ...state, photoModal: initialReturnModalState }\r\n\r\n    /**************************************************************************************************\r\n      반려 모달\r\n    **************************************************************************************************/\r\n    // UPDATE_RETURN\r\n    case actionTypes.UPDATE_RETURN.INDEX:\r\n    case actionTypes.UPDATE_RETURN.REQUEST:\r\n      return { ...state, returnModal: { ...state.returnModal, loading: true } }\r\n    case actionTypes.UPDATE_RETURN.SUCCESS:\r\n      return {\r\n        ...state,\r\n        returnModal: { ...state.returnModal, loading: false },\r\n        store: {},\r\n      }\r\n    case actionTypes.UPDATE_RETURN.FAIL:\r\n      return {\r\n        ...state,\r\n        returnModal: {\r\n          ...state.returnModal,\r\n          loading: false,\r\n          error: action.payload.error,\r\n        },\r\n      }\r\n    // OPEN_RETURN_MODAL\r\n    case actionTypes.OPEN_RETURN_MODAL:\r\n      return {\r\n        ...state,\r\n        returnModal: {\r\n          ...state.returnModal,\r\n          open: true,\r\n          store: action.payload.store,\r\n        },\r\n      }\r\n    // CLOSE_RETURN_MODAL\r\n    case actionTypes.CLOSE_RETURN_MODAL:\r\n      return { ...state, returnModal: initialPhotoModalState }\r\n\r\n    /**************************************************************************************************\r\n      충전금 모달\r\n    **************************************************************************************************/\r\n    // UPDATE_CASH\r\n    case actionTypes.UPDATE_CASH.INDEX:\r\n    case actionTypes.UPDATE_CASH.REQUEST:\r\n      return { ...state, cashModal: { ...state.cashModal, loading: true } }\r\n    case actionTypes.UPDATE_CASH.SUCCESS:\r\n      return {\r\n        ...state,\r\n        cashModal: { ...state.cashModal, loading: false },\r\n        store: {},\r\n      }\r\n    case actionTypes.UPDATE_CASH.FAIL:\r\n      return {\r\n        ...state,\r\n        cashModal: {\r\n          ...state.cashModal,\r\n          loading: false,\r\n          error: action.payload.error,\r\n        },\r\n      }\r\n    // OPEN_CASH_MODAL\r\n    case actionTypes.OPEN_CASH_MODAL:\r\n      return {\r\n        ...state,\r\n        cashModal: {\r\n          ...state.cashModal,\r\n          open: true,\r\n          store: action.payload.store,\r\n        },\r\n      }\r\n    // CLOSE_CASH_MODAL\r\n    case actionTypes.CLOSE_CASH_MODAL:\r\n      return { ...state, cashModal: initialCashModalState }\r\n\r\n    /**************************************************************************************************\r\n      gifticon 모달\r\n    **************************************************************************************************/\r\n    // OPEN_GIFTICON_MODAL\r\n    case actionTypes.OPEN_GIFTICON_MODAL:\r\n      return {\r\n        ...state,\r\n        gifticonModal: {\r\n          ...state.gifticonModal,\r\n          open: true,\r\n          store: action.payload.store,\r\n        },\r\n      }\r\n    // CLOSE_CASH_MODAL\r\n    case actionTypes.CLOSE_GIFTICON_MODAL:\r\n      return { ...state, gifticonModal: initialGifticonModalState }\r\n\r\n    /**************************************************************************************************\r\n      검수 모달\r\n    **************************************************************************************************/\r\n    // UPDATE_CONFIRM\r\n    case actionTypes.UPDATE_CONFIRM.INDEX:\r\n    case actionTypes.UPDATE_CONFIRM.REQUEST:\r\n      return {\r\n        ...state,\r\n        confirmModal: { ...state.confirmModal, loading: true },\r\n      }\r\n    case actionTypes.UPDATE_CONFIRM.SUCCESS:\r\n      return {\r\n        ...state,\r\n        confirmModal: { ...state.confirmModal, loading: false },\r\n        store: {},\r\n      }\r\n    case actionTypes.UPDATE_CONFIRM.FAIL:\r\n      return {\r\n        ...state,\r\n        confirmModal: {\r\n          ...state.confirmModal,\r\n          loading: false,\r\n          error: action.payload.error,\r\n        },\r\n      }\r\n    /**************************************************************************************************\r\n      승인 모달\r\n    **************************************************************************************************/\r\n    // UPDATE_CONFIRM\r\n    case actionTypes.UPDATE_CONFIRM2.INDEX:\r\n    case actionTypes.UPDATE_CONFIRM2.REQUEST:\r\n      return {\r\n        ...state,\r\n        confirm2Modal: { ...state.confirm2Modal, loading: true },\r\n      }\r\n    case actionTypes.UPDATE_CONFIRM2.SUCCESS:\r\n      return {\r\n        ...state,\r\n        confirm2Modal: { ...state.confirm2Modal, loading: false },\r\n        store: {},\r\n      }\r\n    case actionTypes.UPDATE_CONFIRM2.FAIL:\r\n      return {\r\n        ...state,\r\n        confirm2Modal: {\r\n          ...state.confirm2Modal,\r\n          loading: false,\r\n          error: action.payload.error,\r\n        },\r\n      }\r\n    /**************************************************************************************************\r\n      안읽은 공지사항 reset\r\n    **************************************************************************************************/\r\n    case actionTypes.RESET_UNREAD_NOTICE:\r\n      return { ...state, unreadNotice: 0 }\r\n    /**************************************************************************************************\r\n      \r\n    **************************************************************************************************/\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default storesReducer\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport omit from 'lodash/omit'\r\nimport message from 'lib/message'\r\nimport {\r\n  fetchCeos,\r\n  fetchOneCeos,\r\n  createCeos,\r\n  updateCeos,\r\n  deleteCeos,\r\n  openModal,\r\n  closeModal,\r\n  removeError,\r\n} from '../../store'\r\nimport queryString from 'query-string'\r\n\r\nimport Page from 'components/Common/Page'\r\nimport CeoForm from '../../components/CeoForm'\r\nimport CeoList from '../../components/CeoList'\r\n\r\nimport CashModal from '../../components/CashModal'\r\nimport { openCashModal, closeCashModal, updateCash } from '../../store'\r\n\r\nimport StoreForm from 'modules/stores/components/StoreForm'\r\nimport {\r\n  openModal as openStoreModal,\r\n  closeModal as closeStoreModal,\r\n  createStores,\r\n  updateStores,\r\n  deleteStores,\r\n  removeError as removeStoreError,\r\n} from 'modules/stores/store'\r\n\r\nconst CeosPage = (props) => {\r\n  const { history, location } = props\r\n\r\n  const dispatch = useDispatch()\r\n  const loading = useSelector((store) => !!store.ceos.loading)\r\n  const ceos = useSelector((store) => store.ceos.ceos)\r\n  const meta = useSelector((store) => store.ceos.meta)\r\n  const modal = useSelector((store) => store.ceos.modal)\r\n  const cashModal = useSelector((store) => store.ceos.cashModal)\r\n  const pagination = useSelector((store) => store.ceos.pagination)\r\n  const isAdmin = useSelector(\r\n    (store) => store.account.user && store.account.user.role === 'admin'\r\n  )\r\n\r\n  const storeModal = useSelector((store) => store.stores.modal)\r\n\r\n  useEffect(() => {\r\n    const _query = queryString.parse(location.search)\r\n    dispatch(fetchCeos(_query))\r\n  }, [dispatch, location.search])\r\n\r\n  const handleOpen = (ceo) => {\r\n    ceo && dispatch(fetchOneCeos(ceo))\r\n    dispatch(openModal())\r\n  }\r\n\r\n  const handlePageChange = (page) =>\r\n    dispatch(fetchCeos(omit({ ...meta, currentPage: page }, 'total')))\r\n  // const handleSearch = (search) => dispatch(fetchCeos({ ...meta, ...search }))\r\n\r\n  const handleCeoStores = (meta) => {\r\n    if (meta.ceo && meta.ceo === 'self') {\r\n      history.push(`/stores`)\r\n      return\r\n    } else {\r\n      const text = queryString.stringify(meta)\r\n      history.push(`/stores?${text}`)\r\n      return\r\n    }\r\n  }\r\n\r\n  const handleCashModalOpen = (ceo) => {\r\n    dispatch(openCashModal({ ceo: ceo }))\r\n  }\r\n\r\n  const handleExit = () => {\r\n    dispatch(fetchCeos(queryString.parse(location.search)))\r\n  }\r\n\r\n  const handleStoreModalOpen = (ceo) => {\r\n    dispatch(openStoreModal(ceo.id))\r\n  }\r\n\r\n  return (\r\n    <Page>\r\n      <CeoList\r\n        isAdmin={isAdmin}\r\n        loading={loading}\r\n        meta={meta}\r\n        data={ceos}\r\n        pagination={pagination}\r\n        handleOpen={handleOpen}\r\n        handlePageChange={handlePageChange}\r\n        handleCeoStores={handleCeoStores}\r\n        handleCashModalOpen={handleCashModalOpen}\r\n        handleStoreModalOpen={handleStoreModalOpen}\r\n      />\r\n      <CeoForm\r\n        open={modal.open}\r\n        requesting={modal.requesting}\r\n        errors={modal.error && modal.error.errors}\r\n        ceo={modal.ceo}\r\n        handleUpdate={(ceo) => dispatch(updateCeos(ceo))}\r\n        handleCreate={(ceo) => dispatch(createCeos(ceo))}\r\n        handleDelete={(ceo) => dispatch(deleteCeos(ceo))}\r\n        handleClose={() => dispatch(closeModal())}\r\n        handleExit={() => dispatch(fetchCeos(meta))}\r\n        removeError={(payload) => dispatch(removeError(payload))}\r\n      />\r\n      <CashModal\r\n        isAdmin={isAdmin}\r\n        modal={cashModal}\r\n        handleClose={() => dispatch(closeCashModal())}\r\n        handleExit={handleExit}\r\n        handleUpdate={(payload) => dispatch(updateCash(payload))}\r\n      />{' '}\r\n      <StoreForm\r\n        isAdmin={isAdmin}\r\n        open={storeModal.open}\r\n        requesting={storeModal.requesting}\r\n        ceoId={storeModal.ceoId}\r\n        errors={storeModal.error && storeModal.error.errors}\r\n        store={storeModal.store}\r\n        handleUpdate={(store) => dispatch(updateStores(store))}\r\n        handleCreate={(store) => dispatch(createStores(store))}\r\n        handleDelete={(store) => dispatch(deleteStores(store))}\r\n        handleClose={() => dispatch(closeStoreModal())}\r\n        handleExit={() => dispatch(fetchCeos(meta))}\r\n        removeError={(payload) => dispatch(removeStoreError(payload))}\r\n      />\r\n    </Page>\r\n  )\r\n}\r\n\r\nexport default CeosPage\r\n","import React, { useEffect, useState } from 'react'\r\nimport { Modal, Form, Input, Button, message } from 'antd'\r\nimport accountApi from 'modules/core/account/api'\r\n\r\nconst initialInputs = {\r\n  old_password: '',\r\n  new_password: '',\r\n  new_password_confirm: '',\r\n}\r\n\r\nconst PasswordModal = ({ open, handleClose }) => {\r\n  const [inputs, setInputs] = useState(initialInputs)\r\n  const [requesting, setRequesting] = useState(false)\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      setInputs(initialInputs)\r\n    }\r\n  }, [])\r\n\r\n  const handleExit = () => setInputs(initialInputs)\r\n\r\n  const handleChange = (e) => {\r\n    console.log(e.target.name, e.target.value)\r\n    setInputs({ ...inputs, [e.target.name]: e.target.value })\r\n  }\r\n\r\n  const handleSubmit = () => {\r\n    if (!inputs.old_password || !inputs.new_password || !inputs.new_password_confirm) {\r\n      message.error('입력사항을 모두 입력해주세요.')\r\n      return\r\n    }\r\n    if (inputs.new_password !== inputs.new_password_confirm) {\r\n      message.error('신규 비밀번호와 비밀번호 확인이 일치하지 않습니다.')\r\n      return\r\n    }\r\n\r\n    setRequesting(true)\r\n    accountApi\r\n      .password(inputs)\r\n      .then((response) => {\r\n        message.success('비밀번호가 변경되었습니다.')\r\n        setRequesting(false)\r\n        handleClose()\r\n      })\r\n      .catch((error) => {\r\n        message.error(error.message)\r\n        setRequesting(false)\r\n      })\r\n  }\r\n\r\n  const footer = [\r\n    <Button key=\"cancle\" onClick={handleClose} disabled={requesting}>\r\n      취소\r\n    </Button>,\r\n    <Button key=\"create\" type=\"primary\" onClick={handleSubmit} disabled={requesting}>\r\n      변경\r\n    </Button>,\r\n  ]\r\n\r\n  return (\r\n    <Modal width={420} title=\"비밀번호 변경\" visible={open} afterClose={handleExit} onCancel={handleClose} footer={footer} maskClosable={false}>\r\n      <Form>\r\n        <Form.Item label=\"현재 비밀번호\">\r\n          <Input.Password name=\"old_password\" value={inputs.old_password} onChange={handleChange} />\r\n        </Form.Item>\r\n\r\n        <Form.Item label=\"신규 비밀번호\">\r\n          <Input.Password name=\"new_password\" value={inputs.new_password} onChange={handleChange} />\r\n        </Form.Item>\r\n\r\n        <Form.Item label=\"비밀번호 확인\">\r\n          <Input.Password name=\"new_password_confirm\" value={inputs.new_password_confirm} onChange={handleChange} />\r\n        </Form.Item>\r\n      </Form>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default PasswordModal\r\n","import React, { useState } from 'react'\r\nimport { Link, Redirect } from 'react-router-dom'\r\nimport { Layout, Menu, Button } from 'antd'\r\nimport history from 'lib/history'\r\n\r\nconst { SubMenu } = Menu\r\n\r\nconst { Sider } = Layout\r\n\r\nconst getSubMenu = (route) => {\r\n  // console.log(route)\r\n  if (!route.sidebar) return null\r\n  return (\r\n    <SubMenu key={route.path} icon={route.icon} title={route.name}>\r\n      {route.routes.map((sub) => getMenu(sub))}\r\n    </SubMenu>\r\n  )\r\n}\r\n\r\nconst getMenu = (route) => {\r\n  if (!route.sidebar) return null\r\n  return (\r\n    <Menu.Item key={route.path} icon={route.icon}>\r\n      <Link to={route.path}>{route.name}</Link>\r\n    </Menu.Item>\r\n  )\r\n}\r\n\r\nconst AdminLayout = ({ isAuthenticated, children, handleLogout, routes }) => {\r\n  const [collapsed, setCollapsed] = useState(false)\r\n\r\n  const onCollapse = () => setCollapsed(!collapsed)\r\n\r\n  if (!isAuthenticated) return <Redirect to=\"/login\" />\r\n\r\n  return (\r\n    <Layout style={{ minHeight: '100vh' }} id=\"admin-layout\">\r\n      <Sider collapsible collapsed={collapsed} onCollapse={onCollapse} style={{ overflow: 'auto', height: '100vh', position: 'fixed', left: 0 }}>\r\n        <div className=\"logo\" />\r\n        <Menu theme=\"dark\" defaultSelectedKeys={[history.location.pathname]} defaultOpenKeys={['/delivery']} mode=\"inline\">\r\n          {routes.map((route) => (route.routes ? getSubMenu(route) : getMenu(route)))}\r\n          <Menu.Item>\r\n            <Button type=\"link\" onClick={handleLogout} style={{ color: 'yellow' }}>\r\n              로그아웃\r\n            </Button>\r\n          </Menu.Item>\r\n        </Menu>\r\n      </Sider>\r\n      <Layout className=\"site-layout\" style={{ marginLeft: collapsed ? 80 : 200 }}>\r\n        {children}\r\n      </Layout>\r\n    </Layout>\r\n  )\r\n}\r\nexport default AdminLayout\r\n","export default __webpack_public_path__ + \"static/media/logo.b1f686e6.png\";","import React, { useState } from 'react'\r\nimport { Link, Redirect, useHistory } from 'react-router-dom'\r\nimport { Layout, Menu, Button } from 'antd'\r\n// import history from 'lib/history'\r\nimport logoImg from './logo.png'\r\n\r\nimport { PhoneFilled } from '@ant-design/icons'\r\nimport PasswordModal from './PasswordModal/PasswordModal'\r\n\r\nconst { SubMenu } = Menu\r\n\r\nconst { Header } = Layout\r\n\r\nconst getSubMenu = (route, user) => {\r\n  // console.log(route)\r\n  if (!route.sidebar) return null\r\n  if (route.role === 'admin' && user.role !== 'admin') return null\r\n  return (\r\n    <SubMenu key={route.path} icon={route.icon} title={route.name}>\r\n      {route.routes.map((sub) => getMenu(sub))}\r\n    </SubMenu>\r\n  )\r\n}\r\n\r\nconst getMenu = (route, user) => {\r\n  if (!route.sidebar) return null\r\n  if (route.role === 'admin' && user.role !== 'admin') return null\r\n  if (route.path === '/agencies' && user.depth > 1) return null\r\n  return (\r\n    <Menu.Item key={route.path} icon={route.icon}>\r\n      <Link to={route.path}>{route.name}</Link>\r\n    </Menu.Item>\r\n  )\r\n}\r\n\r\nconst DefaultLayout = ({ user, children, handleLogout, routes, location }) => {\r\n  let history = useHistory()\r\n  const [passwordModalOpen, setPasswordModalOpen] = useState(false)\r\n\r\n  if (!user) return <Redirect to=\"/login\" />\r\n\r\n  const openPasswordModal = () => {\r\n    setPasswordModalOpen(true)\r\n  }\r\n\r\n  const closePasswordModal = () => {\r\n    setPasswordModalOpen(false)\r\n  }\r\n\r\n  return (\r\n    <Layout style={{ minHeight: '100vh', minWidth: 1400 }} id=\"default-layout\">\r\n      <Header>\r\n        <div style={{ display: 'flex' }}>\r\n          <div\r\n            style={{ color: '#e6f7ff', marginRight: 20, fontWeight: 'bold' }}\r\n          >\r\n            리뷰왕도토리맨\r\n          </div>\r\n          {/* <div className=\"logo\">\r\n            <img src={logoImg} alt=\"shinhan app\" style={{ height: 20 }} />\r\n          </div> */}\r\n          <Menu\r\n            theme=\"dark\"\r\n            mode=\"horizontal\"\r\n            selectedKeys={[history.location.pathname]}\r\n          >\r\n            {routes.map((route) =>\r\n              route.routes ? getSubMenu(route, user) : getMenu(route, user)\r\n            )}\r\n          </Menu>\r\n          {/* <div className=\"helpPhone\">\r\n            <PhoneFilled /> 010-0000-0000\r\n          </div> */}\r\n        </div>\r\n        <div className=\"account-action\">\r\n          {user.username}\r\n          <Button\r\n            type=\"link\"\r\n            onClick={() => openPasswordModal()}\r\n            style={{ color: '#fff2f0' }}\r\n          >\r\n            비밀번호변경\r\n          </Button>\r\n          <Button\r\n            type=\"link\"\r\n            onClick={handleLogout}\r\n            style={{ color: '#fff2f0' }}\r\n          >\r\n            로그아웃\r\n          </Button>\r\n        </div>\r\n      </Header>\r\n      <Layout className=\"site-layout\">{children}</Layout>\r\n      <PasswordModal\r\n        open={passwordModalOpen}\r\n        handleClose={closePasswordModal}\r\n      />\r\n    </Layout>\r\n  )\r\n}\r\nexport default DefaultLayout\r\n","import request from 'lib/request'\r\nimport axios from 'lib/request/axios'\r\n\r\nconst storesApi = {\r\n  fetch: (meta) => request.get('/api/stores', meta),\r\n  fetchOne: (store) => request.get(`/api/stores/${store.id}`),\r\n  create: (store) => request.post('/api/stores', store),\r\n  update: (store) => request.put(`/api/stores/${store.id}`, store),\r\n  delete: (store) => request.del(`/api/stores/${store.id}`),\r\n  fetchAll: (meta) =>\r\n    axios({ method: 'get', url: '/api/stores/all', params: meta }),\r\n\r\n  // cashChange: (store, cash, title) =>\r\n  //   request.post(`/api/admin/cash/stores/${store.id}/change`, {\r\n  //     cash: cash,\r\n  //     title: title,\r\n  //   }),\r\n  // storeCashes: (store) => request.get(`/api/stores/${store.id}/cash`),\r\n  fetchGifticons: () => request.get('/api/gifticons/simple'),\r\n  updateStoreGifticon: (store, inputs) =>\r\n    request.put(`/api/stores/${store.id}/gifticon`, inputs),\r\n\r\n  deletePayment: (payload) =>\r\n    request.del(`/api/stores/${payload.storeId}/payment/${payload.yearMonth}`),\r\n  addPayment: (payload) =>\r\n    request.post(`/api/stores/${payload.storeId}/payment`, {\r\n      yearMonth: payload.yearMonth,\r\n    }),\r\n\r\n  fetchStoreGifticons: (store) =>\r\n    request.get(`/api/stores/${store.id}/gifticons`),\r\n  addStoreGifticon: (store, gifticonCode) =>\r\n    request.post(`/api/stores/${store.id}/gifticons`, {\r\n      gifticonCode: gifticonCode,\r\n    }),\r\n  deleteStoreGifticon: (store, gifticonCode) =>\r\n    request.del(`/api/stores/${store.id}/gifticons/${gifticonCode}`),\r\n}\r\n\r\nexport default storesApi\r\n","import React from 'react'\r\nimport { Table, Tag, Space, Button, message, Typography } from 'antd'\r\nimport moment from 'moment'\r\n\r\nconst StoreList = ({\r\n  isAdmin,\r\n  loading,\r\n  downloading,\r\n  stores,\r\n  pagination,\r\n  handleOpen,\r\n  handlePageChange,\r\n  handleGifticonModalOpen,\r\n  handleSearch,\r\n}) => {\r\n  const handleAgencyLink = (agencyId) => handleSearch({ agency: agencyId })\r\n\r\n  const columns = [\r\n    {\r\n      title: '대리점',\r\n      dataIndex: 'agencyName',\r\n      key: 'agencyName',\r\n      // render: (agencyName, store) => displayAgencyName(store),\r\n    },\r\n    {\r\n      title: '사장님',\r\n      dataIndex: 'ceoName',\r\n      key: 'ceoName',\r\n      // render: (agencyName, store) => displayAgencyName(store),\r\n    },\r\n    {\r\n      title: '사장님충전금',\r\n      dataIndex: 'cash',\r\n      key: 'cash',\r\n      render: (cash, store) =>\r\n        cash.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ','),\r\n    },\r\n    {\r\n      title: '매장명',\r\n      dataIndex: 'name',\r\n      key: 'name',\r\n      render: (name, store) => (\r\n        <span style={{ fontWeight: 'bold' }}>{name}</span>\r\n      ),\r\n    },\r\n    { title: '휴대폰', dataIndex: 'mobile', key: 'mobile' },\r\n    {\r\n      title: '기프티콘',\r\n      dataIndex: 'gifticonCount',\r\n      key: 'gifticonCount',\r\n      align: 'center',\r\n      render: (gifticonCount) => gifticonCount,\r\n    },\r\n    {\r\n      title: '등록일',\r\n      dataIndex: 'createdAt',\r\n      key: 'createdAt',\r\n      align: 'center',\r\n      render: (createdAt) => (createdAt ? createdAt.substring(0, 10) : ''),\r\n    },\r\n    {\r\n      title: '상태',\r\n      dataIndex: 'active',\r\n      key: 'active',\r\n      align: 'center',\r\n      render: (active) =>\r\n        active === 'Y' ? (\r\n          <span style={{ color: 'green' }}>발송</span>\r\n        ) : (\r\n          <span style={{ color: 'red' }}>중지</span>\r\n        ),\r\n    },\r\n    {\r\n      title: '관리',\r\n      dataIndex: 'actions',\r\n      align: 'center',\r\n      key: 'actions',\r\n      render: (text, store) => (\r\n        <Space size=\"small\">\r\n          <Button onClick={() => handleGifticonModalOpen(store)}>\r\n            기프티콘\r\n          </Button>\r\n          {isAdmin && (\r\n            <Button danger onClick={() => handleOpen(store)}>\r\n              수정\r\n            </Button>\r\n          )}\r\n        </Space>\r\n      ),\r\n    },\r\n  ]\r\n\r\n  return (\r\n    <div>\r\n      <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n        <div></div>\r\n        <div>\r\n          <span style={{ fontWeight: 'bold', marginRight: 15 }}>\r\n            <span style={{ color: 'gray' }}>Total: </span>\r\n            {pagination.total.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <Table\r\n        bordered\r\n        columns={columns}\r\n        dataSource={stores}\r\n        rowKey={(store) => store.id}\r\n        loading={loading}\r\n        pagination={{\r\n          current: pagination.current_page,\r\n          pageSize: pagination.per_page,\r\n          total: pagination.total,\r\n          onChange: handlePageChange,\r\n          showSizeChanger: false,\r\n        }}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default StoreList\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Form, Input, Select, Button, Space } from 'antd'\r\nimport getYmOptions from 'lib/getYmOptions'\r\n\r\nconst initialSearch = {\r\n  name: '',\r\n}\r\n\r\nconst StoreSearch = ({ meta, handleSearch, categories }) => {\r\n  const [search, setSearch] = useState(initialSearch)\r\n\r\n  useEffect(() => {\r\n    setSearch({ ...initialSearch, ...meta })\r\n  }, [meta])\r\n\r\n  const handleSearchChange = (e) => {\r\n    // console.log(e.target.name, e.target.value)\r\n    setSearch({ ...search, [e.target.name]: e.target.value })\r\n  }\r\n  // const handleReturnChange = (value) => setSearch({ ...search, return: value })\r\n  // const handlePaymentChange = (value) =>\r\n  //   setSearch({ ...search, payment: value })\r\n  // const handleConfirmChange = (value) =>\r\n  //   setSearch({ ...search, confirm: value })\r\n  // const handleConfirm2Change = (value) =>\r\n  //   setSearch({ ...search, confirm2: value })\r\n  // const handleConfirm2MonthChange = (value) =>\r\n  //   setSearch({ ...search, confirm2Month: value })\r\n  // const handlePaymentYMChange = (value) =>\r\n  //   setSearch({ ...search, payYMonth: value })\r\n  const handleCategoryChange = (value) =>\r\n    setSearch({ ...search, category: value })\r\n\r\n  const handleSubmit = () => {\r\n    let _search = {\r\n      // payment: search.payment ? search.payment : undefined,\r\n      // return: search.return ? search.return : undefined,\r\n      // confirm: search.confirm ? search.confirm : undefined,\r\n      // confirm2: search.confirm2 ? search.confirm2 : undefined,\r\n      // confirm2Month: search.confirm2Month ? search.confirm2Month : undefined,\r\n      // companyRcode: search.companyRcode ? search.companyRcode : undefined,\r\n      // payYMonth: search.payYMonth ? search.payYMonth : undefined,\r\n      name: search.name ? search.name : undefined,\r\n      // category: search.category ? search.category : undefined,\r\n      // code: search.code ? search.code : undefined,\r\n    }\r\n\r\n    handleSearch(_search)\r\n  }\r\n\r\n  const handleReset = () => {\r\n    handleSearch({})\r\n  }\r\n\r\n  // const ymOptions = getYmOptions()\r\n  // const ymOptionsConfirm2 = getYmOptions('YYYY-MM')\r\n\r\n  return (\r\n    <Form\r\n      layout=\"inline\"\r\n      style={{ marginBottom: 16, justifyContent: 'flex-end' }}\r\n    >\r\n      {/* <Form.Item>\r\n        <Select\r\n          name=\"payment\"\r\n          defaultValue=\"\"\r\n          value={search.payment}\r\n          onChange={handlePaymentChange}\r\n          style={{ width: 150 }}\r\n        >\r\n          <Select.Option value=\"\">= 정산 선택 =</Select.Option>\r\n          <Select.Option value=\"Y\">정산완료</Select.Option>\r\n          <Select.Option value=\"N\">미정산</Select.Option>\r\n        </Select>\r\n      </Form.Item>\r\n      <Form.Item>\r\n        <Select\r\n          name=\"payYMonth\"\r\n          defaultValue=\"\"\r\n          value={search.payYMonth}\r\n          onChange={handlePaymentYMChange}\r\n          style={{ width: 150 }}\r\n        >\r\n          <Select.Option value=\"\">= 정산월 선택 =</Select.Option>\r\n          {ymOptions.map((option) => (\r\n            <Select.Option key={option.value} value={option.value}>\r\n              {option.label}\r\n            </Select.Option>\r\n          ))}\r\n        </Select>\r\n      </Form.Item>\r\n      <Form.Item>\r\n        <Select\r\n          name=\"return\"\r\n          defaultValue=\"\"\r\n          value={search.return}\r\n          onChange={handleReturnChange}\r\n          style={{ width: 150 }}\r\n        >\r\n          <Select.Option value=\"\">= 보완요청 선택 =</Select.Option>\r\n          <Select.Option value=\"none\">정상</Select.Option>\r\n          <Select.Option value=\"return\">보완요청</Select.Option>\r\n          <Select.Option value=\"done\">처리완료</Select.Option>\r\n        </Select>\r\n      </Form.Item>\r\n      <Form.Item>\r\n        <Select\r\n          name=\"confirm\"\r\n          defaultValue=\"\"\r\n          value={search.confirm}\r\n          onChange={handleConfirmChange}\r\n          style={{ width: 150 }}\r\n        >\r\n          <Select.Option value=\"\">= 검수 선택 =</Select.Option>\r\n          <Select.Option value=\"Y\">검수완료</Select.Option>\r\n          <Select.Option value=\"X\">검수요청</Select.Option>\r\n          <Select.Option value=\"N\">검수대기</Select.Option>\r\n        </Select>\r\n      </Form.Item>\r\n      <Form.Item>\r\n        <Select\r\n          name=\"confirm2\"\r\n          defaultValue=\"\"\r\n          value={search.confirm2}\r\n          onChange={handleConfirm2Change}\r\n          style={{ width: 150 }}\r\n        >\r\n          <Select.Option value=\"\">= 승인 선택 =</Select.Option>\r\n          <Select.Option value=\"Y\">승인완료</Select.Option>\r\n          <Select.Option value=\"N\">승인대기</Select.Option>\r\n        </Select>\r\n      </Form.Item>\r\n      <Form.Item>\r\n        <Select\r\n          name=\"confirm2Month\"\r\n          defaultValue=\"\"\r\n          value={search.confirm2Month}\r\n          onChange={handleConfirm2MonthChange}\r\n          style={{ width: 150 }}\r\n        >\r\n          <Select.Option value=\"\">= 승인월 선택 =</Select.Option>\r\n          {ymOptionsConfirm2.map((option) => (\r\n            <Select.Option key={option.value} value={option.value}>\r\n              {option.label}\r\n            </Select.Option>\r\n          ))}\r\n        </Select>\r\n      </Form.Item> */}\r\n\r\n      <Form.Item>\r\n        <Input\r\n          name=\"name\"\r\n          prefix={\r\n            <span style={{ fontWeight: 'bold', color: 'gray' }}>\r\n              가맹점명:{' '}\r\n            </span>\r\n          }\r\n          value={search.name}\r\n          onChange={handleSearchChange}\r\n          style={{ width: 200 }}\r\n        />\r\n      </Form.Item>\r\n      <Form.Item>\r\n        <Space>\r\n          <Button onClick={handleReset}>리셋</Button>\r\n          <Button type=\"primary\" onClick={handleSubmit}>\r\n            검색\r\n          </Button>\r\n        </Space>\r\n      </Form.Item>\r\n    </Form>\r\n  )\r\n}\r\n\r\nexport default StoreSearch\r\n","import React from 'react'\nimport { Button, Row, Col, Modal } from 'antd'\n\nimport { ExclamationCircleOutlined } from '@ant-design/icons'\n// function downloadImage(src) {\n//   const img = new Image()\n//   // img.crossOrigin = 'anonymous'\n//   img.crossOrigin = 'https://api.dragondotori.co.kr'\n//   img.src = src\n//   img.onload = () => {\n//     // create Canvas\n//     const canvas = document.createElement('canvas')\n//     const ctx = canvas.getContext('2d')\n//     canvas.width = img.width\n//     canvas.height = img.height\n//     ctx.drawImage(img, 0, 0)\n//     // create <a> tag\n//     const a = document.createElement('a')\n//     a.download = 'download.png'\n//     a.href = canvas.toDataURL('image/png')\n//     a.click()\n//   }\n// }\n\nconst StoreGifticon = (props) => {\n  const { gifticon, handleDelete, isAdmin } = props\n\n  const handleClick = () => {\n    Modal.confirm({\n      title: '정말로 삭제하시겠습니까?',\n      icon: <ExclamationCircleOutlined />,\n      content: '삭제하면 고객이 리뷰를 업로드할 수 없습니다.',\n      okText: '삭제',\n      cancelText: '취소',\n      onOk() {\n        handleDelete(gifticon.gifticonCode)\n      },\n    })\n  }\n\n  return (\n    <div\n      style={{\n        padding: '10px 0',\n        borderBottom: '1px solid lightgray',\n        marginBottom: 10,\n      }}\n    >\n      <Row gutter={16}>\n        <Col flex=\"0 1 100px\">\n          <img\n            alt=\"\"\n            src={process.env.REACT_APP_API_URL + gifticon.qrPath}\n            style={{ width: 100 }}\n          />\n        </Col>\n        <Col flex=\"1 1 200px\">\n          <div style={{ fontWeight: 'bold' }}>{gifticon.gifticonName}</div>\n          <div>\n            {gifticon.gifticonPrice\n              .toString()\n              .replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\n            원\n          </div>\n          <div style={{ fontSize: 10 }}>\n            <a href={gifticon.qrUrl} rel=\"noreferrer noopener\" target=\"_blank\">\n              {gifticon.qrUrl}\n            </a>\n          </div>\n          <div>\n            {gifticon.qrShortUrl}{' '}\n            {isAdmin && (\n              <span style={{ float: 'right' }}>\n                <Button danger onClick={handleClick}>\n                  삭제\n                </Button>\n              </span>\n            )}{' '}\n          </div>\n        </Col>\n      </Row>\n    </div>\n  )\n}\n\nexport default StoreGifticon\n","import React, { useState, useEffect } from 'react'\r\nimport { Button, Modal } from 'antd'\r\nimport {\r\n  Form,\r\n  Input,\r\n  Radio,\r\n  Divider,\r\n  Upload,\r\n  Row,\r\n  Col,\r\n  Space,\r\n  Table,\r\n  Descriptions,\r\n  Typography,\r\n  InputNumber,\r\n  Select,\r\n} from 'antd'\r\nimport { UploadOutlined } from '@ant-design/icons'\r\nimport getCheckedToken from 'lib/request/getCheckedToken'\r\nimport PhotoViewer from '../StorePhoto/PhotoViewer'\r\nimport storesApi from 'modules/stores/api'\r\nimport nl2br from 'react-nl2br'\r\nimport message from 'lib/message'\r\nimport format from 'lib/format'\r\n\r\nconst { Text, Link } = Typography\r\nconst { Option } = Select\r\n// const apiUrl = process.env.REACT_APP_API_URL\r\n\r\nconst initialCash = {\r\n  type: 'add',\r\n  cash: '',\r\n  title: '',\r\n}\r\n\r\nconst CashModal = (props) => {\r\n  const { isAdmin, modal, removeError, search } = props\r\n  const { handleClose, handleExit, handleUpdate } = props\r\n  const { open, requesting, errors, store } = modal\r\n\r\n  const [inputs, setInputs] = useState(initialCash)\r\n  const [loading, setLoading] = useState(false)\r\n  const [storeCashes, setStoreCashes] = useState([])\r\n  const [currentStore, setCurrentStore] = useState(store)\r\n\r\n  useEffect(() => {\r\n    if (store) fetchStoreCashes()\r\n    if (store) fetchStore()\r\n    return () => {\r\n      setInputs(initialCash)\r\n    }\r\n  }, [store])\r\n\r\n  const fetchStore = () => {\r\n    storesApi.fetchOne(store).then((response) => {\r\n      setCurrentStore(response.store)\r\n    })\r\n  }\r\n\r\n  const fetchStoreCashes = () => {\r\n    setLoading(true)\r\n    storesApi\r\n      .storeCashes(store)\r\n      .then((response) => {\r\n        setStoreCashes(response.store_cashes)\r\n      })\r\n      .finally(() => {\r\n        setLoading(false)\r\n      })\r\n  }\r\n\r\n  const createStoreCash = () => {\r\n    if (!inputs.cash) return false\r\n    setLoading(true)\r\n    storesApi\r\n      .cashChange(\r\n        store,\r\n        inputs.type === 'minus' ? inputs.cash * -1 : inputs.cash\r\n      )\r\n      .then((response) => {\r\n        message.success(\r\n          inputs.type === 'add' ? '충전되었습니다.' : '차감되었습니다.'\r\n        )\r\n        setInputs(initialCash)\r\n      })\r\n      .catch((error) => {\r\n        message.error(\r\n          inputs.type === 'add' ? '충전에러입니다.' : '차감에러입니다.'\r\n        )\r\n      })\r\n      .finally(() => {\r\n        fetchStoreCashes()\r\n        fetchStore()\r\n        handleExit()\r\n        setLoading(false)\r\n      })\r\n  }\r\n\r\n  const handleInputChange = (e) => {\r\n    setInputs({ ...inputs, [e.target.name]: e.target.value })\r\n    removeErrorWithName(errors, e.target.name)\r\n  }\r\n\r\n  const handleCashChange = (e) => {\r\n    const { value: inputValue } = e.target\r\n    const reg = /^-?\\d*(\\.\\d*)?$/\r\n\r\n    if (reg.test(inputValue) || inputValue === '' || inputValue === '-') {\r\n      setInputs({ ...inputs, cash: inputValue })\r\n    }\r\n  }\r\n\r\n  const removeErrorWithName = (errors, name) => {\r\n    errors && errors[name] && removeError({ name })\r\n  }\r\n\r\n  const footer = [\r\n    <Button\r\n      type=\"primary\"\r\n      key=\"cancle\"\r\n      onClick={() => {\r\n        handleClose()\r\n        handleExit()\r\n      }}\r\n      disabled={loading}\r\n    >\r\n      닫기\r\n    </Button>,\r\n  ]\r\n\r\n  const handleChangeCashType = (value) => setInputs({ ...inputs, type: value })\r\n\r\n  const cashInputBefore = (\r\n    <Select\r\n      value={inputs.type}\r\n      style={{ width: 60 }}\r\n      onChange={handleChangeCashType}\r\n    >\r\n      <Option value=\"add\">+</Option>\r\n      <Option value=\"minus\">-</Option>\r\n    </Select>\r\n  )\r\n\r\n  return (\r\n    currentStore && (\r\n      <Modal\r\n        title={'충전금 관리'}\r\n        visible={open}\r\n        afterClose={handleExit}\r\n        onCancel={handleClose}\r\n        footer={footer}\r\n        maskClosable={false}\r\n      >\r\n        <div>\r\n          <Descriptions\r\n            bordered\r\n            layout=\"vertical\"\r\n            size=\"small\"\r\n            style={{ marginBottom: '20px' }}\r\n          >\r\n            <Descriptions.Item label=\"매장명\">\r\n              <Text strong>{currentStore.name}</Text>\r\n            </Descriptions.Item>\r\n            <Descriptions.Item label=\"휴대폰\">\r\n              <Text strong>{currentStore.mobile}</Text>\r\n            </Descriptions.Item>\r\n            <Descriptions.Item label=\"충전금\">\r\n              <Text strong mark>\r\n                {currentStore.cash\r\n                  .toString()\r\n                  .replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\r\n              </Text>\r\n            </Descriptions.Item>\r\n          </Descriptions>\r\n          {isAdmin && (\r\n            <Form layout=\"vertical\">\r\n              <Row gutter={16}>\r\n                <Col span={12}>\r\n                  <Form.Item\r\n                    validateStatus={errors && errors.storeId && 'error'}\r\n                    help={errors && errors.storeId && errors.storeId[0]}\r\n                  >\r\n                    <Input\r\n                      name=\"cash\"\r\n                      addonBefore={cashInputBefore}\r\n                      addonAfter=\"원\"\r\n                      value={inputs.cash}\r\n                      onChange={handleCashChange}\r\n                      disabled={loading}\r\n                      style={{ width: '100%' }}\r\n                    />\r\n                  </Form.Item>\r\n                </Col>\r\n                <Col span={6}>\r\n                  <Button\r\n                    type=\"primary\"\r\n                    danger={inputs.type === 'minus'}\r\n                    disabled={loading}\r\n                    onClick={createStoreCash}\r\n                  >\r\n                    {inputs.cash\r\n                      ? inputs.cash\r\n                          .toString()\r\n                          .replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\r\n                      : 0}\r\n                    원 {inputs.type === 'add' ? '충전' : '차감'}\r\n                  </Button>\r\n                </Col>\r\n              </Row>\r\n            </Form>\r\n          )}\r\n          <Table\r\n            size=\"small\"\r\n            scroll={{\r\n              y: 240,\r\n            }}\r\n            columns={[\r\n              {\r\n                title: '날자',\r\n                dataIndex: 'createdAt',\r\n                key: 'createdAt',\r\n                render: (createdAt) => (\r\n                  <Text style={{ fontSize: 12 }}>\r\n                    {format.datetime(createdAt)}\r\n                  </Text>\r\n                ),\r\n              },\r\n              {\r\n                title: '내용',\r\n                dataIndex: 'title',\r\n                key: 'title',\r\n                render: (title) => (\r\n                  <Text style={{ fontSize: 12 }}>{title}</Text>\r\n                ),\r\n              },\r\n              {\r\n                title: '금액',\r\n                dataIndex: 'cash',\r\n                key: 'cash',\r\n                render: (cash) => (\r\n                  <Text style={{ fontSize: 12 }}>\r\n                    {cash.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\r\n                  </Text>\r\n                ),\r\n              },\r\n              {\r\n                title: '잔액',\r\n                dataIndex: 'storeCash',\r\n                key: 'storeCash',\r\n                render: (storeCash) => (\r\n                  <Text style={{ fontSize: 12 }}>\r\n                    {storeCash.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\r\n                  </Text>\r\n                ),\r\n              },\r\n            ]}\r\n            dataSource={storeCashes}\r\n            rowKey={(store) => store.id}\r\n            loading={loading}\r\n            pagination={false}\r\n          />\r\n        </div>\r\n      </Modal>\r\n    )\r\n  )\r\n}\r\n\r\nexport default CashModal\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Button, Modal, Row, Col } from 'antd'\r\nimport { Form, Descriptions, Typography, Select, Switch, Card } from 'antd'\r\nimport {\r\n  CheckOutlined,\r\n  CloseOutlined,\r\n  EnvironmentFilled,\r\n} from '@ant-design/icons'\r\nimport storesApi from 'modules/stores/api'\r\nimport message from 'lib/message'\r\nimport StoreGifticon from './StoreGifticon'\r\n\r\nconst { Text, Link } = Typography\r\n\r\nconst initialGifticon = {\r\n  gifticonCode: null,\r\n  gifticonActive: 'N',\r\n}\r\n\r\nconst GifticonModal = (props) => {\r\n  const { isAdmin, modal } = props\r\n  const { handleClose, handleExit } = props\r\n  const { open, store } = modal\r\n\r\n  const [inputs, setInputs] = useState(initialGifticon)\r\n  const [loading, setLoading] = useState(false)\r\n  const [gifticons, setGifticons] = useState([])\r\n  const [storeGifticons, setStoreGifticons] = useState([])\r\n\r\n  useEffect(() => {\r\n    if (store) fetchStoreGifticons()\r\n    return () => {\r\n      setInputs(initialGifticon)\r\n    }\r\n  }, [store])\r\n\r\n  const fetchStoreGifticons = () => {\r\n    storesApi.fetchStoreGifticons(store).then((response) => {\r\n      console.log(response)\r\n      setStoreGifticons(response.storeGifticons)\r\n      setGifticons(response.gifticons)\r\n    })\r\n  }\r\n\r\n  const handleGiftconChange = (value) => {\r\n    setInputs({ ...inputs, gifticonCode: value })\r\n  }\r\n\r\n  const handleAdd = () => {\r\n    console.log(inputs)\r\n    if (!inputs.gifticonCode || !store) return null\r\n    storesApi\r\n      .addStoreGifticon(store, inputs.gifticonCode)\r\n      .then((response) => {\r\n        console.log(response)\r\n        message.success('추가 되었습니다.')\r\n        // setGifticons(response.gifticons)\r\n      })\r\n      .catch((error) => {\r\n        console.log(error)\r\n        error && error.message && message.error(error.message)\r\n      })\r\n      .finally(() => {\r\n        setInputs(initialGifticon)\r\n        fetchStoreGifticons()\r\n      })\r\n  }\r\n\r\n  const handleDelete = (gifticonCode) => {\r\n    storesApi\r\n      .deleteStoreGifticon(store, gifticonCode)\r\n      .then((response) => {\r\n        console.log(response)\r\n        message.success('삭제 되었습니다.')\r\n        // setGifticons(response.gifticons)\r\n      })\r\n      .catch((error) => {\r\n        console.log(error)\r\n        error && error.message && message.error(error.message)\r\n      })\r\n      .finally(() => {\r\n        setInputs(initialGifticon)\r\n        fetchStoreGifticons()\r\n      })\r\n  }\r\n\r\n  const footer = [\r\n    <Button key=\"cancle\" onClick={handleClose} disabled={loading}>\r\n      닫기\r\n    </Button>,\r\n  ]\r\n\r\n  return (\r\n    store &&\r\n    gifticons && (\r\n      <Modal\r\n        title={store.name + ' 상품권 관리'}\r\n        visible={open}\r\n        afterClose={handleExit}\r\n        onCancel={handleClose}\r\n        footer={footer}\r\n        maskClosable={false}\r\n      >\r\n        <div>\r\n          <Form layout=\"horizontal\">\r\n            <Row gutter={16}>\r\n              <Col flex=\"1 1 100px\">\r\n                <Form.Item>\r\n                  <Select\r\n                    value={inputs.gifticonCode}\r\n                    onChange={handleGiftconChange}\r\n                    disabled={!isAdmin}\r\n                  >\r\n                    <Select.Option key=\"ggggiff\" value={null}>\r\n                      === 상품권 선택 ===\r\n                    </Select.Option>\r\n                    {gifticons.map((item) => {\r\n                      return (\r\n                        <Select.Option\r\n                          key={item.code}\r\n                          value={item.code}\r\n                          disabled={storeGifticons.find(\r\n                            (con) => con.gifticonCode === item.code\r\n                          )}\r\n                        >\r\n                          {item.name} (\r\n                          <span style={{ color: 'blue' }}>\r\n                            {item.discountPrice\r\n                              .toString()\r\n                              .replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\r\n                            원\r\n                          </span>\r\n                          )\r\n                        </Select.Option>\r\n                      )\r\n                    })}\r\n                  </Select>\r\n                </Form.Item>\r\n              </Col>\r\n              <Col flex=\"0 1 20px\">\r\n                <Button\r\n                  type=\"primary\"\r\n                  onClick={handleAdd}\r\n                  disabled={!inputs.gifticonCode || !isAdmin}\r\n                >\r\n                  추가\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n          </Form>\r\n          <div>\r\n            {storeGifticons.map((con) => (\r\n              <StoreGifticon\r\n                isAdmin={isAdmin}\r\n                gifticon={con}\r\n                key={con.gifticonCode}\r\n                handleDelete={handleDelete}\r\n              />\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </Modal>\r\n    )\r\n  )\r\n}\r\n\r\nexport default GifticonModal\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport xlsx from 'xlsx'\r\nimport { format } from 'date-fns'\r\nimport storesApi from 'modules/stores/api'\r\nimport message from 'lib/message'\r\nimport queryString from 'query-string'\r\n\r\nimport {\r\n  fetchStores,\r\n  fetchOneStores,\r\n  createStores,\r\n  updateStores,\r\n  deleteStores,\r\n  openModal,\r\n  closeModal,\r\n  removeError,\r\n} from '../../store'\r\nimport {\r\n  fetchPhotos,\r\n  deletePhotos,\r\n  closePhotoModal,\r\n  openPhotoModal,\r\n} from '../../store'\r\nimport { updateConfirm, updateConfirm2 } from '../../store'\r\nimport { openCashModal, closeCashModal, updateCash } from '../../store'\r\nimport { openGifticonModal, closeGifticonModal } from '../../store'\r\nimport { resetUnreadNotice } from '../../store'\r\n\r\nimport Page from 'components/Common/Page'\r\nimport StoreForm from '../../components/StoreForm'\r\nimport StoreList from '../../components/StoreList'\r\nimport StoreSearch from '../../components/StoreSearch'\r\n// import StorePhoto from '../../components/StorePhoto'\r\n// import ReturnModal from '../../components/ReturnModal'\r\nimport CashModal from '../../components/CashModal'\r\nimport GifticonModal from '../../components/GifticonModal'\r\n// import getPhotoText from './getPhotoText'\r\n\r\nimport { Modal } from 'antd'\r\nimport { ExclamationCircleOutlined } from '@ant-design/icons'\r\n\r\nconst StoresPage = (props) => {\r\n  const { history, location } = props\r\n\r\n  const dispatch = useDispatch()\r\n  const user = useSelector((store) => store.account.user)\r\n  const loading = useSelector((store) => !!store.stores.loading)\r\n  const stores = useSelector((store) => store.stores.stores)\r\n  // const regions = useSelector((store) => store.stores.regions)\r\n  const categories = useSelector((store) => store.stores.categories)\r\n  const search = useSelector((store) => store.stores.search)\r\n  const pagination = useSelector((store) => store.stores.pagination)\r\n  const modal = useSelector((store) => store.stores.modal)\r\n  const cashModal = useSelector((store) => store.stores.cashModal)\r\n  const gifticonModal = useSelector((store) => store.stores.gifticonModal)\r\n  const isAdmin = useSelector(\r\n    (store) => store.account.user && store.account.user.role === 'admin'\r\n  )\r\n\r\n  const unreadNotice = useSelector((store) => store.stores.unreadNotice)\r\n\r\n  useEffect(() => {\r\n    const _query = queryString.parse(location.search)\r\n    dispatch(fetchStores(_query))\r\n  }, [dispatch, location.search])\r\n\r\n  const handleOpen = (store) => {\r\n    store && dispatch(fetchOneStores(store))\r\n    dispatch(openModal())\r\n  }\r\n\r\n  const reload = () => {\r\n    dispatch(fetchStores(queryString.parse(location.search)))\r\n  }\r\n\r\n  const handleClose = () => {\r\n    reload()\r\n    dispatch(closeModal())\r\n  }\r\n\r\n  const handleUpdate = (store) => {\r\n    dispatch(updateStores(store))\r\n    reload()\r\n  }\r\n\r\n  const handleCreate = (store) => {\r\n    dispatch(createStores(store))\r\n    reload()\r\n  }\r\n\r\n  const handleDelete = (store) => {\r\n    dispatch(deleteStores(store))\r\n    reload()\r\n  }\r\n\r\n  const handlePhotoModalOpen = (store, type = 'P1') => {\r\n    const payload = { store: store, type: type }\r\n    store && dispatch(fetchPhotos(payload))\r\n    dispatch(openPhotoModal(payload))\r\n  }\r\n\r\n  const handleCashModalOpen = (store) => {\r\n    dispatch(openCashModal({ store: store }))\r\n  }\r\n  const handleGifticonModalOpen = (store) => {\r\n    dispatch(openGifticonModal({ store: store }))\r\n  }\r\n\r\n  const handlePageChange = (page) => {\r\n    const _query = { ...queryString.parse(location.search), page: page }\r\n    history.push(`/stores?${queryString.stringify(_query)}`)\r\n  }\r\n\r\n  const handleSearch = (_search) => {\r\n    console.log(_search)\r\n    history.push(`/stores?${queryString.stringify(_search)}`)\r\n  }\r\n\r\n  const handleExit = () => {\r\n    reload()\r\n  }\r\n\r\n  const handleNoticeAlert = () => {\r\n    Modal.confirm({\r\n      title: '공지사항으로 이동하시겠습니까?',\r\n      icon: <ExclamationCircleOutlined />,\r\n      content: `읽지 않는 공지사항이 ${unreadNotice}건 있습니다. 반드시 확인해 주십시요.`,\r\n      okText: '이동',\r\n      cancelText: '취소',\r\n      onOk() {\r\n        dispatch(resetUnreadNotice())\r\n        history.push('/notices')\r\n      },\r\n      onCancel() {\r\n        dispatch(resetUnreadNotice())\r\n      },\r\n    })\r\n  }\r\n\r\n  const addPayment = (storeId, yearMonth) => {\r\n    console.log('add payment')\r\n    storesApi\r\n      .addPayment({ storeId, yearMonth })\r\n      .then(() => message.success('납부로 변경되었습니다.'))\r\n      .catch(() => message.error('변경 중 에러가 발생했습니다.'))\r\n      .finally(() => dispatch(fetchStores(queryString.parse(location.search))))\r\n  }\r\n\r\n  const deletePayment = (storeId, yearMonth) => {\r\n    console.log('delete payment')\r\n    storesApi\r\n      .deletePayment({ storeId, yearMonth })\r\n      .then(() => message.success('미납으로 변경되었습니다.'))\r\n      .catch(() => message.error('변경 중 에러가 발생했습니다.'))\r\n      .finally(() => dispatch(fetchStores(queryString.parse(location.search))))\r\n  }\r\n\r\n  const handleChangePayment = (storeId, yearMonth, isPayed) => {\r\n    if (isPayed) {\r\n      deletePayment(storeId, yearMonth)\r\n    } else {\r\n      addPayment(storeId, yearMonth)\r\n    }\r\n  }\r\n\r\n  const handleCloseGifticonModal = () => {\r\n    dispatch(fetchStores(queryString.parse(location.search)))\r\n    dispatch(closeGifticonModal())\r\n  }\r\n\r\n  useEffect(() => {\r\n    unreadNotice > 0 && handleNoticeAlert()\r\n  }, [unreadNotice])\r\n\r\n  return (\r\n    <Page>\r\n      <StoreSearch\r\n        meta={search}\r\n        categories={categories}\r\n        handleSearch={handleSearch}\r\n      />\r\n      <StoreList\r\n        isAdmin={isAdmin}\r\n        loading={loading}\r\n        stores={stores}\r\n        pagination={pagination}\r\n        handleOpen={handleOpen}\r\n        handlePageChange={handlePageChange}\r\n        handleGifticonModalOpen={handleGifticonModalOpen}\r\n        handleSearch={handleSearch}\r\n        handleChangePayment={handleChangePayment}\r\n      />\r\n\r\n      <StoreForm\r\n        isAdmin={isAdmin}\r\n        open={modal.open}\r\n        requesting={modal.requesting}\r\n        errors={modal.error && modal.error.errors}\r\n        store={modal.store}\r\n        // regions={regions}\r\n        categories={categories}\r\n        handleUpdate={handleUpdate}\r\n        handleCreate={handleCreate}\r\n        handleDelete={handleDelete}\r\n        handleClose={handleClose}\r\n        // handleExit={handleExit}\r\n        removeError={(payload) => dispatch(removeError(payload))}\r\n      />\r\n      {/* <CashModal\r\n        isAdmin={isAdmin}\r\n        modal={cashModal}\r\n        handleClose={() => dispatch(closeCashModal())}\r\n        handleExit={handleExit}\r\n        handleUpdate={(payload) => dispatch(updateCash(payload))}\r\n      /> */}\r\n      <GifticonModal\r\n        isAdmin={isAdmin}\r\n        modal={gifticonModal}\r\n        handleClose={handleCloseGifticonModal}\r\n        handleExit={handleExit}\r\n      />\r\n    </Page>\r\n  )\r\n}\r\n\r\nexport default StoresPage\r\n","import request from 'lib/request'\r\n\r\nconst api = {\r\n  fetch: (meta) => request.get(`/api/reviews`, meta),\r\n  sendGifticon: (review) => request.post(`/api/reviews/${review.id}/send`),\r\n  resendGifticon: (review) => request.post(`/api/reviews/${review.id}/resend`),\r\n  cancelGifticon: (review) => request.post(`/api/reviews/${review.id}/cancel`),\r\n}\r\n\r\nexport default api\r\n","import React, { useState, useEffect } from 'react'\r\nimport {\r\n  Button,\r\n  Row,\r\n  Col,\r\n  Input,\r\n  Divider,\r\n  Spin,\r\n  Table,\r\n  Space,\r\n  Image,\r\n  Modal,\r\n  message,\r\n} from 'antd'\r\nimport moment from 'moment'\r\nimport 'moment/locale/ko'\r\nimport api from '../../api'\r\nimport format from 'lib/format'\r\nimport { FileImageTwoTone, ExclamationCircleOutlined } from '@ant-design/icons'\r\n\r\nconst apiUrl = process.env.REACT_APP_API_URL\r\n\r\nconst initialPreview = {\r\n  src: null,\r\n  visible: false,\r\n}\r\n\r\nconst ReviewList = (props) => {\r\n  const [loading, setLoading] = useState(false)\r\n  const [reviews, setReviews] = useState([])\r\n  const [pagination, setPagenation] = useState(null)\r\n  const [preview, setPreview] = useState(initialPreview)\r\n\r\n  useEffect(() => {\r\n    fetch({})\r\n  }, [])\r\n\r\n  const fetch = (meta) => {\r\n    setLoading(true)\r\n    api\r\n      .fetch(meta)\r\n      .then((response) => {\r\n        console.log(response)\r\n        setReviews(response.data)\r\n        setPagenation({\r\n          page: response.current_page,\r\n          total: response.total,\r\n          lastPage: response.last_page,\r\n          perPage: response.per_page,\r\n        })\r\n      })\r\n      .catch((error) => {\r\n        console.log(error)\r\n      })\r\n      .finally(() => {\r\n        setLoading(false)\r\n      })\r\n  }\r\n\r\n  const handlePageChange = (page) => {\r\n    fetch({ page })\r\n  }\r\n\r\n  const handleSend = (review) => {\r\n    console.log(review)\r\n    Modal.confirm({\r\n      title: '상품권을 발송하시겠습니까?',\r\n      icon: <ExclamationCircleOutlined />,\r\n      okText: '발송',\r\n      cancelText: '취소',\r\n      onOk: () => {\r\n        api\r\n          .sendGifticon(review)\r\n          .then(() => {\r\n            message.success('발송하였습니다.')\r\n          })\r\n          .catch((error) => {\r\n            error.message && message.error(error.message)\r\n          })\r\n          .finally(() => {\r\n            fetch({})\r\n          })\r\n      },\r\n      onCancel: () => {\r\n        console.log('취소!')\r\n      },\r\n    })\r\n  }\r\n\r\n  const handleResend = (review) => {\r\n    console.log(review)\r\n    Modal.confirm({\r\n      title: '상품권을 재발송하시겠습니까?',\r\n      icon: <ExclamationCircleOutlined />,\r\n      okText: '재발송하기',\r\n      cancelText: '창닫기',\r\n      onOk: () => {\r\n        api\r\n          .resendGifticon(review)\r\n          .then(() => {\r\n            message.success('재발송하였습니다.')\r\n          })\r\n          .catch((error) => {\r\n            error.message && message.error(error.message)\r\n          })\r\n          .finally(() => {\r\n            fetch({})\r\n          })\r\n      },\r\n      onCancel: () => {\r\n        console.log('창닫기!')\r\n      },\r\n    })\r\n  }\r\n\r\n  const handleCancel = (review) => {\r\n    console.log(review)\r\n    Modal.confirm({\r\n      title: '상품권을 취소하시겠습니까?',\r\n      content: (\r\n        <div>\r\n          상품권을 취소하면 다시 발송할 수가 없습니다.\r\n          <br />꼭 필요한 경우만 사용하시길 바랍니다.\r\n        </div>\r\n      ),\r\n      icon: <ExclamationCircleOutlined />,\r\n      okText: '발송취소하기',\r\n      cancelText: '창닫기',\r\n      onOk: () => {\r\n        api\r\n          .cancelGifticon(review)\r\n          .then(() => {\r\n            message.success('취소하였습니다.')\r\n          })\r\n          .catch((error) => {\r\n            error.message && message.error(error.message)\r\n          })\r\n          .finally(() => {\r\n            fetch({})\r\n          })\r\n      },\r\n      onCancel: () => {\r\n        console.log('창닫기!')\r\n      },\r\n    })\r\n  }\r\n\r\n  const columns = [\r\n    {\r\n      title: '대리점',\r\n      dataIndex: 'agencyName',\r\n      key: 'agencyName',\r\n    },\r\n    {\r\n      title: '사장님',\r\n      dataIndex: 'ceoName',\r\n      key: 'ceoName',\r\n    },\r\n    {\r\n      title: '매장',\r\n      dataIndex: 'storeName',\r\n      key: 'storeName',\r\n      render: (storeName, review) => {\r\n        return (\r\n          <span style={{ color: review.storeActive === 'N' && 'red' }}>\r\n            <span>{storeName}</span>\r\n            {review.storeActive === 'Y' ? (\r\n              <span style={{ color: 'green' }}>(발송)</span>\r\n            ) : (\r\n              <span style={{ color: 'red' }}>(중지)</span>\r\n            )}\r\n          </span>\r\n        )\r\n      },\r\n    },\r\n    {\r\n      title: '고객',\r\n      dataIndex: 'mobile',\r\n      key: 'mobile',\r\n      render: (mobile) => format.phone(mobile),\r\n    },\r\n    {\r\n      title: '상품권',\r\n      dataIndex: 'gifticonName',\r\n      key: 'gifticonName',\r\n      render: (gifticonName, review) => (\r\n        <span>\r\n          {gifticonName} ( {review.gifticonPrice}원 )\r\n        </span>\r\n      ),\r\n    },\r\n    {\r\n      title: '적립금',\r\n      dataIndex: 'ceoCash',\r\n      key: 'ceoCash',\r\n      render: (ceoCash, review) => {\r\n        const cashNum = ceoCash\r\n          ? ceoCash.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\r\n          : 0\r\n        return <span>{cashNum}원</span>\r\n      },\r\n    },\r\n    {\r\n      title: '사진',\r\n      dataIndex: 'image',\r\n      key: 'image',\r\n      align: 'center',\r\n      render: (image) => (\r\n        <span\r\n          style={{ fontSize: 24, cursor: 'pointer' }}\r\n          onClick={() =>\r\n            setPreview({ ...preview, src: apiUrl + image, visible: true })\r\n          }\r\n        >\r\n          <FileImageTwoTone />\r\n        </span>\r\n      ),\r\n    },\r\n    {\r\n      title: '생성일',\r\n      dataIndex: 'createdAt',\r\n      key: 'createdAt',\r\n      align: 'center',\r\n      // render: (date) => format.date(date),\r\n    },\r\n    {\r\n      title: '상태',\r\n      dataIndex: 'done',\r\n      key: 'done',\r\n      align: 'center',\r\n      render: (done) => {\r\n        let color\r\n        if (done === 'Y') color = 'green'\r\n        if (done === 'N') color = 'red'\r\n        if (done === 'C') color = 'gray'\r\n        if (done === 'E') color = 'blue'\r\n\r\n        return (\r\n          <span style={{ color: color }}>\r\n            {done === 'Y' && '발송'}\r\n            {done === 'N' && '대기'}\r\n            {done === 'C' && '취소'}\r\n            {done === 'E' && '에러'}\r\n          </span>\r\n        )\r\n      },\r\n    },\r\n    {\r\n      title: 'Action',\r\n      dataIndex: 'actions',\r\n      key: 'actions',\r\n      align: 'center',\r\n      render: (value, review) => {\r\n        if (review.done === 'Y') {\r\n          return (\r\n            <Space>\r\n              <Button danger onClick={() => handleCancel(review)}>\r\n                취소\r\n              </Button>\r\n              <Button onClick={() => handleResend(review)}>재발송</Button>\r\n            </Space>\r\n          )\r\n        }\r\n\r\n        if (review.done === 'C') {\r\n          return <Space></Space>\r\n        }\r\n\r\n        return (\r\n          <Button type=\"primary\" onClick={() => handleSend(review)}>\r\n            발송\r\n          </Button>\r\n        )\r\n      },\r\n    },\r\n  ]\r\n\r\n  console.log(preview)\r\n\r\n  return (\r\n    <div>\r\n      {reviews && pagination && (\r\n        <Table\r\n          loading={loading}\r\n          className=\"ceosTable\"\r\n          columns={columns}\r\n          dataSource={reviews}\r\n          rowKey={(review) => review.id}\r\n          bordered\r\n          rowClassName={(ceo) => (ceo.active ? 'active-ceo' : '')}\r\n          pagination={{\r\n            current: pagination.current_page,\r\n            pageSize: pagination.per_page,\r\n            total: pagination.total,\r\n            onChange: handlePageChange,\r\n            showSizeChanger: false,\r\n          }}\r\n        />\r\n      )}\r\n      <Image\r\n        src={preview.src}\r\n        style={{ display: 'none' }}\r\n        preview={{\r\n          visible: preview.visible,\r\n          src: preview.src,\r\n          onVisibleChange: (value) => {\r\n            setPreview({\r\n              ...preview,\r\n              visible: value,\r\n              src: value === false ? null : preview.src,\r\n            })\r\n          },\r\n        }}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ReviewList\r\n","import request from 'lib/request'\r\nimport axios from 'lib/request/axios'\r\n\r\nconst api = {\r\n  fetch: (meta) => request.get(`api/gifticons`, meta),\r\n  update: (gifticonCode, active) =>\r\n    request.put(`api/gifticons/${gifticonCode}`, { active: active }),\r\n}\r\n\r\nexport default api\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Table, Form, Input, Select, Button, Space } from 'antd'\r\n\r\nconst initialSearch = {\r\n  name: '',\r\n  active: '',\r\n}\r\n\r\nconst GifticonList = (props) => {\r\n  const { loading, gifticons, updateGifticon } = props\r\n\r\n  const [search, setSearch] = useState(initialSearch)\r\n  const [results, setResults] = useState([])\r\n\r\n  useEffect(() => {\r\n    handleSearch(gifticons)\r\n  }, [gifticons])\r\n\r\n  const handleInputChange = (e) => {\r\n    setSearch({ ...search, [e.target.name]: e.target.value })\r\n  }\r\n\r\n  const handleActiveChange = (value) => setSearch({ ...search, active: value })\r\n\r\n  const handleSearch = () => {\r\n    setResults(\r\n      gifticons\r\n        .filter((gifticon) => {\r\n          if (!search.active) return gifticon\r\n          if (search.active && search.active === gifticon.active)\r\n            return gifticon\r\n        })\r\n        .filter((gifticon) => {\r\n          if (!search.name) return gifticon\r\n          if (gifticon.name.includes(search.name)) return gifticon\r\n        })\r\n    )\r\n  }\r\n\r\n  const columns = [\r\n    { title: '상품명', dataIndex: 'name' },\r\n    { title: '브랜드', dataIndex: 'brand' },\r\n    { title: '가격', dataIndex: 'price' },\r\n    { title: '상태', dataIndex: 'state' },\r\n    {\r\n      title: '노출',\r\n      dataIndex: 'active',\r\n      render: (active, gifticon) =>\r\n        active === 'Y' ? (\r\n          <Button\r\n            type=\"primary\"\r\n            onClick={() => updateGifticon(gifticon.code, 'N')}\r\n          >\r\n            노출중\r\n          </Button>\r\n        ) : (\r\n          <Button\r\n            type=\"primary\"\r\n            danger\r\n            onClick={() => updateGifticon(gifticon.code, 'Y')}\r\n          >\r\n            미노출\r\n          </Button>\r\n        ),\r\n    },\r\n  ]\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        <Form\r\n          layout=\"inline\"\r\n          style={{ marginBottom: 16, justifyContent: 'flex-end' }}\r\n        >\r\n          <Form.Item>\r\n            <Select\r\n              name=\"active\"\r\n              defaultValue=\"\"\r\n              value={search.active}\r\n              onChange={handleActiveChange}\r\n              style={{ width: 150 }}\r\n            >\r\n              <Select.Option value=\"\">= 노출 선택 =</Select.Option>\r\n              <Select.Option value=\"Y\">노출중</Select.Option>\r\n              <Select.Option value=\"N\">미노출</Select.Option>\r\n            </Select>\r\n          </Form.Item>\r\n          <Form.Item>\r\n            <Input\r\n              name=\"name\"\r\n              prefix={\r\n                <span style={{ fontWeight: 'bold', color: 'gray' }}>\r\n                  이름:{' '}\r\n                </span>\r\n              }\r\n              value={search.name}\r\n              onChange={handleInputChange}\r\n              style={{ width: 200 }}\r\n            />\r\n          </Form.Item>\r\n          <Button onClick={handleSearch}>검색</Button>\r\n        </Form>\r\n      </div>\r\n      <Table\r\n        columns={columns}\r\n        dataSource={results}\r\n        rowKey={(gifticon) => gifticon.id}\r\n        loading={loading}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default GifticonList\r\n","import React, { useEffect, useState } from 'react'\r\nimport Page from 'components/Common/Page'\r\nimport api from '../../api'\r\nimport message from 'lib/message.js'\r\n\r\nimport GifticonList from '../../components/GifticonList'\r\n\r\nconst initialGifticons = []\r\nconst ReviewsPage = (props) => {\r\n  const [loading, setLoading] = useState(false)\r\n  const [gifticons, setGifticons] = useState(initialGifticons)\r\n\r\n  useEffect(() => {\r\n    fetchGifticons()\r\n  }, [])\r\n\r\n  const fetchGifticons = () => {\r\n    setLoading(true)\r\n    api\r\n      .fetch({})\r\n      .then((response) => {\r\n        console.log(response)\r\n        setGifticons(response.gifticons)\r\n      })\r\n      .finally(() => {\r\n        setLoading(false)\r\n      })\r\n  }\r\n\r\n  const updateGifticon = (gifticonCode, active) => {\r\n    setLoading(true)\r\n    api\r\n      .update(gifticonCode, active)\r\n      .then((response) => {\r\n        message.success('변경되었습니다')\r\n        console.log(response)\r\n      })\r\n      .catch((error) => {\r\n        message.error('변경중 에러가 발생했습니다')\r\n        console.log(error)\r\n      })\r\n      .finally(() => {\r\n        fetchGifticons()\r\n        setLoading(false)\r\n      })\r\n  }\r\n\r\n  return (\r\n    <Page>\r\n      <GifticonList\r\n        gifticons={gifticons}\r\n        loading={loading}\r\n        updateGifticon={updateGifticon}\r\n      />\r\n      {/* <GiftishowSample /> */}\r\n    </Page>\r\n  )\r\n}\r\n\r\nexport default ReviewsPage\r\n","import React, { useEffect } from 'react'\r\nimport { Button } from 'antd'\r\n\r\nconst StoreServicePolicy = (props) => {\r\n  useEffect(() => {\r\n    const htmlTitle = document.querySelector('title')\r\n    htmlTitle.innerText = '서비스 약관'\r\n  }, [])\r\n\r\n  return (\r\n    <div>\r\n      <Button>StoreServicePolicy</Button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default StoreServicePolicy\r\n","import React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { Route, Switch, Redirect } from 'react-router-dom'\r\nimport { AppLoader } from 'modules/core/app'\r\nimport { logout } from 'modules/core/account/store'\r\nimport history from 'lib/history'\r\n\r\n// core modules routes\r\nimport { LoginPage } from 'modules/core/account'\r\nimport { AgenciesPage } from 'modules/core/agencies'\r\nimport { CeosPage } from 'modules/core/ceos'\r\nimport { DefaultLayout } from 'modules/core/layout'\r\nimport { StoresPage } from 'modules/stores'\r\nimport ReviewsPage from 'modules/reviews/containers/ReviewsPage'\r\nimport GifticonsPage from 'modules/gifticons/containers/GifticonsPage'\r\n// GUEST\r\nimport StoreServicePolicy from 'modules/pages/StoreServicePolicy'\r\n\r\nconst adminRoutes = [\r\n  {\r\n    name: '상품권 관리',\r\n    sidebar: true,\r\n    path: '/gifticons',\r\n    exact: false,\r\n    component: GifticonsPage,\r\n    role: 'admin',\r\n  },\r\n  {\r\n    name: '대리점 관리',\r\n    sidebar: true,\r\n    path: '/agencies',\r\n    exact: true,\r\n    component: AgenciesPage,\r\n    role: 'admin',\r\n  },\r\n  {\r\n    name: '사장님 관리',\r\n    sidebar: true,\r\n    path: '/ceos',\r\n    exact: true,\r\n    component: CeosPage,\r\n  },\r\n  {\r\n    name: '매장 관리',\r\n    sidebar: true,\r\n    path: '/stores',\r\n    exact: false,\r\n    component: StoresPage,\r\n  },\r\n  {\r\n    name: '리뷰 관리',\r\n    sidebar: true,\r\n    path: '/reviews',\r\n    exact: false,\r\n    component: ReviewsPage,\r\n    role: 'admin',\r\n  },\r\n  // {\r\n  //   name: '등록현황',\r\n  //   sidebar: true,\r\n  //   path: '/stats',\r\n  //   exact: true,\r\n  //   component: StatsContainer,\r\n  //   role: 'admin',\r\n  // },\r\n]\r\n\r\nconst sooRoutes = []\r\n\r\nconst Routes = (props) => {\r\n  const loaded = useSelector((store) => store.app.loaded)\r\n  const dispatch = useDispatch()\r\n  const user = useSelector((store) => store.account.user)\r\n  const handleLogout = () => {\r\n    dispatch(logout())\r\n    history.push('/login')\r\n  }\r\n\r\n  function getRoutes(routes) {\r\n    return routes.map((route) => {\r\n      if (route.routes) {\r\n        return route.routes.map((sub) => (\r\n          <Route\r\n            key={sub.path}\r\n            path={sub.path}\r\n            exact={sub.exact}\r\n            component={sub.component}\r\n          />\r\n        ))\r\n      }\r\n\r\n      return (\r\n        <Route\r\n          key={route.path}\r\n          path={route.path}\r\n          exact={route.exact}\r\n          component={route.component}\r\n        />\r\n      )\r\n    })\r\n  }\r\n\r\n  if (!loaded) return <AppLoader />\r\n\r\n  const fixedAdminRoutes = (routes) =>\r\n    user && user.loginId === 'soo' ? [...adminRoutes, ...routes] : adminRoutes\r\n\r\n  return (\r\n    <>\r\n      <Switch>\r\n        <Route path=\"/\" exact render={() => <Redirect to=\"/stores\" />} />\r\n        <Route path=\"/login\" exact component={LoginPage} />\r\n        <Route\r\n          path=\"/policy/store/service\"\r\n          exact\r\n          component={StoreServicePolicy}\r\n        />\r\n        <DefaultLayout\r\n          user={user}\r\n          handleLogout={handleLogout}\r\n          routes={fixedAdminRoutes(sooRoutes)}\r\n        >\r\n          {getRoutes(fixedAdminRoutes(sooRoutes))}\r\n        </DefaultLayout>\r\n        <Route path=\"*\" render={() => <Redirect to=\"/stores\" />} />\r\n      </Switch>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Routes\r\n","import React, { useEffect, useState } from 'react'\r\nimport Page from 'components/Common/Page'\r\nimport ReviewList from 'modules/reviews/components/ReviewList'\r\nimport ReviewSearch from 'modules/reviews/components/ReviewSearch'\r\n\r\nconst ReviewsPage = (props) => {\r\n  const [search, setSearch] = useState({})\r\n\r\n  const handleSearch = (_search) => {\r\n    console.log(_search)\r\n  }\r\n\r\n  return (\r\n    <Page>\r\n      {/* <ReviewSearch search={search} handleSearch={handleSearch} /> */}\r\n      <ReviewList search={search} handleSearch={handleSearch} />\r\n    </Page>\r\n  )\r\n}\r\n\r\nexport default ReviewsPage\r\n","import { takeEvery, all } from 'redux-saga/effects'\r\nimport { unSetToken } from './store'\r\n// import { removeToken } from 'lib/token'\r\nimport { removeToken, removeRemember } from 'lib/token'\r\n\r\nimport { actionTypes as accountTypes } from 'modules/core/account/store'\r\nimport { setAuthHeader } from 'lib/request/axios'\r\n\r\nfunction resetToken() {\r\n  unSetToken()\r\n  removeToken()\r\n  removeRemember()\r\n  setAuthHeader(undefined)\r\n}\r\n\r\nexport default function* clientSaga() {\r\n  yield all([takeEvery(accountTypes.LOGOUT, resetToken)])\r\n}\r\n","import { call, all, put, takeLatest } from 'redux-saga/effects'\r\nimport history from 'lib/history'\r\nimport { actionTypes as accountTypes } from './store'\r\nimport { login, tokenLogin, join } from './store'\r\nimport api from './api'\r\nimport { setAuthHeader } from 'lib/request/axios'\r\nimport { setToken as setTokenAction, setLoaded } from 'modules/core/app/store'\r\nimport { setToken, removeToken, getRemember, setRemember } from 'lib/token'\r\nimport message from 'lib/message'\r\n\r\nconst { TOKEN_LOGIN, LOGIN, JOIN } = accountTypes\r\n// 추가 에러 처리\r\nfunction errorHandler(error) {}\r\n\r\nfunction* loginSaga(action) {\r\n  // console.log(action)\r\n  yield put(login.request())\r\n  try {\r\n    const payload = action.payload\r\n    // console.log(payload)\r\n    const result = yield call(api.login, payload)\r\n    // console.log(result)\r\n    setToken(result.user.token)\r\n    payload.remember && setRemember()\r\n    setAuthHeader(result.user.token)\r\n    yield put(login.success(result))\r\n    yield put(setTokenAction({ token: result.user.token }))\r\n    history.push('/')\r\n  } catch (error) {\r\n    message.error('인증정보가 일치하지 않습니다.')\r\n    const failAction = login.fail({ error })\r\n    yield call(errorHandler, failAction)\r\n    yield put(failAction)\r\n  }\r\n}\r\n\r\nfunction* tokenLoignSaga(action) {\r\n  yield put(tokenLogin.request())\r\n  try {\r\n    const remember = getRemember()\r\n    // console.log(remember)\r\n    const result = yield call(api.getUser, remember)\r\n    // console.log(result)\r\n    // yield put(setTokenAction({ token: result.user.token }))\r\n    // setToken(result.user.token)\r\n    // setAuthHeader(result.user.token)\r\n    yield put(tokenLogin.success(result))\r\n  } catch (error) {\r\n    // console.error(error)\r\n    if (error && error.status === 401) {\r\n      removeToken()\r\n    }\r\n    yield put(tokenLogin.fail({ error }))\r\n    yield put(setLoaded())\r\n  }\r\n}\r\n\r\nfunction* joinSaga(action) {\r\n  // console.log(action)\r\n  yield put(join.request())\r\n  try {\r\n    const payload = action.payload\r\n    const result = yield call(api.join, payload)\r\n    // console.log(result)\r\n    yield put(join.success(result))\r\n    yield put(setTokenAction({ token: result.user.token }))\r\n    setToken(result.user.token)\r\n    history.push('/')\r\n  } catch (error) {\r\n    // console.error(error)\r\n    const failAction = login.fail({ error })\r\n    yield call(errorHandler, failAction)\r\n    yield put(failAction)\r\n  }\r\n}\r\n\r\nexport default function* accountSagas() {\r\n  yield all([\r\n    takeLatest(LOGIN.INDEX, loginSaga),\r\n    takeLatest(TOKEN_LOGIN.INDEX, tokenLoignSaga),\r\n    takeLatest(JOIN.INDEX, joinSaga),\r\n  ])\r\n}\r\n","import request from 'lib/request'\r\n\r\nconst agenciesApi = {\r\n  fetch: (meta) => request.get('/api/agencies', meta),\r\n  fetchOne: (agency) => request.get(`/api/agencies/${agency.id}`),\r\n  create: (agency) => request.post('/api/agencies', agency),\r\n  update: (agency) => request.put(`/api/agencies/${agency.id}`, agency),\r\n  delete: (agency) => request.del(`/api/agencies/${agency.id}`),\r\n}\r\n\r\nexport default agenciesApi\r\n","import { call, put } from 'redux-saga/effects'\r\nimport history from 'lib/history'\r\n\r\nfunction errorHandler(failAction) {\r\n  const error = failAction.payload.error\r\n  // console.log(error)\r\n  if (error.status === 401) {\r\n    history.push('/login')\r\n  }\r\n  // if (error.status === 403) {\r\n  //   history.push('/')\r\n  // }\r\n  // if (error.status === 404) {\r\n  //   history.push('/')\r\n  // }\r\n  // if (error.status === 500) {\r\n  //   history.push('/')\r\n  // }\r\n  // if (failAction.payload.error && failAction.payload.error.message) {\r\n  //   const payload = {\r\n  //     message: failAction.payload.error.message,\r\n  //     severity: 'error',\r\n  //   }\r\n  //   // yield put(clientActions.openToast(payload))\r\n  // }\r\n  // // yield call openToast(\"error\");\r\n  // yield call(tttt)\r\n}\r\n\r\nexport default function* apiSaga(api, asyncAction, options) {\r\n  yield put(asyncAction.request())\r\n  try {\r\n    const payload = options && options.apiPayload\r\n    const result = yield call(api, payload)\r\n    yield put(asyncAction.success(result))\r\n    return true\r\n  } catch (error) {\r\n    console.log(error)\r\n    const failAction = asyncAction.fail({ error })\r\n    yield call(errorHandler, failAction)\r\n    yield put(failAction)\r\n    return false\r\n  }\r\n}\r\n","import { takeLatest, takeEvery, all, call, put } from 'redux-saga/effects'\r\nimport { actionTypes } from './store'\r\nimport {\r\n  fetchAgencies,\r\n  createAgencies,\r\n  fetchOneAgencies,\r\n  updateAgencies,\r\n  deleteAgencies,\r\n  closeModal,\r\n} from './store'\r\nimport api from './api'\r\nimport apiSaga from 'lib/saga/apiSaga'\r\nimport message from 'lib/message'\r\n\r\nconst {\r\n  FETCH_AGENCIES,\r\n  CREATE_AGENCIES,\r\n  FETCH_ONE_AGENCIES,\r\n  UPDATE_AGENCIES,\r\n  DELETE_AGENCIES,\r\n} = actionTypes\r\n\r\n// 1. fetch\r\nexport function* fetchAgenciesSaga(action) {\r\n  yield call(apiSaga, api.fetch, fetchAgencies, { apiPayload: action.payload })\r\n}\r\n\r\n// 2. create\r\nexport function* createAgenciesSaga(action) {\r\n  const success = yield call(apiSaga, api.create, createAgencies, {\r\n    apiPayload: action.payload,\r\n  })\r\n  if (success) {\r\n    yield put(closeModal())\r\n    message.success('대리점이 생성되었습니다.')\r\n  } else {\r\n    message.error('입력내용을 확인해주세요')\r\n  }\r\n}\r\n\r\n// 3. fetchOne\r\nexport function* fetchOneAgenciesSaga(action) {\r\n  yield call(apiSaga, api.fetchOne, fetchOneAgencies, {\r\n    apiPayload: action.payload,\r\n  })\r\n}\r\n\r\n// 4. update\r\nexport function* updateAgenciesSaga(action) {\r\n  const success = yield call(apiSaga, api.update, updateAgencies, {\r\n    apiPayload: action.payload,\r\n  })\r\n  if (success) {\r\n    yield put(closeModal())\r\n    message.success('대리점이 수정되었습니다.')\r\n  } else {\r\n    message.error('입력내용을 확인해주세요')\r\n  }\r\n}\r\n\r\n// 5. delete\r\nexport function* deleteAgenciesSaga(action) {\r\n  const success = yield call(apiSaga, api.delete, deleteAgencies, {\r\n    apiPayload: action.payload,\r\n  })\r\n  if (success) {\r\n    yield put(closeModal())\r\n    message.success('대리점이 삭제되었습니다.')\r\n  } else {\r\n    message.error('삭제중 에러가 발생했습니다.')\r\n  }\r\n}\r\n\r\nexport default function* agenciesSagas() {\r\n  yield all([\r\n    takeEvery(FETCH_AGENCIES.INDEX, fetchAgenciesSaga),\r\n    takeLatest(CREATE_AGENCIES.INDEX, createAgenciesSaga),\r\n    takeEvery(FETCH_ONE_AGENCIES.INDEX, fetchOneAgenciesSaga),\r\n    takeLatest(UPDATE_AGENCIES.INDEX, updateAgenciesSaga),\r\n    takeLatest(DELETE_AGENCIES.INDEX, deleteAgenciesSaga),\r\n  ])\r\n}\r\n","import { takeLatest, takeEvery, all, call, put } from 'redux-saga/effects'\r\nimport { actionTypes } from './store'\r\nimport {\r\n  fetchCeos,\r\n  createCeos,\r\n  fetchOneCeos,\r\n  updateCeos,\r\n  deleteCeos,\r\n  closeModal,\r\n} from './store'\r\nimport api from './api'\r\nimport apiSaga from 'lib/saga/apiSaga'\r\nimport message from 'lib/message'\r\n\r\nconst { FETCH_CEOS, CREATE_CEOS, FETCH_ONE_CEOS, UPDATE_CEOS, DELETE_CEOS } =\r\n  actionTypes\r\n\r\n// 1. fetch\r\nexport function* fetchCeosSaga(action) {\r\n  yield call(apiSaga, api.fetch, fetchCeos, { apiPayload: action.payload })\r\n}\r\n\r\n// 2. create\r\nexport function* createCeosSaga(action) {\r\n  const success = yield call(apiSaga, api.create, createCeos, {\r\n    apiPayload: action.payload,\r\n  })\r\n  if (success) {\r\n    yield put(closeModal())\r\n    message.success('사장님계정이 생성되었습니다.')\r\n  } else {\r\n    message.error('입력내용을 확인해주세요')\r\n  }\r\n}\r\n\r\n// 3. fetchOne\r\nexport function* fetchOneCeosSaga(action) {\r\n  yield call(apiSaga, api.fetchOne, fetchOneCeos, {\r\n    apiPayload: action.payload,\r\n  })\r\n}\r\n\r\n// 4. update\r\nexport function* updateCeosSaga(action) {\r\n  const success = yield call(apiSaga, api.update, updateCeos, {\r\n    apiPayload: action.payload,\r\n  })\r\n  if (success) {\r\n    yield put(closeModal())\r\n    message.success('사장님계정이 수정되었습니다.')\r\n  } else {\r\n    message.error('입력내용을 확인해주세요')\r\n  }\r\n}\r\n\r\n// 5. delete\r\nexport function* deleteCeosSaga(action) {\r\n  const success = yield call(apiSaga, api.delete, deleteCeos, {\r\n    apiPayload: action.payload,\r\n  })\r\n  if (success) {\r\n    yield put(closeModal())\r\n    message.success('사장님계정이 삭제되었습니다.')\r\n  } else {\r\n    message.error('삭제중 에러가 발생했습니다.')\r\n  }\r\n}\r\n\r\nexport default function* ceosSagas() {\r\n  yield all([\r\n    takeEvery(FETCH_CEOS.INDEX, fetchCeosSaga),\r\n    takeLatest(CREATE_CEOS.INDEX, createCeosSaga),\r\n    takeEvery(FETCH_ONE_CEOS.INDEX, fetchOneCeosSaga),\r\n    takeLatest(UPDATE_CEOS.INDEX, updateCeosSaga),\r\n    takeLatest(DELETE_CEOS.INDEX, deleteCeosSaga),\r\n  ])\r\n}\r\n","import { all } from 'redux-saga/effects'\r\nimport appSagas from './app/sagas'\r\nimport accountSagas from './account/sagas'\r\nimport agenciesSagas from './agencies/sagas'\r\nimport ceosSagas from './ceos/sagas'\r\n\r\nimport app from './app/store'\r\nimport account from './account/store'\r\nimport agencies from './agencies/store'\r\nimport ceos from './ceos/store'\r\n\r\nconst reducers = {\r\n  app,\r\n  account,\r\n  agencies,\r\n  ceos,\r\n}\r\n\r\nfunction* sagas() {\r\n  yield all([appSagas(), accountSagas(), agenciesSagas(), ceosSagas()])\r\n}\r\n\r\nexport { reducers, sagas }\r\n","import { combineReducers } from 'redux'\r\nimport { reducers as coreReducers } from 'modules/core'\r\nimport stores from 'modules/stores/store'\r\n\r\nconst rootReducer = combineReducers({\r\n  ...coreReducers,\r\n  stores,\r\n})\r\n\r\nexport default rootReducer\r\n","import { takeLatest, takeEvery, all, call, put } from 'redux-saga/effects'\r\nimport { actionTypes } from './store'\r\nimport {\r\n  fetchStores,\r\n  createStores,\r\n  fetchOneStores,\r\n  updateStores,\r\n  deleteStores,\r\n  closeModal,\r\n  fetchPhotos,\r\n  deletePhotos,\r\n  updateReturn,\r\n  updateConfirm,\r\n  updateConfirm2,\r\n  closeReturnModal,\r\n} from './store'\r\nimport api from './api'\r\nimport apiSaga from 'lib/saga/apiSaga'\r\nimport message from 'lib/message'\r\n\r\nconst {\r\n  FETCH_STORES,\r\n  CREATE_STORES,\r\n  FETCH_ONE_STORES,\r\n  UPDATE_STORES,\r\n  DELETE_STORES,\r\n  FETCH_PHOTOS,\r\n  DELETE_PHOTOS,\r\n  UPDATE_RETURN,\r\n  UPDATE_CONFIRM,\r\n  UPDATE_CONFIRM2,\r\n} = actionTypes\r\n\r\n/**************************************************************************************************\r\n  가맹점 모달\r\n**************************************************************************************************/\r\n// 1. fetch\r\nexport function* fetchStoresSaga(action) {\r\n  yield call(apiSaga, api.fetch, fetchStores, { apiPayload: action.payload })\r\n}\r\n\r\n// 2. create\r\nexport function* createStoresSaga(action) {\r\n  const success = yield call(apiSaga, api.create, createStores, {\r\n    apiPayload: action.payload,\r\n  })\r\n  if (success) {\r\n    yield put(closeModal())\r\n    message.success('가맹점이 생성되었습니다.')\r\n  } else {\r\n    message.error('입력내용을 확인해주세요')\r\n  }\r\n}\r\n\r\n// 3. fetchOne\r\nexport function* fetchOneStoresSaga(action) {\r\n  yield call(apiSaga, api.fetchOne, fetchOneStores, {\r\n    apiPayload: action.payload,\r\n  })\r\n}\r\n\r\n// 4. update\r\nexport function* updateStoresSaga(action) {\r\n  const success = yield call(apiSaga, api.update, updateStores, {\r\n    apiPayload: action.payload,\r\n  })\r\n  if (success) {\r\n    yield put(closeModal())\r\n    message.success('가맹점이 수정되었습니다.')\r\n  } else {\r\n    message.error('입력내용을 확인해주세요')\r\n  }\r\n}\r\n\r\n// 5. delete\r\nexport function* deleteStoresSaga(action) {\r\n  const success = yield call(apiSaga, api.delete, deleteStores, {\r\n    apiPayload: action.payload,\r\n  })\r\n  if (success) {\r\n    yield put(closeModal())\r\n    message.success('가맹점이 삭제되었습니다.')\r\n  } else {\r\n    message.error('삭제중 에러가 발생했습니다.')\r\n  }\r\n}\r\n/**************************************************************************************************\r\n  사진 모달\r\n**************************************************************************************************/\r\n// 21. fetch\r\nexport function* fetchPhotosSaga(action) {\r\n  yield call(apiSaga, api.photoFetch, fetchPhotos, {\r\n    apiPayload: action.payload,\r\n  })\r\n}\r\n\r\nexport function* deletePhotosSaga(action) {\r\n  const success = yield call(apiSaga, api.photoDelete, deletePhotos, {\r\n    apiPayload: action.payload,\r\n  })\r\n  if (success) {\r\n    // yield put(closeModal())\r\n    message.success('사진이 삭제되었습니다.')\r\n  } else {\r\n    message.error('삭제중 에러가 발생했습니다.')\r\n  }\r\n}\r\n/**************************************************************************************************\r\n  반려 모달\r\n**************************************************************************************************/\r\nexport function* updateReturnSaga(action) {\r\n  const success = yield call(apiSaga, api.updateReturn, updateReturn, {\r\n    apiPayload: action.payload,\r\n  })\r\n  if (success) {\r\n    yield put(closeReturnModal())\r\n    message.success('수정되었습니다.')\r\n    yield put(fetchStores(action.payload.search))\r\n  } else {\r\n    message.error('입력내용을 확인해주세요')\r\n  }\r\n}\r\n\r\n/**************************************************************************************************\r\n  검수 모달\r\n**************************************************************************************************/\r\nexport function* updateConfirmSaga(action) {\r\n  const success = yield call(apiSaga, api.updateConfirm, updateConfirm, {\r\n    apiPayload: action.payload,\r\n  })\r\n  if (success) {\r\n    message.success('변경되었습니다.')\r\n    yield put(fetchStores(action.payload.search))\r\n  } else {\r\n    message.error('변경되지 않았습니다.')\r\n  }\r\n}\r\n\r\n/**************************************************************************************************\r\n  승인 모달\r\n**************************************************************************************************/\r\nexport function* updateConfirm2Saga(action) {\r\n  const success = yield call(apiSaga, api.updateConfirm2, updateConfirm2, {\r\n    apiPayload: action.payload,\r\n  })\r\n  if (success) {\r\n    message.success('변경되었습니다.')\r\n    yield put(fetchStores(action.payload.search))\r\n  } else {\r\n    message.error('변경되지 않았습니다.')\r\n  }\r\n}\r\n\r\nexport default function* storesSagas() {\r\n  yield all([\r\n    takeEvery(FETCH_STORES.INDEX, fetchStoresSaga),\r\n    takeLatest(CREATE_STORES.INDEX, createStoresSaga),\r\n    takeEvery(FETCH_ONE_STORES.INDEX, fetchOneStoresSaga),\r\n    takeLatest(UPDATE_STORES.INDEX, updateStoresSaga),\r\n    takeLatest(DELETE_STORES.INDEX, deleteStoresSaga),\r\n\r\n    takeEvery(FETCH_PHOTOS.INDEX, fetchPhotosSaga),\r\n    takeLatest(DELETE_PHOTOS.INDEX, deletePhotosSaga),\r\n\r\n    takeLatest(UPDATE_RETURN.INDEX, updateReturnSaga),\r\n\r\n    takeLatest(UPDATE_CONFIRM.INDEX, updateConfirmSaga),\r\n    takeLatest(UPDATE_CONFIRM2.INDEX, updateConfirm2Saga),\r\n  ])\r\n}\r\n","import { all } from 'redux-saga/effects'\r\nimport { sagas as coreSagas } from 'modules/core'\r\nimport storesSagas from 'modules/stores/sagas'\r\n\r\nexport default function* rootSaga() {\r\n  yield all([coreSagas(), storesSagas()])\r\n  // yield all([coreSagas()])\r\n}\r\n\r\n// How to Handle Multiple Sagas in Redux Saga https://www.youtube.com/watch?v=fEjevUGH4BU\r\n","import { createStore, applyMiddleware, compose } from 'redux'\r\nimport createSagaMiddleware from 'redux-saga'\r\nimport rootReducer from './rootReducer'\r\nimport rootSaga from './rootSaga'\r\n\r\nconst sagaMiddleware = createSagaMiddleware()\r\n/*eslint-disable */\r\nconst composeSetup =\r\n  process.env.NODE_ENV !== 'production' && typeof window === 'object' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\r\n    ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\r\n    : compose\r\n/*eslint-enable */\r\n// console.log(\"process.env.NODE_ENV:\" + process.env.NODE_ENV);\r\nconst store = createStore(rootReducer, composeSetup(applyMiddleware(sagaMiddleware)))\r\n\r\n// console.log(\"store..........\");\r\n// rootSaga 시작\r\nsagaMiddleware.run(rootSaga)\r\n\r\nexport default store\r\n","import React from 'react'\r\nimport { Provider } from 'react-redux'\r\n// import { BrowserRouter as Router } from 'react-router-dom'\r\nimport { Router } from 'react-router-dom'\r\nimport history from 'lib/history'\r\n\r\nimport Routes from './Routes'\r\nimport store from './store'\r\n\r\nimport 'antd/dist/antd.css'\r\nimport 'antd-button-color/dist/css/style.css'\r\nimport './app.css'\r\n\r\nfunction App() {\r\n  return (\r\n    <Provider store={store}>\r\n      <Router history={history}>\r\n        <Routes />\r\n      </Router>\r\n    </Provider>\r\n  )\r\n}\r\n\r\nexport default App\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\nimport * as serviceWorker from './serviceWorker'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister()\r\n"],"sourceRoot":""}