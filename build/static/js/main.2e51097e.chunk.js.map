{"version":3,"sources":["lib/history.js","lib/saga/reduxActionUtils.js","modules/core/account/store.js","modules/core/app/store.js","lib/token.js","lib/request/getCheckedToken.js","modules/core/app/containers/AppLoader/AppLoader.jsx","modules/core/account/components/Login/Login.jsx","modules/core/account/containers/LoginPage/LoginPage.jsx","components/Common/Page/Page.jsx","lib/request/axios.js","lib/request/requestErrorHandler.js","lib/request/request.js","modules/core/account/api.js","lib/message.js","modules/core/agencies/store.js","modules/core/agencies/components/AgencyForm/AgencyForm.jsx","lib/format.js","modules/core/agencies/components/AgencyList/AgencyList.jsx","modules/core/ceos/components/CeoForm/CeoForm.jsx","modules/core/ceos/store.js","modules/core/agencies/containers/AgenciesPage/AgenciesPage.jsx","modules/core/ceos/components/CeoList/CeoList.jsx","modules/core/ceos/api.js","modules/core/ceos/components/CashModal/CashModal.jsx","modules/stores/components/StoreForm/StoreForm.jsx","modules/stores/store.js","modules/core/ceos/containers/CeosPage/CeosPage.jsx","modules/core/layout/components/AdminLayout/PasswordModal/PasswordModal.jsx","modules/core/layout/components/AdminLayout/AdminLayout.jsx","modules/core/layout/components/AdminLayout/logo.png","modules/core/layout/components/AdminLayout/DefaultLayout.jsx","modules/stores/api.js","modules/stores/components/StoreList/StoreList.jsx","modules/stores/components/StoreSearch/StoreSearch.jsx","modules/stores/components/GifticonModal/StoreGifticon/StoreGifticon.jsx","modules/stores/components/CashModal/CashModal.jsx","modules/stores/components/GifticonModal/GifticonModal.jsx","modules/stores/containers/StoresPage/StoresPage.jsx","modules/reviews/api.js","modules/reviews/components/ReviewList/ReviewList.jsx","modules/gifticons/api.js","modules/gifticons/components/GifticonList/GifticonList.jsx","modules/gifticons/containers/GifticonsPage/GifticonsPage.jsx","modules/pages/StoreServicePolicy/StoreServicePolicy.jsx","Routes.js","modules/reviews/containers/ReviewsPage/ReviewsPage.jsx","modules/core/app/sagas.js","modules/core/account/sagas.js","modules/core/agencies/api.js","lib/saga/apiSaga.js","modules/core/agencies/sagas.js","modules/core/ceos/sagas.js","modules/core/index.js","store/rootReducer.js","modules/stores/sagas.js","store/rootSaga.js","store/index.js","App.js","serviceWorker.js","index.js"],"names":["createBrowserHistory","makeAsyncActionsTypes","prefix","actionName","INDEX","REQUEST","SUCCESS","FAIL","makeActionCreator","actionType","payload","type","makeAsyncActionCreator","actions","actionCreator","request","success","fail","actionTypes","TOKEN_LOGIN","LOGIN","JOIN","LOGOUT","FETCH_USER","SET_USER","tokenLogin","login","join","logout","initialState","loading","user","error","reducer","state","action","LOADING","LOADED","SET_TOKEN","UNSET_TOKEN","setLoaded","setToken","unSetToken","loaded","token","process","localStorage","setItem","removeToken","removeItem","getRemember","getItem","getCheckedToken","decoded","jwt","decode","exp","Math","round","Date","getTime","remember","AppLoader","dispatch","useDispatch","isAuthenticated","useSelector","store","account","useEffect","localToken","toString","Login","handleSubmit","isMobile","links","useState","loginId","password","values","setValues","handleChange","e","target","name","checked","value","style","maxWidth","margin","padding","marginTop","marginBottom","textAlign","fontSize","fontWeight","color","className","Item","rules","required","message","UserOutlined","placeholder","onChange","size","LockOutlined","valuePropName","noStyle","htmlType","onClick","alert","block","connect","email","props","useMediaQuery","to","Content","Layout","Footer","Header","Page","children","header","footer","contentStyle","minHeight","baseURL","axios","fetch","create","interceptors","use","config","headers","Authorization","Promise","reject","setAuthHeader","defaults","ApiException","this","errors","status","requestErrorHandler","response","data","console","log","default","dataHandler","res","get","url","method","params","then","catch","errorHandler","post","put","del","multi","json","accountApi","getUser","forceLogin","id","FETCH_AGENCIES","FETCH_ONE_AGENCIES","CREATE_AGENCIES","UPDATE_AGENCIES","DELETE_AGENCIES","CLOSE_MODAL","OPEN_MODAL","REMOVE_ERROR","fetchAgencies","fetchOneAgencies","createAgencies","updateAgencies","deleteAgencies","closeModal","openModal","removeError","initialModalState","open","requesting","agency","agencies","modal","agenciesReducer","produce","draft","undefined","initialAgency","username","mobile","active","AgencyForm","handleClose","handleExit","handleCreate","handleUpdate","handleDelete","inputs","setInputs","handleInputChange","removeErrorWithName","createFooter","disabled","updateFooter","danger","Modal","confirm","title","icon","ExclamationCircleOutlined","content","okText","cancelText","onOk","visible","afterClose","onCancel","maskClosable","labelCol","span","wrapperCol","label","validateStatus","help","autoComplete","roles","admin","branche","customer","formatObj","date","format","datetime","phone","replace","role","shorten","str","max","length","substring","AgencyList","handleOpen","meta","handleAgencyCeos","handleAdd","handlePageChange","handleOpenCeoModal","openPasswordModal","setAgencies","map","isActive","defaultColumns","dataIndex","key","align","render","text","depth","ceoCount","displayCeoCount","index","display","justifyContent","columns","dataSource","rowKey","pagination","bordered","rowClassName","initialCeo","agencyId","CeoForm","ceo","FETCH_CEOS","FETCH_ONE_CEOS","CREATE_CEOS","UPDATE_CEOS","DELETE_CEOS","UPDATE_CASH","CLOSE_CASH_MODAL","OPEN_CASH_MODAL","fetchCeos","fetchOneCeos","createCeos","updateCeos","deleteCeos","updateCash","closeCashModal","openCashModal","initialCashModalState","file","ceos","search","cashModal","ceosReducer","total","per_page","current_page","AgenciesPage","history","ceoModal","api","setTimeout","window","location","href","page","omit","currentPage","queryString","stringify","push","openCeoModal","closeCeoModal","removeCeoError","CeoList","isAdmin","handleCeoStores","handleCashModalOpen","handleStoreModalOpen","displayCeoName","storeCount","ceoId","displayStoreCount","cash","cashNum","current","pageSize","showSizeChanger","ceosApi","fetchOne","update","delete","fetchCashes","Text","Typography","Option","Link","Select","initialCash","CashModal","setLoading","cashes","setCashes","currentCeo","setCurrentCeo","fetchCeo","finally","cashInputBefore","width","layout","gutter","paddingTop","flex","storeId","addonBefore","inputValue","test","scroll","y","ceoCash","createdAt","initialStore","StoreForm","isNew","FETCH_STORES","FETCH_ONE_STORES","CREATE_STORES","UPDATE_STORES","DELETE_STORES","SET_STORES_META","FETCH_PHOTOS","UPLOAD_PHOTOS","DELETE_PHOTOS","CLOSE_PHOTO_MODAL","OPEN_PHOTO_MODAL","UPDATE_RETURN","CLOSE_RETURN_MODAL","OPEN_RETURN_MODAL","CLOSE_GIFTICON_MODAL","OPEN_GIFTICON_MODAL","UPDATE_CONFIRM","UPDATE_CONFIRM2","RESET_UNREAD_NOTICE","fetchStores","fetchOneStores","createStores","updateStores","deleteStores","fetchPhotos","deletePhotos","updateReturn","REMOVE_PHOTO_ERROR","closeReturnModal","closeGifticonModal","openGifticonModal","updateConfirm","updateConfirm2","resetUnreadNotice","initialPhotoModalState","photos","initialReturnModalState","initialGifticonModalState","stores","regions","categories","payment","return","confirm2","region","coopangId","originalAgency","unreadNotice","photoModal","returnModal","confirmModal","confirm2Modal","gifticonModal","storesReducer","CeosPage","storeModal","_query","parse","openStoreModal","closeStoreModal","removeStoreError","initialInputs","Menu","SubMenu","Sider","old_password","new_password","new_password_confirm","PasswordModal","setRequesting","Password","getMenu","route","sidebar","path","DefaultLayout","handleLogout","routes","useHistory","passwordModalOpen","setPasswordModalOpen","minWidth","marginRight","theme","mode","selectedKeys","pathname","sub","getSubMenu","storesApi","fetchAll","fetchGifticons","updateStoreGifticon","deletePayment","yearMonth","addPayment","fetchStoreGifticons","addStoreGifticon","gifticonCode","deleteStoreGifticon","StoreList","downloading","handleGifticonModalOpen","handleSearch","gifticonCount","initialSearch","StoreSearch","setSearch","_search","StoreGifticon","gifticon","borderBottom","alt","src","qrPath","gifticonName","gifticonPrice","qrUrl","rel","qrShortUrl","float","initialGifticon","gifticonActive","GifticonModal","gifticons","setGifticons","storeGifticons","setStoreGifticons","item","code","find","con","discountPrice","StoresPage","reload","handleChangePayment","isPayed","sendGifticon","review","resendGifticon","cancelGifticon","initialPreview","ReviewList","reviews","setReviews","setPagenation","preview","setPreview","lastPage","last_page","perPage","storeName","storeActive","image","cursor","FileImageTwoTone","done","handleCancel","handleResend","handleSend","onVisibleChange","GifticonList","updateGifticon","results","setResults","filter","includes","defaultValue","initialGifticons","StoreServicePolicy","document","querySelector","innerText","adminRoutes","exact","component","sooRoutes","Routes","app","fixedAdminRoutes","LoginPage","clientSaga","resetToken","all","takeEvery","accountTypes","loginSaga","tokenLoignSaga","joinSaga","accountSagas","call","result","setTokenAction","failAction","takeLatest","agenciesApi","apiSaga","asyncAction","options","apiPayload","fetchAgenciesSaga","createAgenciesSaga","fetchOneAgenciesSaga","updateAgenciesSaga","deleteAgenciesSaga","agenciesSagas","fetchCeosSaga","createCeosSaga","fetchOneCeosSaga","updateCeosSaga","deleteCeosSaga","ceosSagas","sagas","reducers","appSagas","rootReducer","combineReducers","coreReducers","fetchStoresSaga","createStoresSaga","fetchOneStoresSaga","updateStoresSaga","deleteStoresSaga","fetchPhotosSaga","deletePhotosSaga","updateReturnSaga","updateConfirmSaga","updateConfirm2Saga","storesSagas","photoFetch","photoDelete","rootSaga","coreSagas","sagaMiddleware","createSagaMiddleware","composeSetup","compose","createStore","applyMiddleware","run","App","Boolean","hostname","match","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.2e51097e.chunk.js","sourcesContent":["import { createBrowserHistory } from 'history'\n\nexport default createBrowserHistory()\n","function makeAsyncActionsTypes(prefix, actionName) {\n  return {\n    INDEX: `${prefix}/${actionName}/INDEX`,\n    REQUEST: `${prefix}/${actionName}/REQUEST`,\n    SUCCESS: `${prefix}/${actionName}/SUCCESS`,\n    FAIL: `${prefix}/${actionName}/FAIL`,\n  };\n}\n\nfunction makeActionCreator(actionType) {\n  return (payload) => ({ type: actionType, payload });\n}\n\nfunction makeAsyncActionCreator(actions) {\n  let actionCreator = makeActionCreator(actions.INDEX);\n  actionCreator.request = makeActionCreator(actions.REQUEST);\n  actionCreator.success = makeActionCreator(actions.SUCCESS);\n  actionCreator.fail = makeActionCreator(actions.FAIL);\n  return actionCreator;\n}\n\nexport { makeAsyncActionsTypes, makeActionCreator, makeAsyncActionCreator };\n","import { makeAsyncActionsTypes, makeActionCreator, makeAsyncActionCreator } from 'lib/saga/reduxActionUtils'\n\nconst prefix = '@CORE/ACCOUNT'\n\nexport const actionTypes = {\n  TOKEN_LOGIN: makeAsyncActionsTypes(prefix, 'TOKEN_LOGIN'),\n  LOGIN: makeAsyncActionsTypes(prefix, 'LOGIN'),\n  JOIN: makeAsyncActionsTypes(prefix, 'JOIN'),\n  LOGOUT: `${prefix}LOGOUT`,\n  FETCH_USER: makeAsyncActionsTypes(prefix, 'FETCH_USER'),\n  SET_USER: makeActionCreator(prefix, 'SET_USER'),\n}\n\nexport const tokenLogin = makeAsyncActionCreator(actionTypes.TOKEN_LOGIN)\nexport const login = makeAsyncActionCreator(actionTypes.LOGIN)\nexport const join = makeAsyncActionCreator(actionTypes.JOIN)\nexport const logout = makeActionCreator(actionTypes.LOGOUT)\nexport const fetchUser = makeAsyncActionCreator(actionTypes.FETCH_USER)\nexport const setUser = makeAsyncActionCreator(actionTypes.SET_USER)\n\nconst initialState = {\n  loading: false,\n  user: null,\n  error: null,\n  login: {\n    loading: false,\n    error: null,\n  },\n  join: {\n    loading: false,\n    error: null,\n  },\n}\n\nconst reducer = function (state = initialState, action) {\n  // console.log(action)\n  switch (action.type) {\n    //  토큰로그인\n    case actionTypes.TOKEN_LOGIN.INDEX:\n    case actionTypes.TOKEN_LOGIN.REQUEST:\n      return {\n        ...state,\n        login: { ...state.login, loading: true, error: null },\n      }\n    case actionTypes.TOKEN_LOGIN.SUCCESS:\n      return {\n        ...state,\n        user: action.payload.user,\n        login: { ...state.login, loading: false, error: null },\n      }\n    case actionTypes.TOKEN_LOGIN.FAIL:\n      return {\n        ...state,\n        user: action.payload.user,\n        login: { ...state.login, loading: false, error: action.payload.error },\n      }\n\n    // 로그인\n    case actionTypes.LOGIN.INDEX:\n    case actionTypes.LOGIN.REQUEST:\n      return {\n        ...state,\n        login: { ...state.login, loading: true, error: null },\n      }\n    case actionTypes.LOGIN.SUCCESS:\n      return {\n        ...state,\n        user: action.payload.user,\n        login: { ...state.login, loading: false, error: null },\n      }\n    case actionTypes.LOGIN.FAIL:\n      return {\n        ...state,\n        user: action.payload.user,\n        login: { ...state.login, loading: false, error: action.payload.error },\n      }\n\n    // 회원가입\n    case actionTypes.JOIN.INDEX:\n    case actionTypes.JOIN.REQUEST:\n      return {\n        ...state,\n        join: { ...state.join, loading: true, error: null },\n      }\n    case actionTypes.JOIN.SUCCESS:\n      return {\n        ...state,\n        user: action.payload.user,\n        join: { ...state.join, loading: false, error: null },\n      }\n    case actionTypes.JOIN.FAIL:\n      return {\n        ...state,\n        user: action.payload.user,\n        join: { ...state.join, loading: false, error: action.payload.error },\n      }\n\n    // 로그아웃\n    case actionTypes.LOGOUT:\n      return initialState\n\n    // 유저정보\n    case actionTypes.FETCH_USER.INDEX:\n    case actionTypes.FETCH_USER.REQUEST:\n      return { ...state, loading: true }\n    case actionTypes.FETCH_USER.SUCCESS:\n      return {\n        ...state,\n        user: action.payload.user,\n        loading: false,\n      }\n    case actionTypes.FETCH_USER.FAIL:\n      return { ...state, loading: false, error: action.payload.error }\n\n    // 클라이언트 로딩 시 유저세팅\n    case actionTypes.SET_USER:\n      return {\n        ...state,\n        user: action.payload.user,\n      }\n    default:\n      return state\n  }\n}\n\nexport default reducer\n","import { makeActionCreator } from 'lib/saga/reduxActionUtils'\n\nconst prefix = '@CORE/APP'\n\nexport const actionTypes = {\n  LOADING: `${prefix}/LOADING`,\n  LOADED: `${prefix}/LOADED`,\n  SET_TOKEN: `${prefix}/SET_TOKEN`,\n  UNSET_TOKEN: `${prefix}/UNSET_TOKEN`,\n}\n\nexport const setLoaded = makeActionCreator(actionTypes.LOADED)\nexport const setToken = makeActionCreator(actionTypes.SET_TOKEN)\nexport const unSetToken = makeActionCreator(actionTypes.UNSET_TOKEN)\n\nconst initialState = {\n  loaded: false,\n  token: null,\n}\n\nconst reducer = function (state = initialState, action) {\n  // console.log(action)\n\n  switch (action.type) {\n    // 로딩\n    case actionTypes.LOADING:\n      return { ...state, loaded: false }\n    case actionTypes.LOADED:\n      return { ...state, loaded: true }\n    //토큰\n    case actionTypes.SET_TOKEN:\n      return { ...state, token: action.payload.token }\n    case actionTypes.UNSET_TOKEN:\n      return { ...state, token: null }\n\n    default:\n      return state\n  }\n}\n\nexport default reducer\n","const prefix = process.env.REACT_APP_TOKEN_PREFIX\nexport const getToken = () => {\n  return localStorage.getItem(`${prefix}tkn`)\n}\n\nexport const setToken = (token) => {\n  return localStorage.setItem(`${prefix}tkn`, token)\n}\n\nexport const removeToken = () => {\n  return localStorage.removeItem(`${prefix}tkn`)\n}\n\nexport const getRemember = () => {\n  return localStorage.getItem(`${prefix}rmb`)\n}\n\nexport const setRemember = () => {\n  return localStorage.setItem(`${prefix}rmb`, true)\n}\n\nexport const removeRemember = () => {\n  return localStorage.removeItem(`${prefix}rmb`)\n}\n","import jwt from 'jsonwebtoken'\nimport { getToken, removeToken } from 'lib/token'\n\nconst getCheckedToken = () => {\n  let token = getToken()\n  // 토큰이 유효한지 체크\n  if (token) {\n    const decoded = jwt.decode(token)\n    const remains = decoded && decoded.exp ? decoded.exp - Math.round(new Date().getTime() / 1000) : 0\n    if (remains < 1) {\n      removeToken()\n      return null\n    }\n  }\n\n  return token\n}\n\nexport default getCheckedToken\n","import React, { useEffect } from 'react' // eslint-disable-line no-unused-vars\nimport { useDispatch, useSelector } from 'react-redux'\nimport { tokenLogin } from 'modules/core/account/store'\nimport { setLoaded } from '../../store'\nimport { getRemember } from 'lib/token'\nimport getCheckedToken from 'lib/request/getCheckedToken'\n\nconst token = getCheckedToken()\nconst remember = getRemember()\n\nconst AppLoader = () => {\n  const dispatch = useDispatch()\n  const isAuthenticated = useSelector((store) => !!store.account.user)\n\n  useEffect(() => {\n    isAuthenticated && dispatch(setLoaded())\n    !token && dispatch(setLoaded())\n    token && !isAuthenticated && dispatch(tokenLogin({ localToken: token.toString(), remember: remember }))\n  }, [isAuthenticated, dispatch])\n\n  return null\n}\n\nexport default AppLoader\n","import React, { useState } from 'react'\n\nimport { Form, Input, Button, Checkbox } from 'antd'\nimport { UserOutlined, LockOutlined } from '@ant-design/icons'\n\nconst Login = ({ handleSubmit, loading, error, links, isMobile }) => {\n  const [values, setValues] = useState({\n    loginId: '',\n    password: '',\n    remember: false,\n  })\n\n  const handleChange = (e) => {\n    // console.log(e.target.name, e.target.value, e.target.checked)\n    setValues({\n      ...values,\n      [e.target.name]:\n        e.target.name === 'remember' ? e.target.checked : e.target.value,\n    })\n  }\n\n  const onSubmit = () => {\n    if (values.loginId && values.password) handleSubmit(values)\n    else alert('아이디와 비밀번호를 입력해주세요')\n  }\n\n  return (\n    <div\n      style={{\n        maxWidth: 360,\n        margin: '100px auto 0',\n        padding: 20,\n        marginTop: isMobile ? 10 : 100,\n      }}\n    >\n      <div style={{ marginBottom: 30, textAlign: 'center' }}>\n        <span style={{ fontSize: 32, fontWeight: 'bold', color: '#1890ff' }}>\n          리뷰 관리\n        </span>\n      </div>\n      <Form className=\"login-form\">\n        <Form.Item\n          name=\"loginId\"\n          rules={[{ required: true, message: '아이디를 입력해주세요.' }]}\n        >\n          <Input\n            prefix={<UserOutlined className=\"site-form-item-icon\" />}\n            name=\"loginId\"\n            type=\"text\"\n            placeholder=\"아이디\"\n            onChange={handleChange}\n            value={values.loginId}\n            size=\"large\"\n          />\n        </Form.Item>\n        <Form.Item\n          name=\"password\"\n          rules={[{ required: true, message: '비밀번호를 입력해주세요.' }]}\n        >\n          <Input\n            prefix={<LockOutlined className=\"site-form-item-icon\" />}\n            name=\"password\"\n            value={values.password}\n            onChange={handleChange}\n            type=\"password\"\n            placeholder=\"비밀번호\"\n            size=\"large\"\n          />\n        </Form.Item>\n        <Form.Item>\n          <Form.Item name=\"remember\" valuePropName=\"checked\" noStyle>\n            <Checkbox\n              name=\"remember\"\n              value={values.remember}\n              onChange={handleChange}\n            >\n              기억하기\n            </Checkbox>\n          </Form.Item>\n        </Form.Item>\n\n        <Form.Item>\n          <Button\n            type=\"primary\"\n            htmlType=\"submit\"\n            className=\"login-form-button\"\n            onClick={onSubmit}\n            size=\"large\"\n            block\n          >\n            로그인\n          </Button>\n        </Form.Item>\n      </Form>\n    </div>\n  )\n}\n\nexport default Login\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { login } from '../../store'\nimport { Redirect } from 'react-router-dom'\nimport { useMediaQuery } from 'react-responsive'\n\nimport LoginComponent from '../../components/Login'\n\nconst LoginPage = (props) => {\n  const { isAuthenticated, loading, error, handleSubmit } = props\n  const isMobile = useMediaQuery({ maxWidth: 767 })\n\n  if (isAuthenticated) return <Redirect to=\"/\" />\n\n  return <LoginComponent {...{ handleSubmit, loading, error, isMobile }} />\n}\n\nconst mapStateToProps = (state) => ({\n  isAuthenticated: !!state.account.user,\n  loading: state.account.login.loading,\n  error: state.account.login.loading,\n})\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleSubmit: (email, password, remember) => dispatch(login(email, password, remember)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginPage)\n","import React from 'react'\nimport { Layout } from 'antd'\nconst { Content, Footer, Header } = Layout\n\nconst Page = ({ children, header, footer, contentStyle }) => {\n  return (\n    <>\n      {header && (\n        <Header className=\"site-layout-background\" style={{ padding: 0 }} />\n      )}\n      <Content>\n        <div\n          className=\"site-layout-background\"\n          style={{ padding: 24, minHeight: 300, ...contentStyle }}\n        >\n          {children}\n        </div>\n      </Content>\n      {footer && (\n        <Footer style={{ textAlign: 'center' }}>\n          Oin Design ©2020 Created by Oin\n        </Footer>\n      )}\n    </>\n  )\n}\n\nexport default Page\n","import fetch from 'axios'\nimport getCheckedToken from './getCheckedToken'\n\nconst baseURL = process.env.REACT_APP_API_URL\n// axios 인스텐스 생성\nconst axios = fetch.create({ baseURL: baseURL })\n\naxios.interceptors.request.use(\n  (config) => {\n    if (config.baseURL === baseURL && !config.headers.Authorization) {\n      const token = getCheckedToken()\n      if (token) config.headers.Authorization = `Bearer ${token}`\n    }\n    return config\n  },\n  (error) => Promise.reject(error)\n)\n\n// 로그인/로그아웃 시에 헤더를 글로벌하게 세팅\nexport const setAuthHeader = (token) => {\n  axios.defaults.headers['Authorization'] = `Bearer ${token}`\n  return axios.defaults.headers\n}\n\nexport default axios\n","function ApiException(error) {\n  this.errors = error.errors\n  this.status = error.status\n  this.message = error.message\n}\n\nconst requestErrorHandler = (error) => {\n  // 정상적인 서버에러\n  if (error.response && error.response.data) {\n    console.log(error.response.data)\n    let message\n    if (error.response.status === 500) {\n      message = '서버에러 입니다.'\n    } else {\n      message = error.response.data.message ? error.response.data.message : error.response.data.errors && error.response.data.errors.default && error.response.data.errors.default[0]\n    }\n\n    const errorData = {\n      errors: error.response.data.errors,\n      status: error.response.status,\n      message: message,\n    }\n    throw new ApiException(errorData)\n  } else if (error.request) {\n    const errorData = {\n      errors: {},\n      status: 800,\n      message: '접속에러가 발생했습니다(8).',\n    }\n    throw new ApiException(errorData)\n  } else {\n    const errorData = {\n      errors: {},\n      status: 900,\n      message: '접속에러가 발생했습니다(9).',\n    }\n    throw new ApiException(errorData)\n  }\n}\n\nexport default requestErrorHandler\n","import axios from './axios'\nimport errorHandler from './requestErrorHandler'\n\nconst dataHandler = (res) => res.data\n\nconst getRequest = (url, data) => axios({ method: 'get', url, params: data }).then(dataHandler).catch(errorHandler)\nconst postRequest = (url, data) => axios({ method: 'post', url, data }).then(dataHandler).catch(errorHandler)\nconst putRequest = (url, data) => axios({ method: 'put', url, data }).then(dataHandler).catch(errorHandler)\nconst deleteRequest = (url) => axios({ method: 'delete', url }).then(dataHandler).catch(errorHandler)\nconst jsonRequest = (url, data) =>\n  axios({ method: 'post', url, data: data, headers: { 'Content-Type': 'application/json' } })\n    .then(dataHandler)\n    .catch(errorHandler)\nconst multipartRequest = (url, data) =>\n  axios({ method: 'post', url, data, headers: { 'Content-Type': 'multipart/form-data' } })\n    .then(dataHandler)\n    .catch(errorHandler)\n\nconst request = {\n  get: getRequest,\n  post: postRequest,\n  put: putRequest,\n  del: deleteRequest,\n  multi: multipartRequest,\n  json: jsonRequest,\n}\n\nexport default request\n","import request from 'lib/request'\n\nconst accountApi = {\n  getUser: () => request.get('/api/account/me'),\n  login: ({ loginId, password, remember }) => request.post('/api/login', { loginId, password, remember }),\n  forceLogin: (id) => request.get(`/api/admin/forceLogin/${id}`),\n  // 혅재 유저 비밀번호 변경\n  password: (payload) => request.post('/api/account/password', payload),\n}\n\nexport default accountApi\n","import { message } from 'antd'\n\nexport default message\n","// replace 1. Agencies => Stores\n// replace 2. AGENCIES => STORES\n// replace 3. agencies => stores\nimport {\n  makeAsyncActionsTypes,\n  makeActionCreator,\n  makeAsyncActionCreator,\n} from 'lib/saga/reduxActionUtils'\nimport produce from 'immer'\n/************************************************************************\n // 1. action types\n \n FETCH_AGENCIES.INDEX\n FETCH_AGENCIES.REQUEST\n FETCH_AGENCIES.SUCCESS\n FETCH_AGENCIES.FAIL\n NORMAL_ACTION\n ************************************************************************/\nconst prefix = '@APP/AGENCIES'\n\nexport const actionTypes = {\n  FETCH_AGENCIES: makeAsyncActionsTypes(prefix, 'FETCH_AGENCIES'),\n  FETCH_ONE_AGENCIES: makeAsyncActionsTypes(prefix, 'FETCH_ONE_AGENCIES'),\n  CREATE_AGENCIES: makeAsyncActionsTypes(prefix, 'CREATE_AGENCIES'),\n  UPDATE_AGENCIES: makeAsyncActionsTypes(prefix, 'UPDATE_AGENCIES'),\n  DELETE_AGENCIES: makeAsyncActionsTypes(prefix, 'DELETE_AGENCIES'),\n  CLOSE_MODAL: `${prefix}/CLOSE_MODAL`,\n  OPEN_MODAL: `${prefix}/OPEN_MODAL`,\n  REMOVE_ERROR: `${prefix}/REMOVE_ERROR`,\n}\n\n/************************************************************************\n// 2. action creator\n\nfetchAgencies(payload)\nfetchAgencies.request(payload)\nfetchAgencies.success(payload)\nfetchAgencies.fail(payload)\nresetUser(payload)\n************************************************************************/\nexport const fetchAgencies = makeAsyncActionCreator(actionTypes.FETCH_AGENCIES)\nexport const fetchOneAgencies = makeAsyncActionCreator(\n  actionTypes.FETCH_ONE_AGENCIES\n)\nexport const createAgencies = makeAsyncActionCreator(\n  actionTypes.CREATE_AGENCIES\n)\nexport const updateAgencies = makeAsyncActionCreator(\n  actionTypes.UPDATE_AGENCIES\n)\nexport const deleteAgencies = makeAsyncActionCreator(\n  actionTypes.DELETE_AGENCIES\n)\nexport const closeModal = makeActionCreator(actionTypes.CLOSE_MODAL)\nexport const openModal = makeActionCreator(actionTypes.OPEN_MODAL)\nexport const removeError = makeActionCreator(actionTypes.REMOVE_ERROR)\n/***********************************************************************\n// 3. reducer\nerror format\n{\n  status: 422,\n  message: \"입력값을 확인해주세요.\",\n  errors: [\n    email: [{...}]\n  ]\n}\n\n************************************************************************/\nconst initialModalState = {\n  open: false,\n  requesting: false,\n  error: null,\n  agency: null,\n}\n\nconst initialState = {\n  loading: false,\n  error: null,\n  agencies: [],\n  modal: initialModalState,\n}\n\nconst agenciesReducer = function (state = initialState, action) {\n  switch (action.type) {\n    // FETCH_AGENCIES\n    case actionTypes.FETCH_AGENCIES.INDEX:\n    case actionTypes.FETCH_AGENCIES.REQUEST:\n      return produce(state, (draft) => {\n        draft.loading = true\n      })\n    case actionTypes.FETCH_AGENCIES.SUCCESS:\n      return {\n        ...state,\n        agencies: [...action.payload.agencies],\n        // agencies: action.payload.agencies,\n        loading: false,\n      }\n    case actionTypes.FETCH_AGENCIES.FAIL:\n      return { ...state, loading: false, error: action.payload.error }\n\n    // FETCH_ONE_AGENCIES\n    case actionTypes.FETCH_ONE_AGENCIES.INDEX:\n    case actionTypes.FETCH_ONE_AGENCIES.REQUEST:\n      return { ...state, modal: { ...state.modal, requesting: true } }\n    case actionTypes.FETCH_ONE_AGENCIES.SUCCESS:\n      return {\n        ...state,\n        modal: {\n          ...state.modal,\n          requesting: false,\n          agency: action.payload.agency,\n        },\n      }\n    case actionTypes.FETCH_ONE_AGENCIES.FAIL:\n      return {\n        ...state,\n        modal: {\n          ...state.modal,\n          requesting: false,\n          error: action.payload.error,\n        },\n      }\n\n    // CREATE_AGENCIES\n    case actionTypes.CREATE_AGENCIES.INDEX:\n    case actionTypes.CREATE_AGENCIES.REQUEST:\n      return {\n        ...state,\n        modal: { ...state.modal, open: true, requesting: true },\n      }\n    case actionTypes.CREATE_AGENCIES.SUCCESS:\n      return { ...state, modal: { ...state.modal, requesting: false } }\n    case actionTypes.CREATE_AGENCIES.FAIL:\n      return {\n        ...state,\n        modal: {\n          ...state.modal,\n          requesting: false,\n          error: action.payload.error,\n        },\n      }\n\n    // UPDATE_AGENCIES\n    case actionTypes.UPDATE_AGENCIES.INDEX:\n    case actionTypes.UPDATE_AGENCIES.REQUEST:\n      return { ...state, modal: { ...state.modal, loading: true } }\n    case actionTypes.UPDATE_AGENCIES.SUCCESS:\n      return { ...state, modal: { ...state.modal, loading: false }, agency: {} }\n    case actionTypes.UPDATE_AGENCIES.FAIL:\n      return {\n        ...state,\n        modal: { ...state.modal, loading: false, error: action.payload.error },\n      }\n\n    // DELETE_AGENCIES\n    case actionTypes.DELETE_AGENCIES.INDEX:\n    case actionTypes.DELETE_AGENCIES.REQUEST:\n      return { ...state, modal: { ...state.modal, loading: true } }\n    case actionTypes.DELETE_AGENCIES.SUCCESS:\n      return { ...state, modal: { ...state.modal, loading: false } }\n    case actionTypes.DELETE_AGENCIES.FAIL:\n      return {\n        ...state,\n        modal: { ...state.modal, loading: false, error: action.payload.error },\n      }\n\n    // OPEN_MODAL\n    case actionTypes.OPEN_MODAL:\n      return { ...state, modal: { ...state.modal, open: true } }\n\n    // CLOSE_MODAL\n    case actionTypes.CLOSE_MODAL:\n      return {\n        ...state,\n        modal: initialModalState,\n      }\n\n    case actionTypes.REMOVE_ERROR:\n      return produce(state, (draft) => {\n        draft.modal.error.errors[action.payload.name] = undefined\n      })\n    default:\n      return state\n  }\n}\n\nexport default agenciesReducer\n","import React, { useState, useEffect } from 'react'\nimport { Button, Modal } from 'antd'\nimport { Form, Input, Switch } from 'antd'\nimport { ExclamationCircleOutlined } from '@ant-design/icons'\n\nconst initialAgency = {\n  loginId: '',\n  password: '',\n  username: '',\n  mobile: '',\n  active: 'Y',\n}\n\nconst AgencyForm = (props) => {\n  const { requesting, errors, agency, removeError } = props\n  const {\n    open,\n    handleClose,\n    handleExit,\n    handleCreate,\n    handleUpdate,\n    handleDelete,\n  } = props\n  const [inputs, setInputs] = useState(initialAgency)\n\n  useEffect(() => {\n    agency && agency.id && setInputs(agency)\n  }, [agency])\n\n  const handleInputChange = (e) => {\n    setInputs({ ...inputs, [e.target.name]: e.target.value })\n    removeErrorWithName(errors, e.target.name)\n  }\n  const handleActiveChane = (value) => {\n    setInputs({ ...inputs, active: value ? 'Y' : 'N' })\n    removeErrorWithName(errors, 'active')\n  }\n  const removeErrorWithName = (errors, name) => {\n    errors && errors[name] && removeError({ name })\n  }\n\n  const handleOnCreate = () => handleCreate(inputs)\n  const handleOnUpdate = () => handleUpdate(inputs)\n  const handleDeleteConfirm = () => {\n    Modal.confirm({\n      title: '정말로 삭제하시겠습니까?',\n      icon: <ExclamationCircleOutlined />,\n      content: '삭제하면 데이터를 복구할수 없습니다.',\n      okText: '삭제',\n      cancelText: '취소',\n      onOk() {\n        handleDelete(inputs)\n      },\n    })\n  }\n\n  const handleModalExit = () => {\n    setInputs(initialAgency)\n    handleExit()\n  }\n\n  const createFooter = [\n    <Button key=\"cancle\" onClick={handleClose} disabled={requesting}>\n      취소\n    </Button>,\n    <Button\n      key=\"create\"\n      type=\"primary\"\n      onClick={handleOnCreate}\n      disabled={requesting}\n    >\n      등록\n    </Button>,\n  ]\n\n  const updateFooter = [\n    <Button\n      key=\"delete\"\n      type=\"primary\"\n      danger\n      onClick={handleDeleteConfirm}\n      disabled={requesting}\n    >\n      삭제\n    </Button>,\n    <Button key=\"cancle\" onClick={handleClose} disabled={requesting}>\n      취소\n    </Button>,\n    <Button\n      key=\"update\"\n      type=\"primary\"\n      onClick={handleOnUpdate}\n      disabled={requesting}\n    >\n      저장\n    </Button>,\n  ]\n\n  const layout = {\n    labelCol: { span: 8 },\n    wrapperCol: { span: 16 },\n  }\n\n  return (\n    <Modal\n      title={inputs.id ? '대리점 수정' : '대리점 등록'}\n      visible={open}\n      afterClose={handleModalExit}\n      onCancel={handleClose}\n      footer={inputs.id ? updateFooter : createFooter}\n      maskClosable={false}\n    >\n      <Form {...layout} style={{ maxWidth: 360 }}>\n        <Form.Item\n          label=\"아이디\"\n          validateStatus={errors && errors.loginId && 'error'}\n          help={errors && errors.loginId && errors.loginId[0]}\n        >\n          <Input\n            name=\"loginId\"\n            value={inputs.loginId}\n            onChange={handleInputChange}\n            disabled={requesting}\n            placeholder=\"숫자나 알파벳으로 4~20자\"\n          />\n        </Form.Item>\n        <Form.Item\n          label=\"비밀번호\"\n          validateStatus={errors && errors.password && 'error'}\n          help={errors && errors.password && errors.password[0]}\n        >\n          <Input\n            type=\"password\"\n            name=\"password\"\n            value={inputs.password}\n            onChange={handleInputChange}\n            disabled={requesting}\n            autoComplete=\"new-password\"\n            placeholder={inputs.id ? '변경시에만 입력' : '비밀번호는 4~16자'}\n          />\n        </Form.Item>\n        <Form.Item\n          label=\"대리점이름\"\n          validateStatus={errors && errors.username && 'error'}\n          help={errors && errors.username && errors.username[0]}\n        >\n          <Input\n            name=\"username\"\n            value={inputs.username}\n            onChange={handleInputChange}\n            disabled={requesting}\n            placeholder=\"20자 이내\"\n          />\n        </Form.Item>\n        <Form.Item\n          label=\"휴대폰\"\n          validateStatus={errors && errors.mobile && 'error'}\n          help={errors && errors.mobile && errors.mobile[0]}\n        >\n          <Input\n            name=\"mobile\"\n            value={inputs.mobile}\n            onChange={handleInputChange}\n            disabled={requesting}\n            placeholder=\"숫자만 입력\"\n          />\n        </Form.Item>\n        <Form.Item\n          label=\"활성\"\n          validateStatus={errors && errors.active && 'error'}\n          help={errors && errors.active && errors.active[0]}\n        >\n          <Switch\n            name=\"active\"\n            checked={inputs.active === 'Y'}\n            onChange={handleActiveChane}\n            disabled={requesting}\n          />\n        </Form.Item>\n      </Form>\n    </Modal>\n  )\n}\n\nexport default AgencyForm\n","import { format } from 'date-fns'\n\nconst roles = {\n  admin: '어드민',\n  branche: '대행사',\n  agency: '대리점',\n  customer: '승인대기자',\n}\n\nexport const displayDate = (date) =>\n  date ? format(new Date(date), 'yyyy.MM.dd') : ''\nexport const displayDateTime = (date) =>\n  date ? format(new Date(date), 'yyyy.MM.dd HH:mm:ss') : ''\nexport const displayPhone = (phone) =>\n  phone\n    ? phone.replace(/(^02.{0}|^01.{1}|[0-9]{3})([0-9]+)([0-9]{4})/, '$1-$2-$3')\n    : ''\nexport const displayRole = (role) => (role ? roles[role] : '')\nexport const shorten = (str, max = null) => {\n  if (!max || !str) return str\n  return str.length > max + 3 ? str.substring(0, max) + '...' : str\n}\n\nconst formatObj = {\n  date: displayDate,\n  datetime: displayDateTime,\n  phone: displayPhone,\n  role: displayRole,\n  shorten,\n}\nexport default formatObj\n","import React, { useEffect, useState } from 'react'\nimport { Table, Button, Space } from 'antd'\nimport ActiveStatus from 'components/Common/ActiveStatus'\nimport format from 'lib/format'\nimport { LoginOutlined, EditOutlined } from '@ant-design/icons'\nimport ScrollableAnchor, { goToAnchor } from 'react-scrollable-anchor'\nimport _ from 'lodash'\n\nconst AgencyList = ({\n  loading,\n  user,\n  data,\n  meta,\n  handleOpen,\n  handleAdd,\n  handlePageChange,\n  forceLogin,\n  handleAgencyCeos,\n  openPasswordModal,\n  handleOpenCeoModal,\n}) => {\n  const [agencies, setAgencies] = useState([])\n\n  useEffect(() => {\n    setAgencies(data.map((agency) => ({ ...agency, isActive: false })))\n  }, [data])\n\n  const displayCeoCount = (agency) => (\n    <span>\n      {agency.depth - user.depth > 1 ? (\n        <span style={{ padding: '4px 15px' }}>{agency.ceoCount}</span>\n      ) : (\n        <Button\n          type=\"link\"\n          onClick={() =>\n            handleAgencyCeos({\n              agency: agency.id,\n            })\n          }\n        >\n          {agency.ceoCount}\n        </Button>\n      )}\n    </span>\n  )\n\n  const defaultColumns = [\n    {\n      title: '대리점명',\n      dataIndex: 'username',\n      key: 'username',\n    },\n    {\n      title: '사장님수',\n      key: 'ceoCount',\n      align: 'ceoCount',\n      render: (text, agency) => displayCeoCount(agency),\n    },\n    { title: '대리점ID', dataIndex: 'loginId', key: 'loginid' },\n    {\n      title: '휴대폰',\n      dataIndex: 'mobile',\n      key: 'mobile',\n      render: (mobile) => format.phone(mobile),\n    },\n    {\n      title: '생성일',\n      dataIndex: 'createdAt',\n      key: 'createdAt',\n      align: 'center',\n      render: (date) => format.date(date),\n    },\n    {\n      title: '활성',\n      dataIndex: 'active',\n      key: 'active',\n      align: 'center',\n      render: (active) => (\n        <span style={{ color: active === 'Y' ? 'green' : 'red' }}>\n          {active === 'Y' ? '활성' : '비활성'}\n        </span>\n      ),\n    },\n    {\n      title: '관리',\n      dataIndex: 'actions',\n      key: 'actions',\n      align: 'center',\n      render: (value, agency, index) => (\n        <Space>\n          <Button onClick={() => handleOpenCeoModal(agency)}>\n            사장님 등록\n          </Button>\n          <Button danger onClick={() => handleOpen(agency)}>\n            수정\n          </Button>\n        </Space>\n      ),\n    },\n  ]\n\n  // const forceLoginColumn = {\n  //   title: '로그인',\n  //   dataIndex: 'forceLogin',\n  //   key: 'forceLogin',\n  //   align: 'center',\n  //   render: (value, agency, index) => (\n  //     <Button type=\"link\" onClick={() => forceLogin(agency.id)}>\n  //       로그인\n  //     </Button>\n  //   ),\n  // }\n\n  // const columns =\n  //   user.role !== 'admin'\n  //     ? defaultColumns\n  //     : [\n  //         ...defaultColumns.slice(0, 2),\n  //         forceLoginColumn,\n  //         ...defaultColumns.slice(2),\n  //       ]\n\n  return (\n    <div>\n      <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n        {user.depth < 2 && (\n          <>\n            <Button\n              onClick={() => handleOpen()}\n              type=\"primary\"\n              style={{ marginBottom: 16 }}\n            >\n              대리점 등록\n            </Button>\n          </>\n        )}\n      </div>\n      <Table\n        loading={loading}\n        className=\"agenciesTable\"\n        columns={defaultColumns}\n        dataSource={agencies}\n        rowKey={(agency) => agency.id}\n        pagination={false}\n        bordered\n        rowClassName={(agency) => (agency.isActive ? 'active-agency' : '')}\n      />\n    </div>\n  )\n}\n\nexport default AgencyList\n","import React, { useState, useEffect } from 'react'\nimport { Button, Modal } from 'antd'\nimport { Form, Input, Switch } from 'antd'\nimport { ExclamationCircleOutlined } from '@ant-design/icons'\n\nconst initialCeo = {\n  agencyId: null,\n  loginId: '',\n  password: '',\n  username: '',\n  mobile: '',\n  active: 'Y',\n}\n\nconst CeoForm = (props) => {\n  const { requesting, errors, ceo, removeError, agencyId } = props\n  const {\n    open,\n    handleClose,\n    handleExit,\n    handleCreate,\n    handleUpdate,\n    handleDelete,\n  } = props\n  const [inputs, setInputs] = useState(initialCeo)\n\n  useEffect(() => {\n    ceo && ceo.id && setInputs(ceo)\n  }, [ceo])\n\n  const handleInputChange = (e) => {\n    setInputs({ ...inputs, [e.target.name]: e.target.value })\n    removeErrorWithName(errors, e.target.name)\n  }\n  const handleActiveChane = (value) => {\n    setInputs({ ...inputs, active: value ? 'Y' : 'N' })\n    removeErrorWithName(errors, 'active')\n  }\n  const removeErrorWithName = (errors, name) => {\n    errors && errors[name] && removeError({ name })\n  }\n\n  const handleOnCreate = () => handleCreate({ ...inputs, agencyId: agencyId })\n  const handleOnUpdate = () => handleUpdate(inputs)\n  const handleDeleteConfirm = () => {\n    Modal.confirm({\n      title: '정말로 삭제하시겠습니까?',\n      icon: <ExclamationCircleOutlined />,\n      content: '삭제하면 데이터를 복구할수 없습니다.',\n      okText: '삭제',\n      cancelText: '취소',\n      onOk() {\n        handleDelete(inputs)\n      },\n    })\n  }\n\n  const handleModalExit = () => {\n    setInputs(initialCeo)\n    handleExit()\n  }\n\n  const createFooter = [\n    <Button key=\"cancle\" onClick={handleClose} disabled={requesting}>\n      취소\n    </Button>,\n    <Button\n      key=\"create\"\n      type=\"primary\"\n      onClick={handleOnCreate}\n      disabled={requesting}\n    >\n      등록\n    </Button>,\n  ]\n\n  const updateFooter = [\n    <Button\n      key=\"delete\"\n      type=\"primary\"\n      danger\n      onClick={handleDeleteConfirm}\n      disabled={requesting}\n    >\n      삭제\n    </Button>,\n    <Button key=\"cancle\" onClick={handleClose} disabled={requesting}>\n      취소\n    </Button>,\n    <Button\n      key=\"update\"\n      type=\"primary\"\n      onClick={handleOnUpdate}\n      disabled={requesting}\n    >\n      저장\n    </Button>,\n  ]\n\n  const layout = {\n    labelCol: { span: 8 },\n    wrapperCol: { span: 16 },\n  }\n\n  return (\n    <Modal\n      title={inputs.id ? '사장님 수정' : '사장님 등록'}\n      visible={open}\n      afterClose={handleModalExit}\n      onCancel={handleClose}\n      footer={inputs.id ? updateFooter : createFooter}\n      maskClosable={false}\n    >\n      <Form {...layout} style={{ maxWidth: 360 }}>\n        <Form.Item\n          label=\"아이디\"\n          validateStatus={errors && errors.loginId && 'error'}\n          help={errors && errors.loginId && errors.loginId[0]}\n        >\n          <Input\n            name=\"loginId\"\n            value={inputs.loginId}\n            onChange={handleInputChange}\n            disabled={requesting}\n            placeholder=\"숫자나 알파벳으로 4~20자\"\n          />\n        </Form.Item>\n        <Form.Item\n          label=\"비밀번호\"\n          validateStatus={errors && errors.password && 'error'}\n          help={errors && errors.password && errors.password[0]}\n        >\n          <Input\n            type=\"password\"\n            name=\"password\"\n            value={inputs.password}\n            onChange={handleInputChange}\n            disabled={requesting}\n            autoComplete=\"new-password\"\n            placeholder={inputs.id ? '변경시에만 입력' : '비밀번호는 4~16자'}\n          />\n        </Form.Item>\n        <Form.Item\n          label=\"사장님이름\"\n          validateStatus={errors && errors.username && 'error'}\n          help={errors && errors.username && errors.username[0]}\n        >\n          <Input\n            name=\"username\"\n            value={inputs.username}\n            onChange={handleInputChange}\n            disabled={requesting}\n            placeholder=\"20자 이내\"\n          />\n        </Form.Item>\n        <Form.Item\n          label=\"휴대폰\"\n          validateStatus={errors && errors.mobile && 'error'}\n          help={errors && errors.mobile && errors.mobile[0]}\n        >\n          <Input\n            name=\"mobile\"\n            value={inputs.mobile}\n            onChange={handleInputChange}\n            disabled={requesting}\n            placeholder=\"숫자만 입력\"\n          />\n        </Form.Item>\n        <Form.Item\n          label=\"활성\"\n          validateStatus={errors && errors.active && 'error'}\n          help={errors && errors.active && errors.active[0]}\n        >\n          <Switch\n            name=\"active\"\n            checked={inputs.active === 'Y'}\n            onChange={handleActiveChane}\n            disabled={requesting}\n          />\n        </Form.Item>\n      </Form>\n    </Modal>\n  )\n}\n\nexport default CeoForm\n","// replace 1. Ceos => Stores\n// replace 2.  CEOS => STORES\n// replace 3. ceos => stores\nimport {\n  makeAsyncActionsTypes,\n  makeActionCreator,\n  makeAsyncActionCreator,\n} from 'lib/saga/reduxActionUtils'\nimport produce from 'immer'\n/************************************************************************\n // 1. action types\n \n FETCH_CEOS.INDEX\n FETCH_CEOS.REQUEST\n FETCH_CEOS.SUCCESS\n FETCH_CEOS.FAIL\n NORMAL_ACTION\n ************************************************************************/\nconst prefix = '@APP/CEOS'\n\nexport const actionTypes = {\n  FETCH_CEOS: makeAsyncActionsTypes(prefix, 'FETCH_CEOS'),\n  FETCH_ONE_CEOS: makeAsyncActionsTypes(prefix, 'FETCH_ONE_CEOS'),\n  CREATE_CEOS: makeAsyncActionsTypes(prefix, 'CREATE_CEOS'),\n  UPDATE_CEOS: makeAsyncActionsTypes(prefix, 'UPDATE_CEOS'),\n  DELETE_CEOS: makeAsyncActionsTypes(prefix, 'DELETE_CEOS'),\n  CLOSE_MODAL: `${prefix}/CLOSE_MODAL`,\n  OPEN_MODAL: `${prefix}/OPEN_MODAL`,\n  REMOVE_ERROR: `${prefix}/REMOVE_ERROR`,\n\n  UPDATE_CASH: makeAsyncActionsTypes(prefix, 'UPDATE_CASH'),\n  CLOSE_CASH_MODAL: `${prefix}/CLOSE_CASH_MODAL`,\n  OPEN_CASH_MODAL: `${prefix}/OPEN_CASH_MODAL`,\n}\n\n/************************************************************************\n// 2. action creator\n\nfetchCeos(payload)\nfetchCeos.request(payload)\nfetchCeos.success(payload)\nfetchCeos.fail(payload)\nresetUser(payload)\n************************************************************************/\nexport const fetchCeos = makeAsyncActionCreator(actionTypes.FETCH_CEOS)\nexport const fetchOneCeos = makeAsyncActionCreator(actionTypes.FETCH_ONE_CEOS)\nexport const createCeos = makeAsyncActionCreator(actionTypes.CREATE_CEOS)\nexport const updateCeos = makeAsyncActionCreator(actionTypes.UPDATE_CEOS)\nexport const deleteCeos = makeAsyncActionCreator(actionTypes.DELETE_CEOS)\n\nexport const closeModal = makeActionCreator(actionTypes.CLOSE_MODAL)\nexport const openModal = makeActionCreator(actionTypes.OPEN_MODAL)\nexport const removeError = makeActionCreator(actionTypes.REMOVE_ERROR)\n\nexport const updateCash = makeAsyncActionCreator(actionTypes.UPDATE_CASH)\nexport const closeCashModal = makeActionCreator(actionTypes.CLOSE_CASH_MODAL)\nexport const openCashModal = makeActionCreator(actionTypes.OPEN_CASH_MODAL)\n/***********************************************************************\n// 3. reducer\nerror format\n{\n  status: 422,\n  message: \"입력값을 확인해주세요.\",\n  errors: [\n    email: [{...}]\n  ]\n}\n\n************************************************************************/\nconst initialModalState = {\n  open: false,\n  requesting: false,\n  error: null,\n  ceo: null,\n}\n\nconst initialCashModalState = {\n  open: false,\n  requesting: false,\n  error: null,\n  ceo: null,\n  file: null,\n}\n\nconst initialState = {\n  loading: false,\n  error: null,\n  ceos: [],\n  search: {},\n  pagination: {},\n  modal: initialModalState,\n  cashModal: initialCashModalState,\n}\n\nconst ceosReducer = function (state = initialState, action) {\n  switch (action.type) {\n    // FETCH_CEOS\n    case actionTypes.FETCH_CEOS.INDEX:\n    case actionTypes.FETCH_CEOS.REQUEST:\n      return produce(state, (draft) => {\n        draft.loading = true\n      })\n    case actionTypes.FETCH_CEOS.SUCCESS:\n      return {\n        ...state,\n        ceos: [...action.payload.ceos.data],\n        pagination: {\n          total: action.payload.ceos.total,\n          per_page: action.payload.ceos.per_page,\n          current_page: action.payload.ceos.current_page,\n        },\n        search: action.payload.ceos.search,\n        loading: false,\n      }\n    case actionTypes.FETCH_CEOS.FAIL:\n      return { ...state, loading: false, error: action.payload.error }\n\n    // FETCH_ONE_CEOS\n    case actionTypes.FETCH_ONE_CEOS.INDEX:\n    case actionTypes.FETCH_ONE_CEOS.REQUEST:\n      return { ...state, modal: { ...state.modal, requesting: true } }\n    case actionTypes.FETCH_ONE_CEOS.SUCCESS:\n      return {\n        ...state,\n        modal: {\n          ...state.modal,\n          requesting: false,\n          ceo: action.payload.ceo,\n        },\n      }\n    case actionTypes.FETCH_ONE_CEOS.FAIL:\n      return {\n        ...state,\n        modal: {\n          ...state.modal,\n          requesting: false,\n          error: action.payload.error,\n        },\n      }\n\n    // CREATE_CEOS\n    case actionTypes.CREATE_CEOS.INDEX:\n    case actionTypes.CREATE_CEOS.REQUEST:\n      return {\n        ...state,\n        modal: { ...state.modal, open: true, requesting: true },\n      }\n    case actionTypes.CREATE_CEOS.SUCCESS:\n      return { ...state, modal: { ...state.modal, requesting: false } }\n    case actionTypes.CREATE_CEOS.FAIL:\n      return {\n        ...state,\n        modal: {\n          ...state.modal,\n          requesting: false,\n          error: action.payload.error,\n        },\n      }\n\n    // UPDATE_CEOS\n    case actionTypes.UPDATE_CEOS.INDEX:\n    case actionTypes.UPDATE_CEOS.REQUEST:\n      return { ...state, modal: { ...state.modal, loading: true } }\n    case actionTypes.UPDATE_CEOS.SUCCESS:\n      return { ...state, modal: { ...state.modal, loading: false }, ceo: {} }\n    case actionTypes.UPDATE_CEOS.FAIL:\n      return {\n        ...state,\n        modal: { ...state.modal, loading: false, error: action.payload.error },\n      }\n\n    // DELETE_CEOS\n    case actionTypes.DELETE_CEOS.INDEX:\n    case actionTypes.DELETE_CEOS.REQUEST:\n      return { ...state, modal: { ...state.modal, loading: true } }\n    case actionTypes.DELETE_CEOS.SUCCESS:\n      return { ...state, modal: { ...state.modal, loading: false } }\n    case actionTypes.DELETE_CEOS.FAIL:\n      return {\n        ...state,\n        modal: { ...state.modal, loading: false, error: action.payload.error },\n      }\n\n    // OPEN_MODAL\n    case actionTypes.OPEN_MODAL:\n      return {\n        ...state,\n        modal: { ...state.modal, open: true, agencyId: action.payload },\n      }\n\n    // CLOSE_MODAL\n    case actionTypes.CLOSE_MODAL:\n      return {\n        ...state,\n        modal: initialModalState,\n      }\n\n    case actionTypes.REMOVE_ERROR:\n      return produce(state, (draft) => {\n        draft.modal.error.errors[action.payload.name] = undefined\n      })\n    default:\n      return state\n\n    /**************************************************************************************************\n      충전금 모달\n    **************************************************************************************************/\n    // UPDATE_CASH\n    case actionTypes.UPDATE_CASH.INDEX:\n    case actionTypes.UPDATE_CASH.REQUEST:\n      return { ...state, cashModal: { ...state.cashModal, loading: true } }\n    case actionTypes.UPDATE_CASH.SUCCESS:\n      return {\n        ...state,\n        cashModal: { ...state.cashModal, loading: false },\n        store: {},\n      }\n    case actionTypes.UPDATE_CASH.FAIL:\n      return {\n        ...state,\n        cashModal: {\n          ...state.cashModal,\n          loading: false,\n          error: action.payload.error,\n        },\n      }\n    // OPEN_CASH_MODAL\n    case actionTypes.OPEN_CASH_MODAL:\n      return {\n        ...state,\n        cashModal: {\n          ...state.cashModal,\n          open: true,\n          ceo: action.payload.ceo,\n        },\n      }\n    // CLOSE_CASH_MODAL\n    case actionTypes.CLOSE_CASH_MODAL:\n      return { ...state, cashModal: initialCashModalState }\n  }\n}\n\nexport default ceosReducer\n","import React, { useEffect, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport omit from 'lodash/omit'\nimport api from 'modules/core/account/api'\nimport { setToken } from 'lib/token'\nimport message from 'lib/message'\nimport {\n  fetchAgencies,\n  fetchOneAgencies,\n  createAgencies,\n  updateAgencies,\n  deleteAgencies,\n  openModal,\n  closeModal,\n  removeError,\n} from '../../store'\nimport queryString from 'query-string'\n\nimport Page from 'components/Common/Page'\nimport AgencyForm from '../../components/AgencyForm'\nimport AgencyList from '../../components/AgencyList'\n\nimport CeoForm from 'modules/core/ceos/components/CeoForm'\nimport {\n  fetchCeos,\n  createCeos,\n  updateCeos,\n  deleteCeos,\n  openModal as openCeoModal,\n  closeModal as closeCeoModal,\n  removeError as removeCeoError,\n} from 'modules/core/ceos/store'\n\nconst AgenciesPage = (props) => {\n  const { history } = props\n\n  const dispatch = useDispatch()\n  const loading = useSelector((store) => !!store.agencies.loading)\n  const agencies = useSelector((store) => store.agencies.agencies)\n  const meta = useSelector((store) => store.agencies.meta)\n  const modal = useSelector((store) => store.agencies.modal)\n  const user = useSelector((store) => store.account.user)\n  const ceoModal = useSelector((store) => store.ceos.modal)\n\n  useEffect(() => {\n    dispatch(fetchAgencies())\n  }, [dispatch])\n\n  const handleOpen = (agency) => {\n    agency && dispatch(fetchOneAgencies(agency))\n    dispatch(openModal())\n  }\n\n  const handlePageChange = (page) =>\n    dispatch(fetchAgencies(omit({ ...meta, currentPage: page }, 'total')))\n  // const handleSearch = (search) => dispatch(fetchAgencies({ ...meta, ...search }))\n\n  const handleAgencyCeos = (meta) => {\n    const text = queryString.stringify(meta)\n    history.push(`/ceos?${text}`)\n  }\n\n  const forceLogin = (agencyId) => {\n    api\n      .forceLogin(agencyId)\n      .then((response) => {\n        try {\n          if (response.token) {\n            console.log(response.token)\n            setToken(response.token)\n            // setTimeout(() => window.location.reload(true), 300)\n            setTimeout(() => (window.location.href = '/'), 300)\n          }\n        } catch (e) {\n          console.log(e)\n        }\n      })\n      .catch((error) => {\n        message.error('로그인에 실패했습니다.')\n      })\n  }\n\n  const handleOpenCeoModal = (agency) => {\n    dispatch(openCeoModal(agency.id))\n  }\n\n  const handleCloseCeoModal = () => {\n    dispatch(closeCeoModal())\n    setTimeout(() => {\n      dispatch(fetchAgencies())\n    }, 100)\n  }\n\n  const handleCreateCeo = (ceo) => {\n    dispatch(createCeos(ceo))\n    setTimeout(() => {\n      dispatch(fetchAgencies())\n    }, 100)\n  }\n\n  return (\n    <Page>\n      {/* <AgencySearch handleOpen={handleOpen} handleSearch={handleSearch} /> */}\n      <AgencyList\n        user={user}\n        forceLogin={forceLogin}\n        loading={loading}\n        meta={meta}\n        data={agencies}\n        handleOpen={handleOpen}\n        handlePageChange={handlePageChange}\n        handleAgencyCeos={handleAgencyCeos}\n        handleOpenCeoModal={handleOpenCeoModal}\n      />\n      <AgencyForm\n        open={modal.open}\n        requesting={modal.requesting}\n        errors={modal.error && modal.error.errors}\n        agency={modal.agency}\n        handleUpdate={(agency) => dispatch(updateAgencies(agency))}\n        handleCreate={(agency) => dispatch(createAgencies(agency))}\n        handleDelete={(agency) => dispatch(deleteAgencies(agency))}\n        handleClose={() => dispatch(closeModal())}\n        handleExit={() => dispatch(fetchAgencies(meta))}\n        removeError={(payload) => dispatch(removeError(payload))}\n      />\n      <CeoForm\n        open={ceoModal.open}\n        requesting={ceoModal.requesting}\n        errors={ceoModal.error && ceoModal.error.errors}\n        ceo={ceoModal.ceo}\n        agencyId={ceoModal.agencyId}\n        handleUpdate={(ceo) => dispatch(updateCeos(ceo))}\n        handleCreate={handleCreateCeo}\n        handleDelete={(ceo) => dispatch(deleteCeos(ceo))}\n        handleClose={handleCloseCeoModal}\n        handleExit={() => dispatch(fetchCeos(meta))}\n        removeError={(payload) => dispatch(removeCeoError(payload))}\n      />\n    </Page>\n  )\n}\n\nexport default AgenciesPage\n","import React, { useEffect, useState } from 'react'\nimport { Table, Button, AutoComplete, Space } from 'antd'\nimport ActiveStatus from 'components/Common/ActiveStatus'\nimport format from 'lib/format'\nimport { LoginOutlined, EditOutlined } from '@ant-design/icons'\nimport _ from 'lodash'\n\nconst CeoList = ({\n  loading,\n  isAdmin,\n  data,\n  pagination,\n  meta,\n  handleOpen,\n  handleAdd,\n  handlePageChange,\n  forceLogin,\n  handleCeoStores,\n  handleCashModalOpen,\n  handleStoreModalOpen,\n}) => {\n  useEffect(() => {}, [])\n\n  const displayStoreCount = (ceo) => (\n    <span>\n      <Button\n        type=\"link\"\n        onClick={() =>\n          handleCeoStores({\n            ceoId: ceo.id,\n          })\n        }\n      >\n        {ceo.storeCount}\n      </Button>\n    </span>\n  )\n\n  const displayCeoName = (ceo) => {\n    return (\n      <span>\n        <span style={{ fontWeight: 'bold' }}>{ceo.username}</span>\n      </span>\n    )\n  }\n\n  const columns = [\n    {\n      title: '대리점',\n      dataIndex: 'agencyName',\n      key: 'agencyName',\n    },\n    {\n      title: '사장님이름',\n      dataIndex: 'displayName',\n      key: 'displayName',\n      render: (text, ceo) => displayCeoName(ceo),\n    },\n    { title: '사장님ID', dataIndex: 'loginId', key: 'loginid' },\n    {\n      title: '휴대폰',\n      dataIndex: 'mobile',\n      key: 'mobile',\n      render: (mobile) => format.phone(mobile),\n    },\n    {\n      title: '생성일',\n      dataIndex: 'createdAt',\n      key: 'createdAt',\n      align: 'center',\n      render: (date) => format.date(date),\n    },\n    {\n      title: '매장수',\n      dataIndex: 'storeCount',\n      key: 'storeCount',\n      render: (storeCount, ceo) => displayStoreCount(ceo),\n    },\n    {\n      title: '충전금',\n      dataIndex: 'cash',\n      key: 'cash',\n      render: (cash, ceo) => {\n        const cashNum = cash\n          ? cash.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\n          : 0\n        return (\n          <Button type=\"link\" onClick={() => handleCashModalOpen(ceo)}>\n            {cashNum}\n          </Button>\n        )\n      },\n    },\n    {\n      title: '활성',\n      dataIndex: 'active',\n      key: 'active',\n      align: 'center',\n      render: (active) => (\n        <span style={{ color: active === 'Y' ? 'green' : 'red' }}>\n          {active === 'Y' ? '활성' : '비활성'}\n        </span>\n      ),\n    },\n    {\n      title: '관리',\n      dataIndex: 'actions',\n      key: 'actions',\n      align: 'center',\n      render: (value, ceo, index) => (\n        <Space>\n          {isAdmin && (\n            <Button onClick={() => handleStoreModalOpen(ceo)}>매장등록</Button>\n          )}\n          <Button danger onClick={() => handleOpen(ceo)} disabled={!isAdmin}>\n            수정\n          </Button>\n        </Space>\n      ),\n    },\n  ]\n\n  return (\n    <div>\n      {/* <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n        {isAdmin && (\n          <>\n            <Button\n              onClick={() => handleOpen()}\n              type=\"primary\"\n              style={{ marginBottom: 16 }}\n            >\n              사장님 등록\n            </Button>\n          </>\n        )}\n      </div> */}\n      <Table\n        loading={loading}\n        className=\"ceosTable\"\n        columns={columns}\n        dataSource={data}\n        rowKey={(ceo) => ceo.id}\n        bordered\n        rowClassName={(ceo) => (ceo.active ? 'active-ceo' : '')}\n        pagination={{\n          current: pagination.current_page,\n          pageSize: pagination.per_page,\n          total: pagination.total,\n          onChange: handlePageChange,\n          showSizeChanger: false,\n        }}\n      />\n    </div>\n  )\n}\n\nexport default CeoList\n","import request from 'lib/request'\n\nconst ceosApi = {\n  fetch: (meta) => request.get('/api/ceos', meta),\n  fetchOne: (ceo) => request.get(`/api/ceos/${ceo.id}`),\n  create: (ceo) => request.post('/api/ceos', ceo),\n  update: (ceo) => request.put(`/api/ceos/${ceo.id}`, ceo),\n  delete: (ceo) => request.del(`/api/ceos/${ceo.id}`),\n  // 적립금 처리\n  fetchCashes: (ceo) => request.get(`/api/ceos/${ceo.id}/cash`),\n  updateCash: (ceo, cash, title) =>\n    request.put(`/api/ceos/${ceo.id}/cash`, {\n      cash: cash,\n      title: title,\n    }),\n  //\n}\n\nexport default ceosApi\n","import React, { useState, useEffect } from 'react'\nimport { Button, Modal } from 'antd'\nimport {\n  Form,\n  Input,\n  Row,\n  Col,\n  Table,\n  Descriptions,\n  Typography,\n  Select,\n} from 'antd'\nimport api from '../../api'\nimport message from 'lib/message'\nimport format from 'lib/format'\n\nconst { Text, Link } = Typography\nconst { Option } = Select\n// const apiUrl = process.env.REACT_APP_API_URL\n\nconst initialCash = {\n  type: 'add',\n  cash: '',\n  title: '',\n}\n\nconst CashModal = (props) => {\n  const { isAdmin, modal, removeError, search } = props\n  const { handleClose, handleExit, handleUpdate } = props\n  const { open, requesting, errors, ceo } = modal\n\n  const [inputs, setInputs] = useState(initialCash)\n  const [loading, setLoading] = useState(false)\n  const [cashes, setCashes] = useState([])\n  const [currentCeo, setCurrentCeo] = useState(ceo)\n\n  useEffect(() => {\n    if (ceo) fetchCashes()\n    if (ceo) fetchCeo()\n    return () => {\n      setInputs(initialCash)\n    }\n  }, [ceo])\n\n  const fetchCeo = () => {\n    api.fetchOne(ceo).then((response) => {\n      setCurrentCeo(response.ceo)\n    })\n  }\n\n  const fetchCashes = () => {\n    setLoading(true)\n    api\n      .fetchCashes(ceo)\n      .then((response) => {\n        setCashes(response.cashes)\n      })\n      .finally(() => {\n        setLoading(false)\n      })\n  }\n\n  const createCash = () => {\n    if (!inputs.cash) return false\n    setLoading(true)\n    api\n      .updateCash(ceo, inputs.type === 'minus' ? inputs.cash * -1 : inputs.cash)\n      .then((response) => {\n        message.success(\n          inputs.type === 'add' ? '충전되었습니다.' : '차감되었습니다.'\n        )\n        setInputs(initialCash)\n      })\n      .catch((error) => {\n        message.error(\n          inputs.type === 'add' ? '충전에러입니다.' : '차감에러입니다.'\n        )\n      })\n      .finally(() => {\n        fetchCashes()\n        fetchCeo()\n        handleExit()\n        setLoading(false)\n      })\n  }\n\n  const handleInputChange = (e) => {\n    setInputs({ ...inputs, [e.target.name]: e.target.value })\n    removeErrorWithName(errors, e.target.name)\n  }\n\n  const handleCashChange = (e) => {\n    const { value: inputValue } = e.target\n    const reg = /^-?\\d*(\\.\\d*)?$/\n\n    if (reg.test(inputValue) || inputValue === '' || inputValue === '-') {\n      setInputs({ ...inputs, cash: inputValue })\n    }\n  }\n\n  const removeErrorWithName = (errors, name) => {\n    errors && errors[name] && removeError({ name })\n  }\n\n  const footer = [\n    <Button\n      key=\"cancle\"\n      onClick={() => {\n        handleClose()\n        handleExit()\n      }}\n      disabled={loading}\n    >\n      닫기\n    </Button>,\n  ]\n\n  const handleChangeCashType = (value) => setInputs({ ...inputs, type: value })\n\n  const cashInputBefore = (\n    <Select\n      value={inputs.type}\n      style={{ width: 60 }}\n      onChange={handleChangeCashType}\n    >\n      <Option value=\"add\">+</Option>\n      <Option value=\"minus\">-</Option>\n    </Select>\n  )\n\n  if (!currentCeo) return ''\n\n  return (\n    <Modal\n      title={\n        <span>\n          <span style={{ fontWeight: 'bold', color: 'blue' }}>\n            {currentCeo.username}\n          </span>{' '}\n          충전금 관리\n        </span>\n      }\n      visible={open}\n      afterClose={handleExit}\n      onCancel={handleClose}\n      footer={footer}\n      maskClosable={false}\n      width={600}\n    >\n      <div>\n        {isAdmin && (\n          <Form layout=\"vertical\">\n            <Row gutter={16}>\n              <Col>\n                <div style={{ paddingTop: 2 }}>\n                  <span\n                    style={{\n                      fontSize: 16,\n                      color: 'gray',\n                      fontWeight: 'bold',\n                    }}\n                  >\n                    잔액{' '}\n                    <span style={{ color: 'red' }}>\n                      {currentCeo.cash\n                        .toString()\n                        .replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}{' '}\n                    </span>\n                    원\n                  </span>\n                </div>\n              </Col>\n              <Col flex=\"1 1 100px\">\n                <Form.Item\n                  validateStatus={errors && errors.storeId && 'error'}\n                  help={errors && errors.storeId && errors.storeId[0]}\n                >\n                  <Input\n                    name=\"cash\"\n                    addonBefore={cashInputBefore}\n                    value={inputs.cash}\n                    onChange={handleCashChange}\n                    disabled={loading}\n                    style={{ width: '100%' }}\n                  />\n                </Form.Item>\n              </Col>\n              <Col>\n                <Button\n                  type=\"primary\"\n                  danger={inputs.type === 'minus'}\n                  disabled={loading}\n                  onClick={createCash}\n                >\n                  {inputs.cash\n                    ? inputs.cash\n                        .toString()\n                        .replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\n                    : 0}\n                  원 {inputs.type === 'add' ? '충전' : '차감'}\n                </Button>\n              </Col>\n            </Row>\n          </Form>\n        )}\n        <Table\n          size=\"small\"\n          scroll={{\n            y: 400,\n          }}\n          columns={[\n            // {\n            //   title: 'DATE',\n            //   dataIndex: 'createdAt',\n            //   key: 'createdAt',\n            //   render: (createdAt) => (\n            //     <Text style={{ fontSize: 12 }}>\n            //       {format.datetime(createdAt)}\n            //     </Text>\n            //   ),\n            // },\n            {\n              title: 'TITLE(변동내역)',\n              dataIndex: 'title',\n              key: 'title',\n              render: (title, ceoCash) => (\n                <>\n                  <div>\n                    <Text style={{ fontSize: 12 }}>{title}</Text>\n                  </div>\n                  <div>\n                    <Text style={{ fontSize: 12 }}>\n                      {format.datetime(ceoCash.createdAt)}\n                    </Text>\n                  </div>\n                </>\n              ),\n            },\n            {\n              title: '금액',\n              dataIndex: 'cash',\n              key: 'cash',\n              align: 'center',\n              render: (cash) => (\n                <Text>\n                  <span\n                    style={{\n                      color: cash > 0 ? 'blue' : 'red',\n                      fontWeight: 'bold',\n                    }}\n                  >\n                    {cash.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\n                  </span>\n                  원\n                </Text>\n              ),\n            },\n            {\n              title: '잔액',\n              dataIndex: 'ceoCash',\n              key: 'ceoCash',\n              align: 'center',\n              render: (ceoCash) => (\n                <Text style={{ fontWeight: 'bold' }}>\n                  {ceoCash.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}원\n                </Text>\n              ),\n            },\n          ]}\n          dataSource={cashes}\n          rowKey={(ceo) => ceo.id}\n          loading={loading}\n          pagination={false}\n        />\n      </div>\n    </Modal>\n  )\n}\n\nexport default CashModal\n","import React, { useState, useEffect } from 'react'\nimport { Button, Modal } from 'antd'\nimport {\n  Form,\n  Input,\n  Select,\n  Switch,\n  Row,\n  Col,\n  Divider,\n  DatePicker,\n  Checkbox,\n} from 'antd'\nimport { ExclamationCircleOutlined } from '@ant-design/icons'\n// import MultiImageInput from './MultiImageInput'\n// import PopuarMenuInput from './PopuarMenuInput'\n// import 'moment/locale/ko-kr'\n// import moment from 'moment'\nimport 'moment/locale/ko'\n// import locale from 'antd/es/date-picker/locale/ko_KR'\n\nconst initialStore = {\n  ceoId: null,\n  name: '',\n  mobile: '',\n  active: 'Y',\n}\n\nconst StoreForm = (props) => {\n  const { isAdmin, requesting, errors, store, removeError, ceoId } = props\n  const {\n    open,\n    handleClose,\n    handleExit,\n    handleCreate,\n    handleUpdate,\n    handleDelete,\n  } = props\n  const [inputs, setInputs] = useState(initialStore)\n  const isNew = !store\n\n  useEffect(() => {\n    store && store.id && setInputs(store)\n    return () => {\n      setInputs(initialStore)\n    }\n  }, [store])\n\n  const handleInputChange = (e) => {\n    setInputs({ ...inputs, [e.target.name]: e.target.value })\n    removeErrorWithName(errors, e.target.name)\n  }\n  const handleActiveChane = (value) => {\n    setInputs({ ...inputs, active: value ? 'Y' : 'N' })\n    removeErrorWithName(errors, 'active')\n  }\n  const removeErrorWithName = (errors, name) => {\n    errors && errors[name] && removeError({ name })\n  }\n\n  const handleOnCreate = () => handleCreate({ ...inputs, ceoId: ceoId })\n  const handleOnUpdate = () => handleUpdate(inputs)\n  const handleDeleteConfirm = () => {\n    Modal.confirm({\n      title: '정말로 삭제하시겠습니까?',\n      icon: <ExclamationCircleOutlined />,\n      content: '삭제하면 데이터를 복구할수 없습니다.',\n      okText: '삭제',\n      cancelText: '취소',\n      onOk() {\n        handleDelete(inputs)\n      },\n    })\n  }\n\n  const createFooter = [\n    <Button key=\"cancle\" onClick={handleClose} disabled={requesting}>\n      취소\n    </Button>,\n    <Button\n      key=\"create\"\n      type=\"primary\"\n      onClick={handleOnCreate}\n      disabled={requesting}\n    >\n      등록\n    </Button>,\n  ]\n\n  const updateFooter = [\n    <Button\n      key=\"delete\"\n      type=\"primary\"\n      danger\n      onClick={handleDeleteConfirm}\n      disabled={requesting || !isAdmin}\n    >\n      삭제\n    </Button>,\n    <Button key=\"cancle\" onClick={handleClose} disabled={requesting}>\n      취소\n    </Button>,\n    <Button\n      key=\"update\"\n      type=\"primary\"\n      onClick={handleOnUpdate}\n      disabled={requesting}\n    >\n      저장\n    </Button>,\n  ]\n\n  const layout = {\n    layout: 'vertical',\n  }\n\n  return (\n    <Modal\n      title={!isNew ? '매장 수정' : '매장 등록'}\n      visible={open}\n      afterClose={handleExit}\n      onCancel={handleClose}\n      footer={!isNew ? updateFooter : createFooter}\n      maskClosable={false}\n    >\n      <Form {...layout}>\n        <Row gutter={16}>\n          <Col span={12}>\n            <Form.Item\n              label=\"매장명\"\n              validateStatus={errors && errors.name && 'error'}\n              help={errors && errors.name && errors.name[0]}\n            >\n              <Input\n                name=\"name\"\n                value={inputs.name}\n                onChange={handleInputChange}\n                disabled={requesting}\n                placeholder=\"맛나치킨\"\n              />\n            </Form.Item>\n          </Col>\n          <Col span={12}>\n            <Form.Item\n              label=\"휴대전화번호\"\n              validateStatus={errors && errors.mobile && 'error'}\n              help={errors && errors.mobile && errors.mobile[0]}\n            >\n              <Input\n                name=\"mobile\"\n                value={inputs.mobile}\n                onChange={handleInputChange}\n                disabled={requesting}\n              />\n            </Form.Item>\n          </Col>\n          <Col span={12}>\n            <Form.Item\n              label=\"발송상태\"\n              validateStatus={errors && errors.active && 'error'}\n              help={errors && errors.active && errors.active[0]}\n            >\n              <Switch\n                name=\"active\"\n                checked={inputs.active === 'Y'}\n                onChange={handleActiveChane}\n                disabled={requesting}\n              />\n            </Form.Item>\n          </Col>\n        </Row>\n      </Form>\n    </Modal>\n  )\n}\nexport default StoreForm\n","// replace 1. Stores => Stores\n// replace 2. STORES => STORES\n// replace 3. stores => stores\nimport {\n  makeAsyncActionsTypes,\n  makeActionCreator,\n  makeAsyncActionCreator,\n} from 'lib/saga/reduxActionUtils'\nimport produce from 'immer'\n/************************************************************************\n // 1. action types\n \n FETCH_STORES.INDEX\n FETCH_STORES.REQUEST\n FETCH_STORES.SUCCESS\n FETCH_STORES.FAIL\n NORMAL_ACTION\n ************************************************************************/\nconst prefix = '@APP/STORES'\n\nexport const actionTypes = {\n  FETCH_STORES: makeAsyncActionsTypes(prefix, 'FETCH_STORES'),\n  FETCH_ONE_STORES: makeAsyncActionsTypes(prefix, 'FETCH_ONE_STORES'),\n  CREATE_STORES: makeAsyncActionsTypes(prefix, 'CREATE_STORES'),\n  UPDATE_STORES: makeAsyncActionsTypes(prefix, 'UPDATE_STORES'),\n  DELETE_STORES: makeAsyncActionsTypes(prefix, 'DELETE_STORES'),\n  CLOSE_MODAL: `${prefix}/CLOSE_MODAL`,\n  OPEN_MODAL: `${prefix}/OPEN_MODAL`,\n  REMOVE_ERROR: `${prefix}/REMOVE_ERROR`,\n  SET_STORES_META: `${prefix}/SET_STORES_META`,\n\n  FETCH_PHOTOS: makeAsyncActionsTypes(prefix, 'FETCH_PHOTOS'),\n  UPLOAD_PHOTOS: makeAsyncActionsTypes(prefix, 'UPLOAD_PHOTOS'),\n  DELETE_PHOTOS: makeAsyncActionsTypes(prefix, 'DELETE_PHOTOS'),\n  CLOSE_PHOTO_MODAL: `${prefix}/CLOSE_PHOTO_MODAL`,\n  OPEN_PHOTO_MODAL: `${prefix}/OPEN_PHOTO_MODAL`,\n\n  UPDATE_RETURN: makeAsyncActionsTypes(prefix, 'UPDATE_RETURN'),\n  CLOSE_RETURN_MODAL: `${prefix}/CLOSE_RETURN_MODAL`,\n  OPEN_RETURN_MODAL: `${prefix}/OPEN_RETURN_MODAL`,\n\n  UPDATE_CASH: makeAsyncActionsTypes(prefix, 'UPDATE_CASH'),\n  CLOSE_CASH_MODAL: `${prefix}/CLOSE_CASH_MODAL`,\n  OPEN_CASH_MODAL: `${prefix}/OPEN_CASH_MODAL`,\n\n  CLOSE_GIFTICON_MODAL: `${prefix}/CLOSE_GIFTICON_MODAL`,\n  OPEN_GIFTICON_MODAL: `${prefix}/OPEN_GIFTICON_MODAL`,\n\n  UPDATE_CONFIRM: makeAsyncActionsTypes(prefix, 'UPDATE_CONFIRM'),\n  UPDATE_CONFIRM2: makeAsyncActionsTypes(prefix, 'UPDATE_CONFIRM2'),\n  RESET_UNREAD_NOTICE: `${prefix}/RESET_UNREAD_NOTICE`,\n}\n\n/************************************************************************\n// 2. action creator\n\nfetchStores(payload)\nfetchStores.request(payload)\nfetchStores.success(payload)\nfetchStores.fail(payload)\nresetUser(payload)\n************************************************************************/\nexport const fetchStores = makeAsyncActionCreator(actionTypes.FETCH_STORES)\nexport const fetchOneStores = makeAsyncActionCreator(\n  actionTypes.FETCH_ONE_STORES\n)\nexport const createStores = makeAsyncActionCreator(actionTypes.CREATE_STORES)\nexport const updateStores = makeAsyncActionCreator(actionTypes.UPDATE_STORES)\nexport const deleteStores = makeAsyncActionCreator(actionTypes.DELETE_STORES)\nexport const closeModal = makeActionCreator(actionTypes.CLOSE_MODAL)\nexport const openModal = makeActionCreator(actionTypes.OPEN_MODAL)\nexport const removeError = makeActionCreator(actionTypes.REMOVE_ERROR)\nexport const setStoresMeta = makeActionCreator(actionTypes.SET_STORES_META)\n\nexport const fetchPhotos = makeAsyncActionCreator(actionTypes.FETCH_PHOTOS)\nexport const uploadPhotos = makeAsyncActionCreator(actionTypes.UPLOAD_PHOTOS)\nexport const deletePhotos = makeAsyncActionCreator(actionTypes.DELETE_PHOTOS)\nexport const closePhotoModal = makeActionCreator(actionTypes.CLOSE_PHOTO_MODAL)\nexport const openPhotoModal = makeActionCreator(actionTypes.OPEN_PHOTO_MODAL)\nexport const removePhotoError = makeActionCreator(\n  actionTypes.REMOVE_PHOTO_ERROR\n)\n\nexport const updateReturn = makeAsyncActionCreator(actionTypes.UPDATE_RETURN)\nexport const closeReturnModal = makeActionCreator(\n  actionTypes.CLOSE_RETURN_MODAL\n)\nexport const openReturnModal = makeActionCreator(actionTypes.OPEN_RETURN_MODAL)\n\nexport const updateCash = makeAsyncActionCreator(actionTypes.UPDATE_CASH)\nexport const closeCashModal = makeActionCreator(actionTypes.CLOSE_CASH_MODAL)\nexport const openCashModal = makeActionCreator(actionTypes.OPEN_CASH_MODAL)\n\nexport const closeGifticonModal = makeActionCreator(\n  actionTypes.CLOSE_GIFTICON_MODAL\n)\nexport const openGifticonModal = makeActionCreator(\n  actionTypes.OPEN_GIFTICON_MODAL\n)\n\nexport const updateConfirm = makeAsyncActionCreator(actionTypes.UPDATE_CONFIRM)\nexport const updateConfirm2 = makeAsyncActionCreator(\n  actionTypes.UPDATE_CONFIRM2\n)\nexport const resetUnreadNotice = makeActionCreator(\n  actionTypes.RESET_UNREAD_NOTICE\n)\n/***********************************************************************\n// 3. reducer\nerror format\n{\n  status: 422,\n  message: \"입력값을 확인해주세요.\",\n  errors: [\n    email: [{...}]\n  ]\n}\n\n************************************************************************/\nconst initialModalState = {\n  open: false,\n  requesting: false,\n  error: null,\n  store: null,\n}\n\nconst initialPhotoModalState = {\n  open: false,\n  requesting: false,\n  error: null,\n  photos: [],\n  store: null,\n  type: '',\n  file: null,\n}\n\nconst initialReturnModalState = {\n  open: false,\n  requesting: false,\n  error: null,\n  store: null,\n  file: null,\n}\n\nconst initiaConfirmModalState = {\n  open: false,\n  requesting: false,\n  error: null,\n  store: null,\n  file: null,\n}\n\nconst initiaConfirm2ModalState = {\n  open: false,\n  requesting: false,\n  error: null,\n  store: null,\n  file: null,\n}\nconst initialCashModalState = {\n  open: false,\n  requesting: false,\n  error: null,\n  store: null,\n  file: null,\n}\n\nconst initialGifticonModalState = {\n  open: false,\n  store: null,\n}\n\nconst initialState = {\n  loading: false,\n  error: null,\n  stores: [],\n  regions: [],\n  categories: [],\n  modal: initialModalState,\n  meta: {\n    total: 0,\n    per_page: 10,\n    current_page: 1,\n\n    page: 1,\n    payment: null,\n    return: null,\n    confirm: null,\n    confirm2: null,\n    region: null,\n    coopangId: null,\n    name: null,\n    agency: null,\n    originalAgency: null,\n  },\n  search: {},\n  pagination: { total: 0, per_page: 10, current_page: 1 },\n  unreadNotice: 0,\n  photoModal: initialPhotoModalState,\n  returnModal: initialReturnModalState,\n  cashModal: initialCashModalState,\n  confirmModal: initiaConfirmModalState,\n  confirm2Modal: initiaConfirm2ModalState,\n  gifticonModal: initialGifticonModalState,\n}\n// fds\n\nconst storesReducer = function (state = initialState, action) {\n  switch (action.type) {\n    // FETCH_STORES\n    case actionTypes.FETCH_STORES.INDEX:\n    case actionTypes.FETCH_STORES.REQUEST:\n      return produce(state, (draft) => {\n        draft.loading = true\n      })\n    case actionTypes.FETCH_STORES.SUCCESS:\n      return {\n        ...state,\n        stores: action.payload.stores.data,\n        meta: {\n          total: action.payload.stores.total,\n          per_page: action.payload.stores.per_page,\n          current_page: action.payload.stores.current_page,\n          page: action.payload.stores.current_page,\n          ...action.payload.search,\n        },\n        pagination: {\n          total: action.payload.stores.total,\n          per_page: action.payload.stores.per_page,\n          current_page: action.payload.stores.current_page,\n        },\n        search: {\n          ...action.payload.search,\n        },\n        loading: false,\n      }\n    case actionTypes.FETCH_STORES.FAIL:\n      return { ...state, loading: false, error: action.payload.error }\n\n    /**************************************************************************************************\n      가맹점 모달\n    **************************************************************************************************/\n    // FETCH_ONE_STORES\n    case actionTypes.FETCH_ONE_STORES.INDEX:\n    case actionTypes.FETCH_ONE_STORES.REQUEST:\n      return { ...state, modal: { ...state.modal, requesting: true } }\n    case actionTypes.FETCH_ONE_STORES.SUCCESS:\n      return {\n        ...state,\n        modal: {\n          ...state.modal,\n          requesting: false,\n          store: action.payload.store,\n        },\n      }\n    case actionTypes.FETCH_ONE_STORES.FAIL:\n      return {\n        ...state,\n        modal: {\n          ...state.modal,\n          requesting: false,\n          error: action.payload.error,\n        },\n      }\n\n    // CREATE_STORES\n    case actionTypes.CREATE_STORES.INDEX:\n    case actionTypes.CREATE_STORES.REQUEST:\n      return {\n        ...state,\n        modal: { ...state.modal, open: true, requesting: true },\n      }\n    case actionTypes.CREATE_STORES.SUCCESS:\n      return { ...state, modal: { ...state.modal, requesting: false } }\n    case actionTypes.CREATE_STORES.FAIL:\n      return {\n        ...state,\n        modal: {\n          ...state.modal,\n          requesting: false,\n          error: action.payload.error,\n        },\n      }\n\n    // UPDATE_STORES\n    case actionTypes.UPDATE_STORES.INDEX:\n    case actionTypes.UPDATE_STORES.REQUEST:\n      return { ...state, modal: { ...state.modal, loading: true } }\n    case actionTypes.UPDATE_STORES.SUCCESS:\n      return { ...state, modal: { ...state.modal, loading: false }, store: {} }\n    case actionTypes.UPDATE_STORES.FAIL:\n      return {\n        ...state,\n        modal: { ...state.modal, loading: false, error: action.payload.error },\n      }\n\n    // DELETE_STORES\n    case actionTypes.DELETE_STORES.INDEX:\n    case actionTypes.DELETE_STORES.REQUEST:\n      return { ...state, modal: { ...state.modal, loading: true } }\n    case actionTypes.DELETE_STORES.SUCCESS:\n      return { ...state, modal: { ...state.modal, loading: false } }\n    case actionTypes.DELETE_STORES.FAIL:\n      return {\n        ...state,\n        modal: { ...state.modal, loading: false, error: action.payload.error },\n      }\n\n    // OPEN_MODAL\n    case actionTypes.OPEN_MODAL:\n      return {\n        ...state,\n        modal: { ...state.modal, open: true, ceoId: action.payload },\n      }\n    // CLOSE_MODAL\n    case actionTypes.CLOSE_MODAL:\n      return { ...state, modal: initialModalState }\n    // REMOVE_ERROR\n    case actionTypes.REMOVE_ERROR:\n      return produce(state, (draft) => {\n        draft.modal.error.errors[action.payload.name] = undefined\n      })\n    // SET_STORES_META\n    case actionTypes.SET_STORES_META:\n      return { ...state, meta: { ...state.meta, ...action.payload } }\n\n    /**************************************************************************************************\n      사진 모달\n    **************************************************************************************************/\n    // FETCH_PHOTOS\n    case actionTypes.FETCH_PHOTOS.INDEX:\n    case actionTypes.FETCH_PHOTOS.REQUEST:\n      return { ...state, photoModal: { ...state.photoModal, requesting: true } }\n    case actionTypes.FETCH_PHOTOS.SUCCESS:\n      return {\n        ...state,\n        photoModal: {\n          ...state.photoModal,\n          requesting: false,\n          photos: action.payload.photos,\n        },\n      }\n    case actionTypes.FETCH_PHOTOS.FAIL:\n      return {\n        ...state,\n        photoModal: {\n          ...state.photoModal,\n          requesting: false,\n          error: action.payload.error,\n        },\n      }\n\n    // UPLOAD_PHOTOS\n    case actionTypes.UPLOAD_PHOTOS.INDEX:\n    case actionTypes.UPLOAD_PHOTOS.REQUEST:\n      return {\n        ...state,\n        photoModal: { ...state.photoModal, open: true, requesting: true },\n      }\n    case actionTypes.UPLOAD_PHOTOS.SUCCESS:\n      return {\n        ...state,\n        photoModal: {\n          ...state.photoModal,\n          requesting: false,\n          photos: action.payload.photos,\n        },\n      }\n    case actionTypes.UPLOAD_PHOTOS.FAIL:\n      return {\n        ...state,\n        photoModal: {\n          ...state.photoModal,\n          requesting: false,\n          error: action.payload.error,\n        },\n      }\n\n    // DELETE_PHOTOS\n    case actionTypes.DELETE_PHOTOS.INDEX:\n    case actionTypes.DELETE_PHOTOS.REQUEST:\n      return { ...state, photoModal: { ...state.photoModal, loading: true } }\n    case actionTypes.DELETE_PHOTOS.SUCCESS:\n      return {\n        ...state,\n        photoModal: {\n          ...state.photoModal,\n          loading: false,\n          photos: action.payload.photos,\n        },\n      }\n    case actionTypes.DELETE_PHOTOS.FAIL:\n      return {\n        ...state,\n        photoModal: {\n          ...state.photoModal,\n          loading: false,\n          error: action.payload.error,\n        },\n      }\n\n    // OPEN_PHOTO_MODAL\n    case actionTypes.OPEN_PHOTO_MODAL:\n      return {\n        ...state,\n        photoModal: {\n          ...state.photoModal,\n          open: true,\n          store: action.payload.store,\n          type: action.payload.type,\n        },\n      }\n    // CLOSE_PHOTO_MODAL\n    case actionTypes.CLOSE_PHOTO_MODAL:\n      return { ...state, photoModal: initialReturnModalState }\n\n    /**************************************************************************************************\n      반려 모달\n    **************************************************************************************************/\n    // UPDATE_RETURN\n    case actionTypes.UPDATE_RETURN.INDEX:\n    case actionTypes.UPDATE_RETURN.REQUEST:\n      return { ...state, returnModal: { ...state.returnModal, loading: true } }\n    case actionTypes.UPDATE_RETURN.SUCCESS:\n      return {\n        ...state,\n        returnModal: { ...state.returnModal, loading: false },\n        store: {},\n      }\n    case actionTypes.UPDATE_RETURN.FAIL:\n      return {\n        ...state,\n        returnModal: {\n          ...state.returnModal,\n          loading: false,\n          error: action.payload.error,\n        },\n      }\n    // OPEN_RETURN_MODAL\n    case actionTypes.OPEN_RETURN_MODAL:\n      return {\n        ...state,\n        returnModal: {\n          ...state.returnModal,\n          open: true,\n          store: action.payload.store,\n        },\n      }\n    // CLOSE_RETURN_MODAL\n    case actionTypes.CLOSE_RETURN_MODAL:\n      return { ...state, returnModal: initialPhotoModalState }\n\n    /**************************************************************************************************\n      충전금 모달\n    **************************************************************************************************/\n    // UPDATE_CASH\n    case actionTypes.UPDATE_CASH.INDEX:\n    case actionTypes.UPDATE_CASH.REQUEST:\n      return { ...state, cashModal: { ...state.cashModal, loading: true } }\n    case actionTypes.UPDATE_CASH.SUCCESS:\n      return {\n        ...state,\n        cashModal: { ...state.cashModal, loading: false },\n        store: {},\n      }\n    case actionTypes.UPDATE_CASH.FAIL:\n      return {\n        ...state,\n        cashModal: {\n          ...state.cashModal,\n          loading: false,\n          error: action.payload.error,\n        },\n      }\n    // OPEN_CASH_MODAL\n    case actionTypes.OPEN_CASH_MODAL:\n      return {\n        ...state,\n        cashModal: {\n          ...state.cashModal,\n          open: true,\n          store: action.payload.store,\n        },\n      }\n    // CLOSE_CASH_MODAL\n    case actionTypes.CLOSE_CASH_MODAL:\n      return { ...state, cashModal: initialCashModalState }\n\n    /**************************************************************************************************\n      gifticon 모달\n    **************************************************************************************************/\n    // OPEN_GIFTICON_MODAL\n    case actionTypes.OPEN_GIFTICON_MODAL:\n      return {\n        ...state,\n        gifticonModal: {\n          ...state.gifticonModal,\n          open: true,\n          store: action.payload.store,\n        },\n      }\n    // CLOSE_CASH_MODAL\n    case actionTypes.CLOSE_GIFTICON_MODAL:\n      return { ...state, gifticonModal: initialGifticonModalState }\n\n    /**************************************************************************************************\n      검수 모달\n    **************************************************************************************************/\n    // UPDATE_CONFIRM\n    case actionTypes.UPDATE_CONFIRM.INDEX:\n    case actionTypes.UPDATE_CONFIRM.REQUEST:\n      return {\n        ...state,\n        confirmModal: { ...state.confirmModal, loading: true },\n      }\n    case actionTypes.UPDATE_CONFIRM.SUCCESS:\n      return {\n        ...state,\n        confirmModal: { ...state.confirmModal, loading: false },\n        store: {},\n      }\n    case actionTypes.UPDATE_CONFIRM.FAIL:\n      return {\n        ...state,\n        confirmModal: {\n          ...state.confirmModal,\n          loading: false,\n          error: action.payload.error,\n        },\n      }\n    /**************************************************************************************************\n      승인 모달\n    **************************************************************************************************/\n    // UPDATE_CONFIRM\n    case actionTypes.UPDATE_CONFIRM2.INDEX:\n    case actionTypes.UPDATE_CONFIRM2.REQUEST:\n      return {\n        ...state,\n        confirm2Modal: { ...state.confirm2Modal, loading: true },\n      }\n    case actionTypes.UPDATE_CONFIRM2.SUCCESS:\n      return {\n        ...state,\n        confirm2Modal: { ...state.confirm2Modal, loading: false },\n        store: {},\n      }\n    case actionTypes.UPDATE_CONFIRM2.FAIL:\n      return {\n        ...state,\n        confirm2Modal: {\n          ...state.confirm2Modal,\n          loading: false,\n          error: action.payload.error,\n        },\n      }\n    /**************************************************************************************************\n      안읽은 공지사항 reset\n    **************************************************************************************************/\n    case actionTypes.RESET_UNREAD_NOTICE:\n      return { ...state, unreadNotice: 0 }\n    /**************************************************************************************************\n      \n    **************************************************************************************************/\n    default:\n      return state\n  }\n}\n\nexport default storesReducer\n","import React, { useEffect, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport omit from 'lodash/omit'\nimport message from 'lib/message'\nimport {\n  fetchCeos,\n  fetchOneCeos,\n  createCeos,\n  updateCeos,\n  deleteCeos,\n  openModal,\n  closeModal,\n  removeError,\n} from '../../store'\nimport queryString from 'query-string'\n\nimport Page from 'components/Common/Page'\nimport CeoForm from '../../components/CeoForm'\nimport CeoList from '../../components/CeoList'\n\nimport CashModal from '../../components/CashModal'\nimport { openCashModal, closeCashModal, updateCash } from '../../store'\n\nimport StoreForm from 'modules/stores/components/StoreForm'\nimport {\n  openModal as openStoreModal,\n  closeModal as closeStoreModal,\n  createStores,\n  updateStores,\n  deleteStores,\n  removeError as removeStoreError,\n} from 'modules/stores/store'\n\nconst CeosPage = (props) => {\n  const { history, location } = props\n\n  const dispatch = useDispatch()\n  const loading = useSelector((store) => !!store.ceos.loading)\n  const ceos = useSelector((store) => store.ceos.ceos)\n  const meta = useSelector((store) => store.ceos.meta)\n  const modal = useSelector((store) => store.ceos.modal)\n  const cashModal = useSelector((store) => store.ceos.cashModal)\n  const pagination = useSelector((store) => store.ceos.pagination)\n  const isAdmin = useSelector(\n    (store) => store.account.user && store.account.user.role === 'admin'\n  )\n\n  const storeModal = useSelector((store) => store.stores.modal)\n\n  useEffect(() => {\n    const _query = queryString.parse(location.search)\n    dispatch(fetchCeos(_query))\n  }, [dispatch, location.search])\n\n  const handleOpen = (ceo) => {\n    ceo && dispatch(fetchOneCeos(ceo))\n    dispatch(openModal())\n  }\n\n  const handlePageChange = (page) =>\n    dispatch(fetchCeos(omit({ ...meta, currentPage: page }, 'total')))\n  // const handleSearch = (search) => dispatch(fetchCeos({ ...meta, ...search }))\n\n  const handleCeoStores = (meta) => {\n    if (meta.ceo && meta.ceo === 'self') {\n      history.push(`/stores`)\n      return\n    } else {\n      const text = queryString.stringify(meta)\n      history.push(`/stores?${text}`)\n      return\n    }\n  }\n\n  const handleCashModalOpen = (ceo) => {\n    dispatch(openCashModal({ ceo: ceo }))\n  }\n\n  const handleExit = () => {\n    dispatch(fetchCeos(queryString.parse(location.search)))\n  }\n\n  const handleStoreModalOpen = (ceo) => {\n    dispatch(openStoreModal(ceo.id))\n  }\n\n  return (\n    <Page>\n      <CeoList\n        isAdmin={isAdmin}\n        loading={loading}\n        meta={meta}\n        data={ceos}\n        pagination={pagination}\n        handleOpen={handleOpen}\n        handlePageChange={handlePageChange}\n        handleCeoStores={handleCeoStores}\n        handleCashModalOpen={handleCashModalOpen}\n        handleStoreModalOpen={handleStoreModalOpen}\n      />\n      <CeoForm\n        open={modal.open}\n        requesting={modal.requesting}\n        errors={modal.error && modal.error.errors}\n        ceo={modal.ceo}\n        handleUpdate={(ceo) => dispatch(updateCeos(ceo))}\n        handleCreate={(ceo) => dispatch(createCeos(ceo))}\n        handleDelete={(ceo) => dispatch(deleteCeos(ceo))}\n        handleClose={() => dispatch(closeModal())}\n        handleExit={() => dispatch(fetchCeos(meta))}\n        removeError={(payload) => dispatch(removeError(payload))}\n      />\n      <CashModal\n        isAdmin={isAdmin}\n        modal={cashModal}\n        handleClose={() => dispatch(closeCashModal())}\n        handleExit={handleExit}\n        handleUpdate={(payload) => dispatch(updateCash(payload))}\n      />{' '}\n      <StoreForm\n        isAdmin={isAdmin}\n        open={storeModal.open}\n        requesting={storeModal.requesting}\n        ceoId={storeModal.ceoId}\n        errors={storeModal.error && storeModal.error.errors}\n        store={storeModal.store}\n        handleUpdate={(store) => dispatch(updateStores(store))}\n        handleCreate={(store) => dispatch(createStores(store))}\n        handleDelete={(store) => dispatch(deleteStores(store))}\n        handleClose={() => dispatch(closeStoreModal())}\n        handleExit={() => dispatch(fetchCeos(meta))}\n        removeError={(payload) => dispatch(removeStoreError(payload))}\n      />\n    </Page>\n  )\n}\n\nexport default CeosPage\n","import React, { useEffect, useState } from 'react'\nimport { Modal, Form, Input, Button, message } from 'antd'\nimport accountApi from 'modules/core/account/api'\n\nconst initialInputs = {\n  old_password: '',\n  new_password: '',\n  new_password_confirm: '',\n}\n\nconst PasswordModal = ({ open, handleClose }) => {\n  const [inputs, setInputs] = useState(initialInputs)\n  const [requesting, setRequesting] = useState(false)\n\n  useEffect(() => {\n    return () => {\n      setInputs(initialInputs)\n    }\n  }, [])\n\n  const handleExit = () => setInputs(initialInputs)\n\n  const handleChange = (e) => {\n    console.log(e.target.name, e.target.value)\n    setInputs({ ...inputs, [e.target.name]: e.target.value })\n  }\n\n  const handleSubmit = () => {\n    if (!inputs.old_password || !inputs.new_password || !inputs.new_password_confirm) {\n      message.error('입력사항을 모두 입력해주세요.')\n      return\n    }\n    if (inputs.new_password !== inputs.new_password_confirm) {\n      message.error('신규 비밀번호와 비밀번호 확인이 일치하지 않습니다.')\n      return\n    }\n\n    setRequesting(true)\n    accountApi\n      .password(inputs)\n      .then((response) => {\n        message.success('비밀번호가 변경되었습니다.')\n        setRequesting(false)\n        handleClose()\n      })\n      .catch((error) => {\n        message.error(error.message)\n        setRequesting(false)\n      })\n  }\n\n  const footer = [\n    <Button key=\"cancle\" onClick={handleClose} disabled={requesting}>\n      취소\n    </Button>,\n    <Button key=\"create\" type=\"primary\" onClick={handleSubmit} disabled={requesting}>\n      변경\n    </Button>,\n  ]\n\n  return (\n    <Modal width={420} title=\"비밀번호 변경\" visible={open} afterClose={handleExit} onCancel={handleClose} footer={footer} maskClosable={false}>\n      <Form>\n        <Form.Item label=\"현재 비밀번호\">\n          <Input.Password name=\"old_password\" value={inputs.old_password} onChange={handleChange} />\n        </Form.Item>\n\n        <Form.Item label=\"신규 비밀번호\">\n          <Input.Password name=\"new_password\" value={inputs.new_password} onChange={handleChange} />\n        </Form.Item>\n\n        <Form.Item label=\"비밀번호 확인\">\n          <Input.Password name=\"new_password_confirm\" value={inputs.new_password_confirm} onChange={handleChange} />\n        </Form.Item>\n      </Form>\n    </Modal>\n  )\n}\n\nexport default PasswordModal\n","import React, { useState } from 'react'\nimport { Link, Redirect } from 'react-router-dom'\nimport { Layout, Menu, Button } from 'antd'\nimport history from 'lib/history'\n\nconst { SubMenu } = Menu\n\nconst { Sider } = Layout\n\nconst getSubMenu = (route) => {\n  // console.log(route)\n  if (!route.sidebar) return null\n  return (\n    <SubMenu key={route.path} icon={route.icon} title={route.name}>\n      {route.routes.map((sub) => getMenu(sub))}\n    </SubMenu>\n  )\n}\n\nconst getMenu = (route) => {\n  if (!route.sidebar) return null\n  return (\n    <Menu.Item key={route.path} icon={route.icon}>\n      <Link to={route.path}>{route.name}</Link>\n    </Menu.Item>\n  )\n}\n\nconst AdminLayout = ({ isAuthenticated, children, handleLogout, routes }) => {\n  const [collapsed, setCollapsed] = useState(false)\n\n  const onCollapse = () => setCollapsed(!collapsed)\n\n  if (!isAuthenticated) return <Redirect to=\"/login\" />\n\n  return (\n    <Layout style={{ minHeight: '100vh' }} id=\"admin-layout\">\n      <Sider collapsible collapsed={collapsed} onCollapse={onCollapse} style={{ overflow: 'auto', height: '100vh', position: 'fixed', left: 0 }}>\n        <div className=\"logo\" />\n        <Menu theme=\"dark\" defaultSelectedKeys={[history.location.pathname]} defaultOpenKeys={['/delivery']} mode=\"inline\">\n          {routes.map((route) => (route.routes ? getSubMenu(route) : getMenu(route)))}\n          <Menu.Item>\n            <Button type=\"link\" onClick={handleLogout} style={{ color: 'yellow' }}>\n              로그아웃\n            </Button>\n          </Menu.Item>\n        </Menu>\n      </Sider>\n      <Layout className=\"site-layout\" style={{ marginLeft: collapsed ? 80 : 200 }}>\n        {children}\n      </Layout>\n    </Layout>\n  )\n}\nexport default AdminLayout\n","export default __webpack_public_path__ + \"static/media/logo.b1f686e6.png\";","import React, { useState } from 'react'\nimport { Link, Redirect, useHistory } from 'react-router-dom'\nimport { Layout, Menu, Button } from 'antd'\n// import history from 'lib/history'\nimport logoImg from './logo.png'\n\nimport { PhoneFilled } from '@ant-design/icons'\nimport PasswordModal from './PasswordModal/PasswordModal'\n\nconst { SubMenu } = Menu\n\nconst { Header } = Layout\n\nconst getSubMenu = (route, user) => {\n  // console.log(route)\n  if (!route.sidebar) return null\n  if (route.role === 'admin' && user.role !== 'admin') return null\n  return (\n    <SubMenu key={route.path} icon={route.icon} title={route.name}>\n      {route.routes.map((sub) => getMenu(sub))}\n    </SubMenu>\n  )\n}\n\nconst getMenu = (route, user) => {\n  if (!route.sidebar) return null\n  if (route.role === 'admin' && user.role !== 'admin') return null\n  if (route.path === '/agencies' && user.depth > 1) return null\n  return (\n    <Menu.Item key={route.path} icon={route.icon}>\n      <Link to={route.path}>{route.name}</Link>\n    </Menu.Item>\n  )\n}\n\nconst DefaultLayout = ({ user, children, handleLogout, routes, location }) => {\n  let history = useHistory()\n  const [passwordModalOpen, setPasswordModalOpen] = useState(false)\n\n  if (!user) return <Redirect to=\"/login\" />\n\n  const openPasswordModal = () => {\n    setPasswordModalOpen(true)\n  }\n\n  const closePasswordModal = () => {\n    setPasswordModalOpen(false)\n  }\n\n  return (\n    <Layout style={{ minHeight: '100vh', minWidth: 1400 }} id=\"default-layout\">\n      <Header>\n        <div style={{ display: 'flex' }}>\n          <div\n            style={{ color: '#e6f7ff', marginRight: 20, fontWeight: 'bold' }}\n          >\n            리뷰왕도토리맨\n          </div>\n          {/* <div className=\"logo\">\n            <img src={logoImg} alt=\"shinhan app\" style={{ height: 20 }} />\n          </div> */}\n          <Menu\n            theme=\"dark\"\n            mode=\"horizontal\"\n            selectedKeys={[history.location.pathname]}\n          >\n            {routes.map((route) =>\n              route.routes ? getSubMenu(route, user) : getMenu(route, user)\n            )}\n          </Menu>\n          {/* <div className=\"helpPhone\">\n            <PhoneFilled /> 010-0000-0000\n          </div> */}\n        </div>\n        <div className=\"account-action\">\n          {user.username}\n          <Button\n            type=\"link\"\n            onClick={() => openPasswordModal()}\n            style={{ color: '#fff2f0' }}\n          >\n            비밀번호변경\n          </Button>\n          <Button\n            type=\"link\"\n            onClick={handleLogout}\n            style={{ color: '#fff2f0' }}\n          >\n            로그아웃\n          </Button>\n        </div>\n      </Header>\n      <Layout className=\"site-layout\">{children}</Layout>\n      <PasswordModal\n        open={passwordModalOpen}\n        handleClose={closePasswordModal}\n      />\n    </Layout>\n  )\n}\nexport default DefaultLayout\n","import request from 'lib/request'\nimport axios from 'lib/request/axios'\n\nconst storesApi = {\n  fetch: (meta) => request.get('/api/stores', meta),\n  fetchOne: (store) => request.get(`/api/stores/${store.id}`),\n  create: (store) => request.post('/api/stores', store),\n  update: (store) => request.put(`/api/stores/${store.id}`, store),\n  delete: (store) => request.del(`/api/stores/${store.id}`),\n  fetchAll: (meta) =>\n    axios({ method: 'get', url: '/api/stores/all', params: meta }),\n\n  // cashChange: (store, cash, title) =>\n  //   request.post(`/api/admin/cash/stores/${store.id}/change`, {\n  //     cash: cash,\n  //     title: title,\n  //   }),\n  // storeCashes: (store) => request.get(`/api/stores/${store.id}/cash`),\n  fetchGifticons: () => request.get('/api/gifticons/simple'),\n  updateStoreGifticon: (store, inputs) =>\n    request.put(`/api/stores/${store.id}/gifticon`, inputs),\n\n  deletePayment: (payload) =>\n    request.del(`/api/stores/${payload.storeId}/payment/${payload.yearMonth}`),\n  addPayment: (payload) =>\n    request.post(`/api/stores/${payload.storeId}/payment`, {\n      yearMonth: payload.yearMonth,\n    }),\n\n  fetchStoreGifticons: (store) =>\n    request.get(`/api/stores/${store.id}/gifticons`),\n  addStoreGifticon: (store, gifticonCode) =>\n    request.post(`/api/stores/${store.id}/gifticons`, {\n      gifticonCode: gifticonCode,\n    }),\n  deleteStoreGifticon: (store, gifticonCode) =>\n    request.del(`/api/stores/${store.id}/gifticons/${gifticonCode}`),\n}\n\nexport default storesApi\n","import React from 'react'\nimport { Table, Tag, Space, Button, message, Typography } from 'antd'\nimport moment from 'moment'\n\nconst StoreList = ({\n  isAdmin,\n  loading,\n  downloading,\n  stores,\n  pagination,\n  handleOpen,\n  handlePageChange,\n  handleGifticonModalOpen,\n  handleSearch,\n}) => {\n  const handleAgencyLink = (agencyId) => handleSearch({ agency: agencyId })\n\n  const columns = [\n    {\n      title: '대리점',\n      dataIndex: 'agencyName',\n      key: 'agencyName',\n      // render: (agencyName, store) => displayAgencyName(store),\n    },\n    {\n      title: '사장님',\n      dataIndex: 'ceoName',\n      key: 'ceoName',\n      // render: (agencyName, store) => displayAgencyName(store),\n    },\n    {\n      title: '사장님충전금',\n      dataIndex: 'cash',\n      key: 'cash',\n      render: (cash, store) =>\n        cash.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ','),\n    },\n    {\n      title: '매장명',\n      dataIndex: 'name',\n      key: 'name',\n      render: (name, store) => (\n        <span style={{ fontWeight: 'bold' }}>{name}</span>\n      ),\n    },\n    { title: '휴대폰', dataIndex: 'mobile', key: 'mobile' },\n    {\n      title: '기프티콘',\n      dataIndex: 'gifticonCount',\n      key: 'gifticonCount',\n      align: 'center',\n      render: (gifticonCount) => gifticonCount,\n    },\n    {\n      title: '등록일',\n      dataIndex: 'createdAt',\n      key: 'createdAt',\n      align: 'center',\n      render: (createdAt) => (createdAt ? createdAt.substring(0, 10) : ''),\n    },\n    {\n      title: '상태',\n      dataIndex: 'active',\n      key: 'active',\n      align: 'center',\n      render: (active) =>\n        active === 'Y' ? (\n          <span style={{ color: 'green' }}>발송</span>\n        ) : (\n          <span style={{ color: 'red' }}>중지</span>\n        ),\n    },\n    {\n      title: '관리',\n      dataIndex: 'actions',\n      align: 'center',\n      key: 'actions',\n      render: (text, store) => (\n        <Space size=\"small\">\n          <Button onClick={() => handleGifticonModalOpen(store)}>\n            기프티콘\n          </Button>\n          {isAdmin && (\n            <Button danger onClick={() => handleOpen(store)}>\n              수정\n            </Button>\n          )}\n        </Space>\n      ),\n    },\n  ]\n\n  return (\n    <div>\n      <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n        <div></div>\n        <div>\n          <span style={{ fontWeight: 'bold', marginRight: 15 }}>\n            <span style={{ color: 'gray' }}>Total: </span>\n            {pagination.total.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\n          </span>\n        </div>\n      </div>\n      <Table\n        bordered\n        columns={columns}\n        dataSource={stores}\n        rowKey={(store) => store.id}\n        loading={loading}\n        pagination={{\n          current: pagination.current_page,\n          pageSize: pagination.per_page,\n          total: pagination.total,\n          onChange: handlePageChange,\n          showSizeChanger: false,\n        }}\n      />\n    </div>\n  )\n}\n\nexport default StoreList\n","import React, { useState, useEffect } from 'react'\nimport { Form, Input, Select, Button, Space } from 'antd'\nimport getYmOptions from 'lib/getYmOptions'\n\nconst initialSearch = {\n  name: '',\n}\n\nconst StoreSearch = ({ meta, handleSearch, categories }) => {\n  const [search, setSearch] = useState(initialSearch)\n\n  useEffect(() => {\n    setSearch({ ...initialSearch, ...meta })\n  }, [meta])\n\n  const handleSearchChange = (e) => {\n    // console.log(e.target.name, e.target.value)\n    setSearch({ ...search, [e.target.name]: e.target.value })\n  }\n  // const handleReturnChange = (value) => setSearch({ ...search, return: value })\n  // const handlePaymentChange = (value) =>\n  //   setSearch({ ...search, payment: value })\n  // const handleConfirmChange = (value) =>\n  //   setSearch({ ...search, confirm: value })\n  // const handleConfirm2Change = (value) =>\n  //   setSearch({ ...search, confirm2: value })\n  // const handleConfirm2MonthChange = (value) =>\n  //   setSearch({ ...search, confirm2Month: value })\n  // const handlePaymentYMChange = (value) =>\n  //   setSearch({ ...search, payYMonth: value })\n  const handleCategoryChange = (value) =>\n    setSearch({ ...search, category: value })\n\n  const handleSubmit = () => {\n    let _search = {\n      // payment: search.payment ? search.payment : undefined,\n      // return: search.return ? search.return : undefined,\n      // confirm: search.confirm ? search.confirm : undefined,\n      // confirm2: search.confirm2 ? search.confirm2 : undefined,\n      // confirm2Month: search.confirm2Month ? search.confirm2Month : undefined,\n      // companyRcode: search.companyRcode ? search.companyRcode : undefined,\n      // payYMonth: search.payYMonth ? search.payYMonth : undefined,\n      name: search.name ? search.name : undefined,\n      // category: search.category ? search.category : undefined,\n      // code: search.code ? search.code : undefined,\n    }\n\n    handleSearch(_search)\n  }\n\n  const handleReset = () => {\n    handleSearch({})\n  }\n\n  // const ymOptions = getYmOptions()\n  // const ymOptionsConfirm2 = getYmOptions('YYYY-MM')\n\n  return (\n    <Form\n      layout=\"inline\"\n      style={{ marginBottom: 16, justifyContent: 'flex-end' }}\n    >\n      {/* <Form.Item>\n        <Select\n          name=\"payment\"\n          defaultValue=\"\"\n          value={search.payment}\n          onChange={handlePaymentChange}\n          style={{ width: 150 }}\n        >\n          <Select.Option value=\"\">= 정산 선택 =</Select.Option>\n          <Select.Option value=\"Y\">정산완료</Select.Option>\n          <Select.Option value=\"N\">미정산</Select.Option>\n        </Select>\n      </Form.Item>\n      <Form.Item>\n        <Select\n          name=\"payYMonth\"\n          defaultValue=\"\"\n          value={search.payYMonth}\n          onChange={handlePaymentYMChange}\n          style={{ width: 150 }}\n        >\n          <Select.Option value=\"\">= 정산월 선택 =</Select.Option>\n          {ymOptions.map((option) => (\n            <Select.Option key={option.value} value={option.value}>\n              {option.label}\n            </Select.Option>\n          ))}\n        </Select>\n      </Form.Item>\n      <Form.Item>\n        <Select\n          name=\"return\"\n          defaultValue=\"\"\n          value={search.return}\n          onChange={handleReturnChange}\n          style={{ width: 150 }}\n        >\n          <Select.Option value=\"\">= 보완요청 선택 =</Select.Option>\n          <Select.Option value=\"none\">정상</Select.Option>\n          <Select.Option value=\"return\">보완요청</Select.Option>\n          <Select.Option value=\"done\">처리완료</Select.Option>\n        </Select>\n      </Form.Item>\n      <Form.Item>\n        <Select\n          name=\"confirm\"\n          defaultValue=\"\"\n          value={search.confirm}\n          onChange={handleConfirmChange}\n          style={{ width: 150 }}\n        >\n          <Select.Option value=\"\">= 검수 선택 =</Select.Option>\n          <Select.Option value=\"Y\">검수완료</Select.Option>\n          <Select.Option value=\"X\">검수요청</Select.Option>\n          <Select.Option value=\"N\">검수대기</Select.Option>\n        </Select>\n      </Form.Item>\n      <Form.Item>\n        <Select\n          name=\"confirm2\"\n          defaultValue=\"\"\n          value={search.confirm2}\n          onChange={handleConfirm2Change}\n          style={{ width: 150 }}\n        >\n          <Select.Option value=\"\">= 승인 선택 =</Select.Option>\n          <Select.Option value=\"Y\">승인완료</Select.Option>\n          <Select.Option value=\"N\">승인대기</Select.Option>\n        </Select>\n      </Form.Item>\n      <Form.Item>\n        <Select\n          name=\"confirm2Month\"\n          defaultValue=\"\"\n          value={search.confirm2Month}\n          onChange={handleConfirm2MonthChange}\n          style={{ width: 150 }}\n        >\n          <Select.Option value=\"\">= 승인월 선택 =</Select.Option>\n          {ymOptionsConfirm2.map((option) => (\n            <Select.Option key={option.value} value={option.value}>\n              {option.label}\n            </Select.Option>\n          ))}\n        </Select>\n      </Form.Item> */}\n\n      <Form.Item>\n        <Input\n          name=\"name\"\n          prefix={\n            <span style={{ fontWeight: 'bold', color: 'gray' }}>\n              가맹점명:{' '}\n            </span>\n          }\n          value={search.name}\n          onChange={handleSearchChange}\n          style={{ width: 200 }}\n        />\n      </Form.Item>\n      <Form.Item>\n        <Space>\n          <Button onClick={handleReset}>리셋</Button>\n          <Button type=\"primary\" onClick={handleSubmit}>\n            검색\n          </Button>\n        </Space>\n      </Form.Item>\n    </Form>\n  )\n}\n\nexport default StoreSearch\n","import React from 'react'\nimport { Button, Row, Col, Modal } from 'antd'\n\nimport { ExclamationCircleOutlined } from '@ant-design/icons'\n// function downloadImage(src) {\n//   const img = new Image()\n//   // img.crossOrigin = 'anonymous'\n//   img.crossOrigin = 'https://api.dragondotori.co.kr'\n//   img.src = src\n//   img.onload = () => {\n//     // create Canvas\n//     const canvas = document.createElement('canvas')\n//     const ctx = canvas.getContext('2d')\n//     canvas.width = img.width\n//     canvas.height = img.height\n//     ctx.drawImage(img, 0, 0)\n//     // create <a> tag\n//     const a = document.createElement('a')\n//     a.download = 'download.png'\n//     a.href = canvas.toDataURL('image/png')\n//     a.click()\n//   }\n// }\n\nconst StoreGifticon = (props) => {\n  const { gifticon, handleDelete, isAdmin } = props\n\n  const handleClick = () => {\n    Modal.confirm({\n      title: '정말로 삭제하시겠습니까?',\n      icon: <ExclamationCircleOutlined />,\n      content: '삭제하면 고객이 리뷰를 업로드할 수 없습니다.',\n      okText: '삭제',\n      cancelText: '취소',\n      onOk() {\n        handleDelete(gifticon.gifticonCode)\n      },\n    })\n  }\n\n  return (\n    <div\n      style={{\n        padding: '10px 0',\n        borderBottom: '1px solid lightgray',\n        marginBottom: 10,\n      }}\n    >\n      <Row gutter={16}>\n        <Col flex=\"0 1 100px\">\n          <img\n            alt=\"\"\n            src={process.env.REACT_APP_API_URL + gifticon.qrPath}\n            style={{ width: 100 }}\n          />\n        </Col>\n        <Col flex=\"1 1 200px\">\n          <div style={{ fontWeight: 'bold' }}>{gifticon.gifticonName}</div>\n          <div>\n            {gifticon.gifticonPrice\n              .toString()\n              .replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\n            원\n          </div>\n          <div style={{ fontSize: 10 }}>\n            <a href={gifticon.qrUrl} rel=\"noreferrer noopener\" target=\"_blank\">\n              {gifticon.qrUrl}\n            </a>\n          </div>\n          <div>\n            {gifticon.qrShortUrl}{' '}\n            {isAdmin && (\n              <span style={{ float: 'right' }}>\n                <Button danger onClick={handleClick}>\n                  삭제\n                </Button>\n              </span>\n            )}{' '}\n          </div>\n        </Col>\n      </Row>\n    </div>\n  )\n}\n\nexport default StoreGifticon\n","import React, { useState, useEffect } from 'react'\nimport { Button, Modal } from 'antd'\nimport {\n  Form,\n  Input,\n  Radio,\n  Divider,\n  Upload,\n  Row,\n  Col,\n  Space,\n  Table,\n  Descriptions,\n  Typography,\n  InputNumber,\n  Select,\n} from 'antd'\nimport { UploadOutlined } from '@ant-design/icons'\nimport getCheckedToken from 'lib/request/getCheckedToken'\nimport PhotoViewer from '../StorePhoto/PhotoViewer'\nimport storesApi from 'modules/stores/api'\nimport nl2br from 'react-nl2br'\nimport message from 'lib/message'\nimport format from 'lib/format'\n\nconst { Text, Link } = Typography\nconst { Option } = Select\n// const apiUrl = process.env.REACT_APP_API_URL\n\nconst initialCash = {\n  type: 'add',\n  cash: '',\n  title: '',\n}\n\nconst CashModal = (props) => {\n  const { isAdmin, modal, removeError, search } = props\n  const { handleClose, handleExit, handleUpdate } = props\n  const { open, requesting, errors, store } = modal\n\n  const [inputs, setInputs] = useState(initialCash)\n  const [loading, setLoading] = useState(false)\n  const [storeCashes, setStoreCashes] = useState([])\n  const [currentStore, setCurrentStore] = useState(store)\n\n  useEffect(() => {\n    if (store) fetchStoreCashes()\n    if (store) fetchStore()\n    return () => {\n      setInputs(initialCash)\n    }\n  }, [store])\n\n  const fetchStore = () => {\n    storesApi.fetchOne(store).then((response) => {\n      setCurrentStore(response.store)\n    })\n  }\n\n  const fetchStoreCashes = () => {\n    setLoading(true)\n    storesApi\n      .storeCashes(store)\n      .then((response) => {\n        setStoreCashes(response.store_cashes)\n      })\n      .finally(() => {\n        setLoading(false)\n      })\n  }\n\n  const createStoreCash = () => {\n    if (!inputs.cash) return false\n    setLoading(true)\n    storesApi\n      .cashChange(\n        store,\n        inputs.type === 'minus' ? inputs.cash * -1 : inputs.cash\n      )\n      .then((response) => {\n        message.success(\n          inputs.type === 'add' ? '충전되었습니다.' : '차감되었습니다.'\n        )\n        setInputs(initialCash)\n      })\n      .catch((error) => {\n        message.error(\n          inputs.type === 'add' ? '충전에러입니다.' : '차감에러입니다.'\n        )\n      })\n      .finally(() => {\n        fetchStoreCashes()\n        fetchStore()\n        handleExit()\n        setLoading(false)\n      })\n  }\n\n  const handleInputChange = (e) => {\n    setInputs({ ...inputs, [e.target.name]: e.target.value })\n    removeErrorWithName(errors, e.target.name)\n  }\n\n  const handleCashChange = (e) => {\n    const { value: inputValue } = e.target\n    const reg = /^-?\\d*(\\.\\d*)?$/\n\n    if (reg.test(inputValue) || inputValue === '' || inputValue === '-') {\n      setInputs({ ...inputs, cash: inputValue })\n    }\n  }\n\n  const removeErrorWithName = (errors, name) => {\n    errors && errors[name] && removeError({ name })\n  }\n\n  const footer = [\n    <Button\n      type=\"primary\"\n      key=\"cancle\"\n      onClick={() => {\n        handleClose()\n        handleExit()\n      }}\n      disabled={loading}\n    >\n      닫기\n    </Button>,\n  ]\n\n  const handleChangeCashType = (value) => setInputs({ ...inputs, type: value })\n\n  const cashInputBefore = (\n    <Select\n      value={inputs.type}\n      style={{ width: 60 }}\n      onChange={handleChangeCashType}\n    >\n      <Option value=\"add\">+</Option>\n      <Option value=\"minus\">-</Option>\n    </Select>\n  )\n\n  return (\n    currentStore && (\n      <Modal\n        title={'충전금 관리'}\n        visible={open}\n        afterClose={handleExit}\n        onCancel={handleClose}\n        footer={footer}\n        maskClosable={false}\n      >\n        <div>\n          <Descriptions\n            bordered\n            layout=\"vertical\"\n            size=\"small\"\n            style={{ marginBottom: '20px' }}\n          >\n            <Descriptions.Item label=\"매장명\">\n              <Text strong>{currentStore.name}</Text>\n            </Descriptions.Item>\n            <Descriptions.Item label=\"휴대폰\">\n              <Text strong>{currentStore.mobile}</Text>\n            </Descriptions.Item>\n            <Descriptions.Item label=\"충전금\">\n              <Text strong mark>\n                {currentStore.cash\n                  .toString()\n                  .replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\n              </Text>\n            </Descriptions.Item>\n          </Descriptions>\n          {isAdmin && (\n            <Form layout=\"vertical\">\n              <Row gutter={16}>\n                <Col span={12}>\n                  <Form.Item\n                    validateStatus={errors && errors.storeId && 'error'}\n                    help={errors && errors.storeId && errors.storeId[0]}\n                  >\n                    <Input\n                      name=\"cash\"\n                      addonBefore={cashInputBefore}\n                      addonAfter=\"원\"\n                      value={inputs.cash}\n                      onChange={handleCashChange}\n                      disabled={loading}\n                      style={{ width: '100%' }}\n                    />\n                  </Form.Item>\n                </Col>\n                <Col span={6}>\n                  <Button\n                    type=\"primary\"\n                    danger={inputs.type === 'minus'}\n                    disabled={loading}\n                    onClick={createStoreCash}\n                  >\n                    {inputs.cash\n                      ? inputs.cash\n                          .toString()\n                          .replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\n                      : 0}\n                    원 {inputs.type === 'add' ? '충전' : '차감'}\n                  </Button>\n                </Col>\n              </Row>\n            </Form>\n          )}\n          <Table\n            size=\"small\"\n            scroll={{\n              y: 240,\n            }}\n            columns={[\n              {\n                title: '날자',\n                dataIndex: 'createdAt',\n                key: 'createdAt',\n                render: (createdAt) => (\n                  <Text style={{ fontSize: 12 }}>\n                    {format.datetime(createdAt)}\n                  </Text>\n                ),\n              },\n              {\n                title: '내용',\n                dataIndex: 'title',\n                key: 'title',\n                render: (title) => (\n                  <Text style={{ fontSize: 12 }}>{title}</Text>\n                ),\n              },\n              {\n                title: '금액',\n                dataIndex: 'cash',\n                key: 'cash',\n                render: (cash) => (\n                  <Text style={{ fontSize: 12 }}>\n                    {cash.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\n                  </Text>\n                ),\n              },\n              {\n                title: '잔액',\n                dataIndex: 'storeCash',\n                key: 'storeCash',\n                render: (storeCash) => (\n                  <Text style={{ fontSize: 12 }}>\n                    {storeCash.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\n                  </Text>\n                ),\n              },\n            ]}\n            dataSource={storeCashes}\n            rowKey={(store) => store.id}\n            loading={loading}\n            pagination={false}\n          />\n        </div>\n      </Modal>\n    )\n  )\n}\n\nexport default CashModal\n","import React, { useState, useEffect } from 'react'\nimport { Button, Modal, Row, Col } from 'antd'\nimport { Form, Descriptions, Typography, Select, Switch, Card } from 'antd'\nimport {\n  CheckOutlined,\n  CloseOutlined,\n  EnvironmentFilled,\n} from '@ant-design/icons'\nimport storesApi from 'modules/stores/api'\nimport message from 'lib/message'\nimport StoreGifticon from './StoreGifticon'\n\nconst { Text, Link } = Typography\n\nconst initialGifticon = {\n  gifticonCode: null,\n  gifticonActive: 'N',\n}\n\nconst GifticonModal = (props) => {\n  const { isAdmin, modal } = props\n  const { handleClose, handleExit } = props\n  const { open, store } = modal\n\n  const [inputs, setInputs] = useState(initialGifticon)\n  const [loading, setLoading] = useState(false)\n  const [gifticons, setGifticons] = useState([])\n  const [storeGifticons, setStoreGifticons] = useState([])\n\n  useEffect(() => {\n    if (store) fetchStoreGifticons()\n    return () => {\n      setInputs(initialGifticon)\n    }\n  }, [store])\n\n  const fetchStoreGifticons = () => {\n    storesApi.fetchStoreGifticons(store).then((response) => {\n      console.log(response)\n      setStoreGifticons(response.storeGifticons)\n      setGifticons(response.gifticons)\n    })\n  }\n\n  const handleGiftconChange = (value) => {\n    setInputs({ ...inputs, gifticonCode: value })\n  }\n\n  const handleAdd = () => {\n    console.log(inputs)\n    if (!inputs.gifticonCode || !store) return null\n    storesApi\n      .addStoreGifticon(store, inputs.gifticonCode)\n      .then((response) => {\n        console.log(response)\n        message.success('추가 되었습니다.')\n        // setGifticons(response.gifticons)\n      })\n      .catch((error) => {\n        console.log(error)\n        error && error.message && message.error(error.message)\n      })\n      .finally(() => {\n        setInputs(initialGifticon)\n        fetchStoreGifticons()\n      })\n  }\n\n  const handleDelete = (gifticonCode) => {\n    storesApi\n      .deleteStoreGifticon(store, gifticonCode)\n      .then((response) => {\n        console.log(response)\n        message.success('삭제 되었습니다.')\n        // setGifticons(response.gifticons)\n      })\n      .catch((error) => {\n        console.log(error)\n        error && error.message && message.error(error.message)\n      })\n      .finally(() => {\n        setInputs(initialGifticon)\n        fetchStoreGifticons()\n      })\n  }\n\n  const footer = [\n    <Button key=\"cancle\" onClick={handleClose} disabled={loading}>\n      닫기\n    </Button>,\n  ]\n\n  return (\n    store &&\n    gifticons && (\n      <Modal\n        title={store.name + ' 상품권 관리'}\n        visible={open}\n        afterClose={handleExit}\n        onCancel={handleClose}\n        footer={footer}\n        maskClosable={false}\n      >\n        <div>\n          <Form layout=\"horizontal\">\n            <Row gutter={16}>\n              <Col flex=\"1 1 100px\">\n                <Form.Item>\n                  <Select\n                    value={inputs.gifticonCode}\n                    onChange={handleGiftconChange}\n                    disabled={!isAdmin}\n                  >\n                    <Select.Option key=\"ggggiff\" value={null}>\n                      === 상품권 선택 ===\n                    </Select.Option>\n                    {gifticons.map((item) => {\n                      return (\n                        <Select.Option\n                          key={item.code}\n                          value={item.code}\n                          disabled={storeGifticons.find(\n                            (con) => con.gifticonCode === item.code\n                          )}\n                        >\n                          {item.name} (\n                          <span style={{ color: 'blue' }}>\n                            {item.discountPrice\n                              .toString()\n                              .replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\n                            원\n                          </span>\n                          )\n                        </Select.Option>\n                      )\n                    })}\n                  </Select>\n                </Form.Item>\n              </Col>\n              <Col flex=\"0 1 20px\">\n                <Button\n                  type=\"primary\"\n                  onClick={handleAdd}\n                  disabled={!inputs.gifticonCode || !isAdmin}\n                >\n                  추가\n                </Button>\n              </Col>\n            </Row>\n          </Form>\n          <div>\n            {storeGifticons.map((con) => (\n              <StoreGifticon\n                isAdmin={isAdmin}\n                gifticon={con}\n                key={con.gifticonCode}\n                handleDelete={handleDelete}\n              />\n            ))}\n          </div>\n        </div>\n      </Modal>\n    )\n  )\n}\n\nexport default GifticonModal\n","import React, { useEffect, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport xlsx from 'xlsx'\nimport { format } from 'date-fns'\nimport storesApi from 'modules/stores/api'\nimport message from 'lib/message'\nimport queryString from 'query-string'\n\nimport {\n  fetchStores,\n  fetchOneStores,\n  createStores,\n  updateStores,\n  deleteStores,\n  openModal,\n  closeModal,\n  removeError,\n} from '../../store'\nimport {\n  fetchPhotos,\n  deletePhotos,\n  closePhotoModal,\n  openPhotoModal,\n} from '../../store'\nimport { updateConfirm, updateConfirm2 } from '../../store'\nimport { openCashModal, closeCashModal, updateCash } from '../../store'\nimport { openGifticonModal, closeGifticonModal } from '../../store'\nimport { resetUnreadNotice } from '../../store'\n\nimport Page from 'components/Common/Page'\nimport StoreForm from '../../components/StoreForm'\nimport StoreList from '../../components/StoreList'\nimport StoreSearch from '../../components/StoreSearch'\n// import StorePhoto from '../../components/StorePhoto'\n// import ReturnModal from '../../components/ReturnModal'\nimport CashModal from '../../components/CashModal'\nimport GifticonModal from '../../components/GifticonModal'\n// import getPhotoText from './getPhotoText'\n\nimport { Modal } from 'antd'\nimport { ExclamationCircleOutlined } from '@ant-design/icons'\n\nconst StoresPage = (props) => {\n  const { history, location } = props\n\n  const dispatch = useDispatch()\n  const user = useSelector((store) => store.account.user)\n  const loading = useSelector((store) => !!store.stores.loading)\n  const stores = useSelector((store) => store.stores.stores)\n  // const regions = useSelector((store) => store.stores.regions)\n  const categories = useSelector((store) => store.stores.categories)\n  const search = useSelector((store) => store.stores.search)\n  const pagination = useSelector((store) => store.stores.pagination)\n  const modal = useSelector((store) => store.stores.modal)\n  const cashModal = useSelector((store) => store.stores.cashModal)\n  const gifticonModal = useSelector((store) => store.stores.gifticonModal)\n  const isAdmin = useSelector(\n    (store) => store.account.user && store.account.user.role === 'admin'\n  )\n\n  const unreadNotice = useSelector((store) => store.stores.unreadNotice)\n\n  useEffect(() => {\n    const _query = queryString.parse(location.search)\n    dispatch(fetchStores(_query))\n  }, [dispatch, location.search])\n\n  const handleOpen = (store) => {\n    store && dispatch(fetchOneStores(store))\n    dispatch(openModal())\n  }\n\n  const reload = () => {\n    dispatch(fetchStores(queryString.parse(location.search)))\n  }\n\n  const handleClose = () => {\n    reload()\n    dispatch(closeModal())\n  }\n\n  const handleUpdate = (store) => {\n    dispatch(updateStores(store))\n    reload()\n  }\n\n  const handleCreate = (store) => {\n    dispatch(createStores(store))\n    reload()\n  }\n\n  const handleDelete = (store) => {\n    dispatch(deleteStores(store))\n    reload()\n  }\n\n  const handlePhotoModalOpen = (store, type = 'P1') => {\n    const payload = { store: store, type: type }\n    store && dispatch(fetchPhotos(payload))\n    dispatch(openPhotoModal(payload))\n  }\n\n  const handleCashModalOpen = (store) => {\n    dispatch(openCashModal({ store: store }))\n  }\n  const handleGifticonModalOpen = (store) => {\n    dispatch(openGifticonModal({ store: store }))\n  }\n\n  const handlePageChange = (page) => {\n    const _query = { ...queryString.parse(location.search), page: page }\n    history.push(`/stores?${queryString.stringify(_query)}`)\n  }\n\n  const handleSearch = (_search) => {\n    console.log(_search)\n    history.push(`/stores?${queryString.stringify(_search)}`)\n  }\n\n  const handleExit = () => {\n    reload()\n  }\n\n  const handleNoticeAlert = () => {\n    Modal.confirm({\n      title: '공지사항으로 이동하시겠습니까?',\n      icon: <ExclamationCircleOutlined />,\n      content: `읽지 않는 공지사항이 ${unreadNotice}건 있습니다. 반드시 확인해 주십시요.`,\n      okText: '이동',\n      cancelText: '취소',\n      onOk() {\n        dispatch(resetUnreadNotice())\n        history.push('/notices')\n      },\n      onCancel() {\n        dispatch(resetUnreadNotice())\n      },\n    })\n  }\n\n  const addPayment = (storeId, yearMonth) => {\n    console.log('add payment')\n    storesApi\n      .addPayment({ storeId, yearMonth })\n      .then(() => message.success('납부로 변경되었습니다.'))\n      .catch(() => message.error('변경 중 에러가 발생했습니다.'))\n      .finally(() => dispatch(fetchStores(queryString.parse(location.search))))\n  }\n\n  const deletePayment = (storeId, yearMonth) => {\n    console.log('delete payment')\n    storesApi\n      .deletePayment({ storeId, yearMonth })\n      .then(() => message.success('미납으로 변경되었습니다.'))\n      .catch(() => message.error('변경 중 에러가 발생했습니다.'))\n      .finally(() => dispatch(fetchStores(queryString.parse(location.search))))\n  }\n\n  const handleChangePayment = (storeId, yearMonth, isPayed) => {\n    if (isPayed) {\n      deletePayment(storeId, yearMonth)\n    } else {\n      addPayment(storeId, yearMonth)\n    }\n  }\n\n  const handleCloseGifticonModal = () => {\n    dispatch(fetchStores(queryString.parse(location.search)))\n    dispatch(closeGifticonModal())\n  }\n\n  useEffect(() => {\n    unreadNotice > 0 && handleNoticeAlert()\n  }, [unreadNotice])\n\n  return (\n    <Page>\n      <StoreSearch\n        meta={search}\n        categories={categories}\n        handleSearch={handleSearch}\n      />\n      <StoreList\n        isAdmin={isAdmin}\n        loading={loading}\n        stores={stores}\n        pagination={pagination}\n        handleOpen={handleOpen}\n        handlePageChange={handlePageChange}\n        handleGifticonModalOpen={handleGifticonModalOpen}\n        handleSearch={handleSearch}\n        handleChangePayment={handleChangePayment}\n      />\n\n      <StoreForm\n        isAdmin={isAdmin}\n        open={modal.open}\n        requesting={modal.requesting}\n        errors={modal.error && modal.error.errors}\n        store={modal.store}\n        // regions={regions}\n        categories={categories}\n        handleUpdate={handleUpdate}\n        handleCreate={handleCreate}\n        handleDelete={handleDelete}\n        handleClose={handleClose}\n        // handleExit={handleExit}\n        removeError={(payload) => dispatch(removeError(payload))}\n      />\n      {/* <CashModal\n        isAdmin={isAdmin}\n        modal={cashModal}\n        handleClose={() => dispatch(closeCashModal())}\n        handleExit={handleExit}\n        handleUpdate={(payload) => dispatch(updateCash(payload))}\n      /> */}\n      <GifticonModal\n        isAdmin={isAdmin}\n        modal={gifticonModal}\n        handleClose={handleCloseGifticonModal}\n        handleExit={handleExit}\n      />\n    </Page>\n  )\n}\n\nexport default StoresPage\n","import request from 'lib/request'\n\nconst api = {\n  fetch: (meta) => request.get(`/api/reviews`, meta),\n  sendGifticon: (review) => request.post(`/api/reviews/${review.id}/send`),\n  resendGifticon: (review) => request.post(`/api/reviews/${review.id}/resend`),\n  cancelGifticon: (review) => request.post(`/api/reviews/${review.id}/cancel`),\n}\n\nexport default api\n","import React, { useState, useEffect } from 'react'\nimport {\n  Button,\n  Row,\n  Col,\n  Input,\n  Divider,\n  Spin,\n  Table,\n  Space,\n  Image,\n  Modal,\n  message,\n} from 'antd'\nimport moment from 'moment'\nimport 'moment/locale/ko'\nimport api from '../../api'\nimport format from 'lib/format'\nimport { FileImageTwoTone, ExclamationCircleOutlined } from '@ant-design/icons'\n\nconst apiUrl = process.env.REACT_APP_API_URL\n\nconst initialPreview = {\n  src: null,\n  visible: false,\n}\n\nconst ReviewList = (props) => {\n  const [loading, setLoading] = useState(false)\n  const [reviews, setReviews] = useState([])\n  const [pagination, setPagenation] = useState(null)\n  const [preview, setPreview] = useState(initialPreview)\n\n  useEffect(() => {\n    fetch({})\n  }, [])\n\n  const fetch = (meta) => {\n    setLoading(true)\n    api\n      .fetch(meta)\n      .then((response) => {\n        console.log(response)\n        setReviews(response.data)\n        setPagenation({\n          page: response.current_page,\n          total: response.total,\n          lastPage: response.last_page,\n          perPage: response.per_page,\n        })\n      })\n      .catch((error) => {\n        console.log(error)\n      })\n      .finally(() => {\n        setLoading(false)\n      })\n  }\n\n  const handlePageChange = (page) => {\n    fetch({ page })\n  }\n\n  const handleSend = (review) => {\n    console.log(review)\n    Modal.confirm({\n      title: '상품권을 발송하시겠습니까?',\n      icon: <ExclamationCircleOutlined />,\n      okText: '발송',\n      cancelText: '취소',\n      onOk: () => {\n        api\n          .sendGifticon(review)\n          .then(() => {\n            message.success('발송하였습니다.')\n          })\n          .catch((error) => {\n            error.message && message.error(error.message)\n          })\n          .finally(() => {\n            fetch({})\n          })\n      },\n      onCancel: () => {\n        console.log('취소!')\n      },\n    })\n  }\n\n  const handleResend = (review) => {\n    console.log(review)\n    Modal.confirm({\n      title: '상품권을 재발송하시겠습니까?',\n      icon: <ExclamationCircleOutlined />,\n      okText: '재발송하기',\n      cancelText: '창닫기',\n      onOk: () => {\n        api\n          .resendGifticon(review)\n          .then(() => {\n            message.success('재발송하였습니다.')\n          })\n          .catch((error) => {\n            error.message && message.error(error.message)\n          })\n          .finally(() => {\n            fetch({})\n          })\n      },\n      onCancel: () => {\n        console.log('창닫기!')\n      },\n    })\n  }\n\n  const handleCancel = (review) => {\n    console.log(review)\n    Modal.confirm({\n      title: '상품권을 취소하시겠습니까?',\n      content: (\n        <div>\n          상품권을 취소하면 다시 발송할 수가 없습니다.\n          <br />꼭 필요한 경우만 사용하시길 바랍니다.\n        </div>\n      ),\n      icon: <ExclamationCircleOutlined />,\n      okText: '발송취소하기',\n      cancelText: '창닫기',\n      onOk: () => {\n        api\n          .cancelGifticon(review)\n          .then(() => {\n            message.success('취소하였습니다.')\n          })\n          .catch((error) => {\n            error.message && message.error(error.message)\n          })\n          .finally(() => {\n            fetch({})\n          })\n      },\n      onCancel: () => {\n        console.log('창닫기!')\n      },\n    })\n  }\n\n  const columns = [\n    {\n      title: '대리점',\n      dataIndex: 'agencyName',\n      key: 'agencyName',\n    },\n    {\n      title: '사장님',\n      dataIndex: 'ceoName',\n      key: 'ceoName',\n    },\n    {\n      title: '매장',\n      dataIndex: 'storeName',\n      key: 'storeName',\n      render: (storeName, review) => {\n        return (\n          <span style={{ color: review.storeActive === 'N' && 'red' }}>\n            <span>{storeName}</span>\n            {review.storeActive === 'Y' ? (\n              <span style={{ color: 'green' }}>(발송)</span>\n            ) : (\n              <span style={{ color: 'red' }}>(중지)</span>\n            )}\n          </span>\n        )\n      },\n    },\n    {\n      title: '고객',\n      dataIndex: 'mobile',\n      key: 'mobile',\n      render: (mobile) => format.phone(mobile),\n    },\n    {\n      title: '상품권',\n      dataIndex: 'gifticonName',\n      key: 'gifticonName',\n      render: (gifticonName, review) => (\n        <span>\n          {gifticonName} ( {review.gifticonPrice}원 )\n        </span>\n      ),\n    },\n    {\n      title: '적립금',\n      dataIndex: 'ceoCash',\n      key: 'ceoCash',\n      render: (ceoCash, review) => {\n        const cashNum = ceoCash\n          ? ceoCash.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\n          : 0\n        return <span>{cashNum}원</span>\n      },\n    },\n    {\n      title: '사진',\n      dataIndex: 'image',\n      key: 'image',\n      align: 'center',\n      render: (image) => (\n        <span\n          style={{ fontSize: 24, cursor: 'pointer' }}\n          onClick={() =>\n            setPreview({ ...preview, src: apiUrl + image, visible: true })\n          }\n        >\n          <FileImageTwoTone />\n        </span>\n      ),\n    },\n    {\n      title: '생성일',\n      dataIndex: 'createdAt',\n      key: 'createdAt',\n      align: 'center',\n      // render: (date) => format.date(date),\n    },\n    {\n      title: '상태',\n      dataIndex: 'done',\n      key: 'done',\n      align: 'center',\n      render: (done) => {\n        let color\n        if (done === 'Y') color = 'green'\n        if (done === 'N') color = 'red'\n        if (done === 'C') color = 'gray'\n        if (done === 'E') color = 'blue'\n\n        return (\n          <span style={{ color: color }}>\n            {done === 'Y' && '발송'}\n            {done === 'N' && '대기'}\n            {done === 'C' && '취소'}\n            {done === 'E' && '에러'}\n          </span>\n        )\n      },\n    },\n    {\n      title: 'Action',\n      dataIndex: 'actions',\n      key: 'actions',\n      align: 'center',\n      render: (value, review) => {\n        if (review.done === 'Y') {\n          return (\n            <Space>\n              <Button danger onClick={() => handleCancel(review)}>\n                취소\n              </Button>\n              <Button onClick={() => handleResend(review)}>재발송</Button>\n            </Space>\n          )\n        }\n\n        if (review.done === 'C') {\n          return <Space></Space>\n        }\n\n        return (\n          <Button type=\"primary\" onClick={() => handleSend(review)}>\n            발송\n          </Button>\n        )\n      },\n    },\n  ]\n\n  console.log(preview)\n\n  return (\n    <div>\n      {reviews && pagination && (\n        <Table\n          loading={loading}\n          className=\"ceosTable\"\n          columns={columns}\n          dataSource={reviews}\n          rowKey={(review) => review.id}\n          bordered\n          rowClassName={(ceo) => (ceo.active ? 'active-ceo' : '')}\n          pagination={{\n            current: pagination.current_page,\n            pageSize: pagination.per_page,\n            total: pagination.total,\n            onChange: handlePageChange,\n            showSizeChanger: false,\n          }}\n        />\n      )}\n      <Image\n        src={preview.src}\n        style={{ display: 'none' }}\n        preview={{\n          visible: preview.visible,\n          src: preview.src,\n          onVisibleChange: (value) => {\n            setPreview({\n              ...preview,\n              visible: value,\n              src: value === false ? null : preview.src,\n            })\n          },\n        }}\n      />\n    </div>\n  )\n}\n\nexport default ReviewList\n","import request from 'lib/request'\nimport axios from 'lib/request/axios'\n\nconst api = {\n  fetch: (meta) => request.get(`api/gifticons`, meta),\n  update: (gifticonCode, active) =>\n    request.put(`api/gifticons/${gifticonCode}`, { active: active }),\n}\n\nexport default api\n","import React, { useState, useEffect } from 'react'\nimport { Table, Form, Input, Select, Button, Space } from 'antd'\n\nconst initialSearch = {\n  name: '',\n  active: '',\n}\n\nconst GifticonList = (props) => {\n  const { loading, gifticons, updateGifticon } = props\n\n  const [search, setSearch] = useState(initialSearch)\n  const [results, setResults] = useState([])\n\n  useEffect(() => {\n    handleSearch(gifticons)\n  }, [gifticons])\n\n  const handleInputChange = (e) => {\n    setSearch({ ...search, [e.target.name]: e.target.value })\n  }\n\n  const handleActiveChange = (value) => setSearch({ ...search, active: value })\n\n  const handleSearch = () => {\n    setResults(\n      gifticons\n        .filter((gifticon) => {\n          if (!search.active) return gifticon\n          if (search.active && search.active === gifticon.active)\n            return gifticon\n        })\n        .filter((gifticon) => {\n          if (!search.name) return gifticon\n          if (gifticon.name.includes(search.name)) return gifticon\n        })\n    )\n  }\n\n  const columns = [\n    { title: '상품명', dataIndex: 'name' },\n    { title: '브랜드', dataIndex: 'brand' },\n    { title: '가격', dataIndex: 'price' },\n    { title: '상태', dataIndex: 'state' },\n    {\n      title: '노출',\n      dataIndex: 'active',\n      render: (active, gifticon) =>\n        active === 'Y' ? (\n          <Button\n            type=\"primary\"\n            onClick={() => updateGifticon(gifticon.code, 'N')}\n          >\n            노출중\n          </Button>\n        ) : (\n          <Button\n            type=\"primary\"\n            danger\n            onClick={() => updateGifticon(gifticon.code, 'Y')}\n          >\n            미노출\n          </Button>\n        ),\n    },\n  ]\n\n  return (\n    <div>\n      <div>\n        <Form\n          layout=\"inline\"\n          style={{ marginBottom: 16, justifyContent: 'flex-end' }}\n        >\n          <Form.Item>\n            <Select\n              name=\"active\"\n              defaultValue=\"\"\n              value={search.active}\n              onChange={handleActiveChange}\n              style={{ width: 150 }}\n            >\n              <Select.Option value=\"\">= 노출 선택 =</Select.Option>\n              <Select.Option value=\"Y\">노출중</Select.Option>\n              <Select.Option value=\"N\">미노출</Select.Option>\n            </Select>\n          </Form.Item>\n          <Form.Item>\n            <Input\n              name=\"name\"\n              prefix={\n                <span style={{ fontWeight: 'bold', color: 'gray' }}>\n                  이름:{' '}\n                </span>\n              }\n              value={search.name}\n              onChange={handleInputChange}\n              style={{ width: 200 }}\n            />\n          </Form.Item>\n          <Button onClick={handleSearch}>검색</Button>\n        </Form>\n      </div>\n      <Table\n        columns={columns}\n        dataSource={results}\n        rowKey={(gifticon) => gifticon.id}\n        loading={loading}\n      />\n    </div>\n  )\n}\n\nexport default GifticonList\n","import React, { useEffect, useState } from 'react'\nimport Page from 'components/Common/Page'\nimport api from '../../api'\nimport message from 'lib/message.js'\n\nimport GifticonList from '../../components/GifticonList'\n\nconst initialGifticons = []\nconst ReviewsPage = (props) => {\n  const [loading, setLoading] = useState(false)\n  const [gifticons, setGifticons] = useState(initialGifticons)\n\n  useEffect(() => {\n    fetchGifticons()\n  }, [])\n\n  const fetchGifticons = () => {\n    setLoading(true)\n    api\n      .fetch({})\n      .then((response) => {\n        console.log(response)\n        setGifticons(response.gifticons)\n      })\n      .finally(() => {\n        setLoading(false)\n      })\n  }\n\n  const updateGifticon = (gifticonCode, active) => {\n    setLoading(true)\n    api\n      .update(gifticonCode, active)\n      .then((response) => {\n        message.success('변경되었습니다')\n        console.log(response)\n      })\n      .catch((error) => {\n        message.error('변경중 에러가 발생했습니다')\n        console.log(error)\n      })\n      .finally(() => {\n        fetchGifticons()\n        setLoading(false)\n      })\n  }\n\n  return (\n    <Page>\n      <GifticonList\n        gifticons={gifticons}\n        loading={loading}\n        updateGifticon={updateGifticon}\n      />\n      {/* <GiftishowSample /> */}\n    </Page>\n  )\n}\n\nexport default ReviewsPage\n","import React, { useEffect } from 'react'\nimport { Button } from 'antd'\n\nconst StoreServicePolicy = (props) => {\n  useEffect(() => {\n    const htmlTitle = document.querySelector('title')\n    htmlTitle.innerText = '서비스 약관'\n  }, [])\n\n  return (\n    <div>\n      <Button>StoreServicePolicy</Button>\n    </div>\n  )\n}\n\nexport default StoreServicePolicy\n","import React from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { Route, Switch, Redirect } from 'react-router-dom'\nimport { AppLoader } from 'modules/core/app'\nimport { logout } from 'modules/core/account/store'\nimport history from 'lib/history'\n\n// core modules routes\nimport { LoginPage } from 'modules/core/account'\nimport { AgenciesPage } from 'modules/core/agencies'\nimport { CeosPage } from 'modules/core/ceos'\nimport { DefaultLayout } from 'modules/core/layout'\nimport { StoresPage } from 'modules/stores'\nimport ReviewsPage from 'modules/reviews/containers/ReviewsPage'\nimport GifticonsPage from 'modules/gifticons/containers/GifticonsPage'\n// GUEST\nimport StoreServicePolicy from 'modules/pages/StoreServicePolicy'\n\nconst adminRoutes = [\n  {\n    name: '상품권 관리',\n    sidebar: true,\n    path: '/gifticons',\n    exact: false,\n    component: GifticonsPage,\n    role: 'admin',\n  },\n  {\n    name: '대리점 관리',\n    sidebar: true,\n    path: '/agencies',\n    exact: true,\n    component: AgenciesPage,\n    role: 'admin',\n  },\n  {\n    name: '사장님 관리',\n    sidebar: true,\n    path: '/ceos',\n    exact: true,\n    component: CeosPage,\n  },\n  {\n    name: '매장 관리',\n    sidebar: true,\n    path: '/stores',\n    exact: false,\n    component: StoresPage,\n  },\n  {\n    name: '리뷰 관리',\n    sidebar: true,\n    path: '/reviews',\n    exact: false,\n    component: ReviewsPage,\n    role: 'admin',\n  },\n  // {\n  //   name: '등록현황',\n  //   sidebar: true,\n  //   path: '/stats',\n  //   exact: true,\n  //   component: StatsContainer,\n  //   role: 'admin',\n  // },\n]\n\nconst sooRoutes = []\n\nconst Routes = (props) => {\n  const loaded = useSelector((store) => store.app.loaded)\n  const dispatch = useDispatch()\n  const user = useSelector((store) => store.account.user)\n  const handleLogout = () => {\n    dispatch(logout())\n    history.push('/login')\n  }\n\n  function getRoutes(routes) {\n    return routes.map((route) => {\n      if (route.routes) {\n        return route.routes.map((sub) => (\n          <Route\n            key={sub.path}\n            path={sub.path}\n            exact={sub.exact}\n            component={sub.component}\n          />\n        ))\n      }\n\n      return (\n        <Route\n          key={route.path}\n          path={route.path}\n          exact={route.exact}\n          component={route.component}\n        />\n      )\n    })\n  }\n\n  if (!loaded) return <AppLoader />\n\n  const fixedAdminRoutes = (routes) =>\n    user && user.loginId === 'soo' ? [...adminRoutes, ...routes] : adminRoutes\n\n  return (\n    <>\n      <Switch>\n        <Route path=\"/\" exact render={() => <Redirect to=\"/stores\" />} />\n        <Route path=\"/login\" exact component={LoginPage} />\n        <Route\n          path=\"/policy/store/service\"\n          exact\n          component={StoreServicePolicy}\n        />\n        <DefaultLayout\n          user={user}\n          handleLogout={handleLogout}\n          routes={fixedAdminRoutes(sooRoutes)}\n        >\n          {getRoutes(fixedAdminRoutes(sooRoutes))}\n        </DefaultLayout>\n        <Route path=\"*\" render={() => <Redirect to=\"/stores\" />} />\n      </Switch>\n    </>\n  )\n}\n\nexport default Routes\n","import React, { useEffect, useState } from 'react'\nimport Page from 'components/Common/Page'\nimport ReviewList from 'modules/reviews/components/ReviewList'\nimport ReviewSearch from 'modules/reviews/components/ReviewSearch'\n\nconst ReviewsPage = (props) => {\n  const [search, setSearch] = useState({})\n\n  const handleSearch = (_search) => {\n    console.log(_search)\n  }\n\n  return (\n    <Page>\n      {/* <ReviewSearch search={search} handleSearch={handleSearch} /> */}\n      <ReviewList search={search} handleSearch={handleSearch} />\n    </Page>\n  )\n}\n\nexport default ReviewsPage\n","import { takeEvery, all } from 'redux-saga/effects'\nimport { unSetToken } from './store'\n// import { removeToken } from 'lib/token'\nimport { removeToken, removeRemember } from 'lib/token'\n\nimport { actionTypes as accountTypes } from 'modules/core/account/store'\nimport { setAuthHeader } from 'lib/request/axios'\n\nfunction resetToken() {\n  unSetToken()\n  removeToken()\n  removeRemember()\n  setAuthHeader(undefined)\n}\n\nexport default function* clientSaga() {\n  yield all([takeEvery(accountTypes.LOGOUT, resetToken)])\n}\n","import { call, all, put, takeLatest } from 'redux-saga/effects'\nimport history from 'lib/history'\nimport { actionTypes as accountTypes } from './store'\nimport { login, tokenLogin, join } from './store'\nimport api from './api'\nimport { setAuthHeader } from 'lib/request/axios'\nimport { setToken as setTokenAction, setLoaded } from 'modules/core/app/store'\nimport { setToken, removeToken, getRemember, setRemember } from 'lib/token'\nimport message from 'lib/message'\n\nconst { TOKEN_LOGIN, LOGIN, JOIN } = accountTypes\n// 추가 에러 처리\nfunction errorHandler(error) {}\n\nfunction* loginSaga(action) {\n  // console.log(action)\n  yield put(login.request())\n  try {\n    const payload = action.payload\n    // console.log(payload)\n    const result = yield call(api.login, payload)\n    // console.log(result)\n    setToken(result.user.token)\n    payload.remember && setRemember()\n    setAuthHeader(result.user.token)\n    yield put(login.success(result))\n    yield put(setTokenAction({ token: result.user.token }))\n    history.push('/')\n  } catch (error) {\n    message.error('인증정보가 일치하지 않습니다.')\n    const failAction = login.fail({ error })\n    yield call(errorHandler, failAction)\n    yield put(failAction)\n  }\n}\n\nfunction* tokenLoignSaga(action) {\n  yield put(tokenLogin.request())\n  try {\n    const remember = getRemember()\n    // console.log(remember)\n    const result = yield call(api.getUser, remember)\n    // console.log(result)\n    // yield put(setTokenAction({ token: result.user.token }))\n    // setToken(result.user.token)\n    // setAuthHeader(result.user.token)\n    yield put(tokenLogin.success(result))\n  } catch (error) {\n    // console.error(error)\n    if (error && error.status === 401) {\n      removeToken()\n    }\n    yield put(tokenLogin.fail({ error }))\n    yield put(setLoaded())\n  }\n}\n\nfunction* joinSaga(action) {\n  // console.log(action)\n  yield put(join.request())\n  try {\n    const payload = action.payload\n    const result = yield call(api.join, payload)\n    // console.log(result)\n    yield put(join.success(result))\n    yield put(setTokenAction({ token: result.user.token }))\n    setToken(result.user.token)\n    history.push('/')\n  } catch (error) {\n    // console.error(error)\n    const failAction = login.fail({ error })\n    yield call(errorHandler, failAction)\n    yield put(failAction)\n  }\n}\n\nexport default function* accountSagas() {\n  yield all([\n    takeLatest(LOGIN.INDEX, loginSaga),\n    takeLatest(TOKEN_LOGIN.INDEX, tokenLoignSaga),\n    takeLatest(JOIN.INDEX, joinSaga),\n  ])\n}\n","import request from 'lib/request'\n\nconst agenciesApi = {\n  fetch: (meta) => request.get('/api/agencies', meta),\n  fetchOne: (agency) => request.get(`/api/agencies/${agency.id}`),\n  create: (agency) => request.post('/api/agencies', agency),\n  update: (agency) => request.put(`/api/agencies/${agency.id}`, agency),\n  delete: (agency) => request.del(`/api/agencies/${agency.id}`),\n}\n\nexport default agenciesApi\n","import { call, put } from 'redux-saga/effects'\nimport history from 'lib/history'\n\nfunction errorHandler(failAction) {\n  const error = failAction.payload.error\n  // console.log(error)\n  if (error.status === 401) {\n    history.push('/login')\n  }\n  // if (error.status === 403) {\n  //   history.push('/')\n  // }\n  // if (error.status === 404) {\n  //   history.push('/')\n  // }\n  // if (error.status === 500) {\n  //   history.push('/')\n  // }\n  // if (failAction.payload.error && failAction.payload.error.message) {\n  //   const payload = {\n  //     message: failAction.payload.error.message,\n  //     severity: 'error',\n  //   }\n  //   // yield put(clientActions.openToast(payload))\n  // }\n  // // yield call openToast(\"error\");\n  // yield call(tttt)\n}\n\nexport default function* apiSaga(api, asyncAction, options) {\n  yield put(asyncAction.request())\n  try {\n    const payload = options && options.apiPayload\n    const result = yield call(api, payload)\n    yield put(asyncAction.success(result))\n    return true\n  } catch (error) {\n    console.log(error)\n    const failAction = asyncAction.fail({ error })\n    yield call(errorHandler, failAction)\n    yield put(failAction)\n    return false\n  }\n}\n","import { takeLatest, takeEvery, all, call, put } from 'redux-saga/effects'\nimport { actionTypes } from './store'\nimport {\n  fetchAgencies,\n  createAgencies,\n  fetchOneAgencies,\n  updateAgencies,\n  deleteAgencies,\n  closeModal,\n} from './store'\nimport api from './api'\nimport apiSaga from 'lib/saga/apiSaga'\nimport message from 'lib/message'\n\nconst {\n  FETCH_AGENCIES,\n  CREATE_AGENCIES,\n  FETCH_ONE_AGENCIES,\n  UPDATE_AGENCIES,\n  DELETE_AGENCIES,\n} = actionTypes\n\n// 1. fetch\nexport function* fetchAgenciesSaga(action) {\n  yield call(apiSaga, api.fetch, fetchAgencies, { apiPayload: action.payload })\n}\n\n// 2. create\nexport function* createAgenciesSaga(action) {\n  const success = yield call(apiSaga, api.create, createAgencies, {\n    apiPayload: action.payload,\n  })\n  if (success) {\n    yield put(closeModal())\n    message.success('대리점이 생성되었습니다.')\n  } else {\n    message.error('입력내용을 확인해주세요')\n  }\n}\n\n// 3. fetchOne\nexport function* fetchOneAgenciesSaga(action) {\n  yield call(apiSaga, api.fetchOne, fetchOneAgencies, {\n    apiPayload: action.payload,\n  })\n}\n\n// 4. update\nexport function* updateAgenciesSaga(action) {\n  const success = yield call(apiSaga, api.update, updateAgencies, {\n    apiPayload: action.payload,\n  })\n  if (success) {\n    yield put(closeModal())\n    message.success('대리점이 수정되었습니다.')\n  } else {\n    message.error('입력내용을 확인해주세요')\n  }\n}\n\n// 5. delete\nexport function* deleteAgenciesSaga(action) {\n  const success = yield call(apiSaga, api.delete, deleteAgencies, {\n    apiPayload: action.payload,\n  })\n  if (success) {\n    yield put(closeModal())\n    message.success('대리점이 삭제되었습니다.')\n  } else {\n    message.error('삭제중 에러가 발생했습니다.')\n  }\n}\n\nexport default function* agenciesSagas() {\n  yield all([\n    takeEvery(FETCH_AGENCIES.INDEX, fetchAgenciesSaga),\n    takeLatest(CREATE_AGENCIES.INDEX, createAgenciesSaga),\n    takeEvery(FETCH_ONE_AGENCIES.INDEX, fetchOneAgenciesSaga),\n    takeLatest(UPDATE_AGENCIES.INDEX, updateAgenciesSaga),\n    takeLatest(DELETE_AGENCIES.INDEX, deleteAgenciesSaga),\n  ])\n}\n","import { takeLatest, takeEvery, all, call, put } from 'redux-saga/effects'\nimport { actionTypes } from './store'\nimport {\n  fetchCeos,\n  createCeos,\n  fetchOneCeos,\n  updateCeos,\n  deleteCeos,\n  closeModal,\n} from './store'\nimport api from './api'\nimport apiSaga from 'lib/saga/apiSaga'\nimport message from 'lib/message'\n\nconst { FETCH_CEOS, CREATE_CEOS, FETCH_ONE_CEOS, UPDATE_CEOS, DELETE_CEOS } =\n  actionTypes\n\n// 1. fetch\nexport function* fetchCeosSaga(action) {\n  yield call(apiSaga, api.fetch, fetchCeos, { apiPayload: action.payload })\n}\n\n// 2. create\nexport function* createCeosSaga(action) {\n  const success = yield call(apiSaga, api.create, createCeos, {\n    apiPayload: action.payload,\n  })\n  if (success) {\n    yield put(closeModal())\n    message.success('사장님계정이 생성되었습니다.')\n  } else {\n    message.error('입력내용을 확인해주세요')\n  }\n}\n\n// 3. fetchOne\nexport function* fetchOneCeosSaga(action) {\n  yield call(apiSaga, api.fetchOne, fetchOneCeos, {\n    apiPayload: action.payload,\n  })\n}\n\n// 4. update\nexport function* updateCeosSaga(action) {\n  const success = yield call(apiSaga, api.update, updateCeos, {\n    apiPayload: action.payload,\n  })\n  if (success) {\n    yield put(closeModal())\n    message.success('사장님계정이 수정되었습니다.')\n  } else {\n    message.error('입력내용을 확인해주세요')\n  }\n}\n\n// 5. delete\nexport function* deleteCeosSaga(action) {\n  const success = yield call(apiSaga, api.delete, deleteCeos, {\n    apiPayload: action.payload,\n  })\n  if (success) {\n    yield put(closeModal())\n    message.success('사장님계정이 삭제되었습니다.')\n  } else {\n    message.error('삭제중 에러가 발생했습니다.')\n  }\n}\n\nexport default function* ceosSagas() {\n  yield all([\n    takeEvery(FETCH_CEOS.INDEX, fetchCeosSaga),\n    takeLatest(CREATE_CEOS.INDEX, createCeosSaga),\n    takeEvery(FETCH_ONE_CEOS.INDEX, fetchOneCeosSaga),\n    takeLatest(UPDATE_CEOS.INDEX, updateCeosSaga),\n    takeLatest(DELETE_CEOS.INDEX, deleteCeosSaga),\n  ])\n}\n","import { all } from 'redux-saga/effects'\nimport appSagas from './app/sagas'\nimport accountSagas from './account/sagas'\nimport agenciesSagas from './agencies/sagas'\nimport ceosSagas from './ceos/sagas'\n\nimport app from './app/store'\nimport account from './account/store'\nimport agencies from './agencies/store'\nimport ceos from './ceos/store'\n\nconst reducers = {\n  app,\n  account,\n  agencies,\n  ceos,\n}\n\nfunction* sagas() {\n  yield all([appSagas(), accountSagas(), agenciesSagas(), ceosSagas()])\n}\n\nexport { reducers, sagas }\n","import { combineReducers } from 'redux'\nimport { reducers as coreReducers } from 'modules/core'\nimport stores from 'modules/stores/store'\n\nconst rootReducer = combineReducers({\n  ...coreReducers,\n  stores,\n})\n\nexport default rootReducer\n","import { takeLatest, takeEvery, all, call, put } from 'redux-saga/effects'\nimport { actionTypes } from './store'\nimport {\n  fetchStores,\n  createStores,\n  fetchOneStores,\n  updateStores,\n  deleteStores,\n  closeModal,\n  fetchPhotos,\n  deletePhotos,\n  updateReturn,\n  updateConfirm,\n  updateConfirm2,\n  closeReturnModal,\n} from './store'\nimport api from './api'\nimport apiSaga from 'lib/saga/apiSaga'\nimport message from 'lib/message'\n\nconst {\n  FETCH_STORES,\n  CREATE_STORES,\n  FETCH_ONE_STORES,\n  UPDATE_STORES,\n  DELETE_STORES,\n  FETCH_PHOTOS,\n  DELETE_PHOTOS,\n  UPDATE_RETURN,\n  UPDATE_CONFIRM,\n  UPDATE_CONFIRM2,\n} = actionTypes\n\n/**************************************************************************************************\n  가맹점 모달\n**************************************************************************************************/\n// 1. fetch\nexport function* fetchStoresSaga(action) {\n  yield call(apiSaga, api.fetch, fetchStores, { apiPayload: action.payload })\n}\n\n// 2. create\nexport function* createStoresSaga(action) {\n  const success = yield call(apiSaga, api.create, createStores, {\n    apiPayload: action.payload,\n  })\n  if (success) {\n    yield put(closeModal())\n    message.success('가맹점이 생성되었습니다.')\n  } else {\n    message.error('입력내용을 확인해주세요')\n  }\n}\n\n// 3. fetchOne\nexport function* fetchOneStoresSaga(action) {\n  yield call(apiSaga, api.fetchOne, fetchOneStores, {\n    apiPayload: action.payload,\n  })\n}\n\n// 4. update\nexport function* updateStoresSaga(action) {\n  const success = yield call(apiSaga, api.update, updateStores, {\n    apiPayload: action.payload,\n  })\n  if (success) {\n    yield put(closeModal())\n    message.success('가맹점이 수정되었습니다.')\n  } else {\n    message.error('입력내용을 확인해주세요')\n  }\n}\n\n// 5. delete\nexport function* deleteStoresSaga(action) {\n  const success = yield call(apiSaga, api.delete, deleteStores, {\n    apiPayload: action.payload,\n  })\n  if (success) {\n    yield put(closeModal())\n    message.success('가맹점이 삭제되었습니다.')\n  } else {\n    message.error('삭제중 에러가 발생했습니다.')\n  }\n}\n/**************************************************************************************************\n  사진 모달\n**************************************************************************************************/\n// 21. fetch\nexport function* fetchPhotosSaga(action) {\n  yield call(apiSaga, api.photoFetch, fetchPhotos, {\n    apiPayload: action.payload,\n  })\n}\n\nexport function* deletePhotosSaga(action) {\n  const success = yield call(apiSaga, api.photoDelete, deletePhotos, {\n    apiPayload: action.payload,\n  })\n  if (success) {\n    // yield put(closeModal())\n    message.success('사진이 삭제되었습니다.')\n  } else {\n    message.error('삭제중 에러가 발생했습니다.')\n  }\n}\n/**************************************************************************************************\n  반려 모달\n**************************************************************************************************/\nexport function* updateReturnSaga(action) {\n  const success = yield call(apiSaga, api.updateReturn, updateReturn, {\n    apiPayload: action.payload,\n  })\n  if (success) {\n    yield put(closeReturnModal())\n    message.success('수정되었습니다.')\n    yield put(fetchStores(action.payload.search))\n  } else {\n    message.error('입력내용을 확인해주세요')\n  }\n}\n\n/**************************************************************************************************\n  검수 모달\n**************************************************************************************************/\nexport function* updateConfirmSaga(action) {\n  const success = yield call(apiSaga, api.updateConfirm, updateConfirm, {\n    apiPayload: action.payload,\n  })\n  if (success) {\n    message.success('변경되었습니다.')\n    yield put(fetchStores(action.payload.search))\n  } else {\n    message.error('변경되지 않았습니다.')\n  }\n}\n\n/**************************************************************************************************\n  승인 모달\n**************************************************************************************************/\nexport function* updateConfirm2Saga(action) {\n  const success = yield call(apiSaga, api.updateConfirm2, updateConfirm2, {\n    apiPayload: action.payload,\n  })\n  if (success) {\n    message.success('변경되었습니다.')\n    yield put(fetchStores(action.payload.search))\n  } else {\n    message.error('변경되지 않았습니다.')\n  }\n}\n\nexport default function* storesSagas() {\n  yield all([\n    takeEvery(FETCH_STORES.INDEX, fetchStoresSaga),\n    takeLatest(CREATE_STORES.INDEX, createStoresSaga),\n    takeEvery(FETCH_ONE_STORES.INDEX, fetchOneStoresSaga),\n    takeLatest(UPDATE_STORES.INDEX, updateStoresSaga),\n    takeLatest(DELETE_STORES.INDEX, deleteStoresSaga),\n\n    takeEvery(FETCH_PHOTOS.INDEX, fetchPhotosSaga),\n    takeLatest(DELETE_PHOTOS.INDEX, deletePhotosSaga),\n\n    takeLatest(UPDATE_RETURN.INDEX, updateReturnSaga),\n\n    takeLatest(UPDATE_CONFIRM.INDEX, updateConfirmSaga),\n    takeLatest(UPDATE_CONFIRM2.INDEX, updateConfirm2Saga),\n  ])\n}\n","import { all } from 'redux-saga/effects'\nimport { sagas as coreSagas } from 'modules/core'\nimport storesSagas from 'modules/stores/sagas'\n\nexport default function* rootSaga() {\n  yield all([coreSagas(), storesSagas()])\n  // yield all([coreSagas()])\n}\n\n// How to Handle Multiple Sagas in Redux Saga https://www.youtube.com/watch?v=fEjevUGH4BU\n","import { createStore, applyMiddleware, compose } from 'redux'\nimport createSagaMiddleware from 'redux-saga'\nimport rootReducer from './rootReducer'\nimport rootSaga from './rootSaga'\n\nconst sagaMiddleware = createSagaMiddleware()\n/*eslint-disable */\nconst composeSetup =\n  process.env.NODE_ENV !== 'production' && typeof window === 'object' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n    ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n    : compose\n/*eslint-enable */\n// console.log(\"process.env.NODE_ENV:\" + process.env.NODE_ENV);\nconst store = createStore(rootReducer, composeSetup(applyMiddleware(sagaMiddleware)))\n\n// console.log(\"store..........\");\n// rootSaga 시작\nsagaMiddleware.run(rootSaga)\n\nexport default store\n","import React from 'react'\nimport { Provider } from 'react-redux'\n// import { BrowserRouter as Router } from 'react-router-dom'\nimport { Router } from 'react-router-dom'\nimport history from 'lib/history'\n\nimport Routes from './Routes'\nimport store from './store'\n\nimport 'antd/dist/antd.css'\nimport 'antd-button-color/dist/css/style.css'\nimport './app.css'\n\nfunction App() {\n  return (\n    <Provider store={store}>\n      <Router history={history}>\n        <Routes />\n      </Router>\n    </Provider>\n  )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}